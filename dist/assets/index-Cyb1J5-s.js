function c_(l,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in l)){const c=Object.getOwnPropertyDescriptor(a,u);c&&Object.defineProperty(l,u,c.get?c:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function h_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function va(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var s=function a(){var u=!1;try{u=this instanceof a}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(a){var u=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(s,a,u.get?u:{enumerable:!0,get:function(){return l[a]}})}),s}var Lc={exports:{}},ra={};var Cg;function f_(){if(Cg)return ra;Cg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(a,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var p in u)p!=="key"&&(c[p]=u[p])}else c=u;return u=c.ref,{$$typeof:l,type:a,key:f,ref:u!==void 0?u:null,props:c}}return ra.Fragment=n,ra.jsx=s,ra.jsxs=s,ra}var jg;function d_(){return jg||(jg=1,Lc.exports=f_()),Lc.exports}var b=d_(),Hc={exports:{}},he={};var xg;function p_(){if(xg)return he;xg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function D(O,H,X){this.props=O,this.context=H,this.refs=k,this.updater=X||w}D.prototype.isReactComponent={},D.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=D.prototype;function B(O,H,X){this.props=O,this.context=H,this.refs=k,this.updater=X||w}var P=B.prototype=new G;P.constructor=B,R(P,D.prototype),P.isPureReactComponent=!0;var J=Array.isArray;function V(){}var $={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function fe(O,H,X){var ee=X.ref;return{$$typeof:l,type:O,key:H,ref:ee!==void 0?ee:null,props:X}}function ye(O,H){return fe(O.type,H,O.props)}function _e(O){return typeof O=="object"&&O!==null&&O.$$typeof===l}function Le(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return H[X]})}var Oe=/\/+/g;function nt(O,H){return typeof O=="object"&&O!==null&&O.key!=null?Le(""+O.key):H.toString(36)}function Qe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(V,V):(O.status="pending",O.then(function(H){O.status==="pending"&&(O.status="fulfilled",O.value=H)},function(H){O.status==="pending"&&(O.status="rejected",O.reason=H)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function M(O,H,X,ee,re){var ge=typeof O;(ge==="undefined"||ge==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(ge){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case l:case n:Re=!0;break;case m:return Re=O._init,M(Re(O._payload),H,X,ee,re)}}if(Re)return re=re(O),Re=ee===""?"."+nt(O,0):ee,J(re)?(X="",Re!=null&&(X=Re.replace(Oe,"$&/")+"/"),M(re,H,X,"",function(Qn){return Qn})):re!=null&&(_e(re)&&(re=ye(re,X+(re.key==null||O&&O.key===re.key?"":(""+re.key).replace(Oe,"$&/")+"/")+Re)),H.push(re)),1;Re=0;var He=ee===""?".":ee+":";if(J(O))for(var Pe=0;Pe<O.length;Pe++)ee=O[Pe],ge=He+nt(ee,Pe),Re+=M(ee,H,X,ge,re);else if(Pe=E(O),typeof Pe=="function")for(O=Pe.call(O),Pe=0;!(ee=O.next()).done;)ee=ee.value,ge=He+nt(ee,Pe++),Re+=M(ee,H,X,ge,re);else if(ge==="object"){if(typeof O.then=="function")return M(Qe(O),H,X,ee,re);throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Y(O,H,X){if(O==null)return O;var ee=[],re=0;return M(O,ee,"","",function(ge){return H.call(X,ge,re++)}),ee}function ie(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ee={map:Y,forEach:function(O,H,X){Y(O,function(){H.apply(this,arguments)},X)},count:function(O){var H=0;return Y(O,function(){H++}),H},toArray:function(O){return Y(O,function(H){return H})||[]},only:function(O){if(!_e(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return he.Activity=S,he.Children=Ee,he.Component=D,he.Fragment=s,he.Profiler=u,he.PureComponent=B,he.StrictMode=a,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,he.__COMPILER_RUNTIME={__proto__:null,c:function(O){return $.H.useMemoCache(O)}},he.cache=function(O){return function(){return O.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(O,H,X){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ee=R({},O.props),re=O.key;if(H!=null)for(ge in H.key!==void 0&&(re=""+H.key),H)!ue.call(H,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&H.ref===void 0||(ee[ge]=H[ge]);var ge=arguments.length-2;if(ge===1)ee.children=X;else if(1<ge){for(var Re=Array(ge),He=0;He<ge;He++)Re[He]=arguments[He+2];ee.children=Re}return fe(O.type,re,ee)},he.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},he.createElement=function(O,H,X){var ee,re={},ge=null;if(H!=null)for(ee in H.key!==void 0&&(ge=""+H.key),H)ue.call(H,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(re[ee]=H[ee]);var Re=arguments.length-2;if(Re===1)re.children=X;else if(1<Re){for(var He=Array(Re),Pe=0;Pe<Re;Pe++)He[Pe]=arguments[Pe+2];re.children=He}if(O&&O.defaultProps)for(ee in Re=O.defaultProps,Re)re[ee]===void 0&&(re[ee]=Re[ee]);return fe(O,ge,re)},he.createRef=function(){return{current:null}},he.forwardRef=function(O){return{$$typeof:p,render:O}},he.isValidElement=_e,he.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:ie}},he.memo=function(O,H){return{$$typeof:y,type:O,compare:H===void 0?null:H}},he.startTransition=function(O){var H=$.T,X={};$.T=X;try{var ee=O(),re=$.S;re!==null&&re(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(V,ce)}catch(ge){ce(ge)}finally{H!==null&&X.types!==null&&(H.types=X.types),$.T=H}},he.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},he.use=function(O){return $.H.use(O)},he.useActionState=function(O,H,X){return $.H.useActionState(O,H,X)},he.useCallback=function(O,H){return $.H.useCallback(O,H)},he.useContext=function(O){return $.H.useContext(O)},he.useDebugValue=function(){},he.useDeferredValue=function(O,H){return $.H.useDeferredValue(O,H)},he.useEffect=function(O,H){return $.H.useEffect(O,H)},he.useEffectEvent=function(O){return $.H.useEffectEvent(O)},he.useId=function(){return $.H.useId()},he.useImperativeHandle=function(O,H,X){return $.H.useImperativeHandle(O,H,X)},he.useInsertionEffect=function(O,H){return $.H.useInsertionEffect(O,H)},he.useLayoutEffect=function(O,H){return $.H.useLayoutEffect(O,H)},he.useMemo=function(O,H){return $.H.useMemo(O,H)},he.useOptimistic=function(O,H){return $.H.useOptimistic(O,H)},he.useReducer=function(O,H,X){return $.H.useReducer(O,H,X)},he.useRef=function(O){return $.H.useRef(O)},he.useState=function(O){return $.H.useState(O)},he.useSyncExternalStore=function(O,H,X){return $.H.useSyncExternalStore(O,H,X)},he.useTransition=function(){return $.H.useTransition()},he.version="19.2.1",he}var Ng;function Rh(){return Ng||(Ng=1,Hc.exports=p_()),Hc.exports}var Z=Rh(),$c={exports:{}},aa={},Vc={exports:{}},Gc={};var Dg;function g_(){return Dg||(Dg=1,(function(l){function n(M,Y){var ie=M.length;M.push(Y);e:for(;0<ie;){var ce=ie-1>>>1,Ee=M[ce];if(0<u(Ee,Y))M[ce]=Y,M[ie]=Ee,ie=ce;else break e}}function s(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var Y=M[0],ie=M.pop();if(ie!==Y){M[0]=ie;e:for(var ce=0,Ee=M.length,O=Ee>>>1;ce<O;){var H=2*(ce+1)-1,X=M[H],ee=H+1,re=M[ee];if(0>u(X,ie))ee<Ee&&0>u(re,X)?(M[ce]=re,M[ee]=ie,ce=ee):(M[ce]=X,M[H]=ie,ce=H);else if(ee<Ee&&0>u(re,ie))M[ce]=re,M[ee]=ie,ce=ee;else break e}}return Y}function u(M,Y){var ie=M.sortIndex-Y.sortIndex;return ie!==0?ie:M.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();l.unstable_now=function(){return f.now()-p}}var g=[],y=[],m=1,S=null,_=3,E=!1,w=!1,R=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function P(M){for(var Y=s(y);Y!==null;){if(Y.callback===null)a(y);else if(Y.startTime<=M)a(y),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=s(y)}}function J(M){if(R=!1,P(M),!w)if(s(g)!==null)w=!0,V||(V=!0,Le());else{var Y=s(y);Y!==null&&Qe(J,Y.startTime-M)}}var V=!1,$=-1,ue=5,fe=-1;function ye(){return k?!0:!(l.unstable_now()-fe<ue)}function _e(){if(k=!1,V){var M=l.unstable_now();fe=M;var Y=!0;try{e:{w=!1,R&&(R=!1,G($),$=-1),E=!0;var ie=_;try{t:{for(P(M),S=s(g);S!==null&&!(S.expirationTime>M&&ye());){var ce=S.callback;if(typeof ce=="function"){S.callback=null,_=S.priorityLevel;var Ee=ce(S.expirationTime<=M);if(M=l.unstable_now(),typeof Ee=="function"){S.callback=Ee,P(M),Y=!0;break t}S===s(g)&&a(g),P(M)}else a(g);S=s(g)}if(S!==null)Y=!0;else{var O=s(y);O!==null&&Qe(J,O.startTime-M),Y=!1}}break e}finally{S=null,_=ie,E=!1}Y=void 0}}finally{Y?Le():V=!1}}}var Le;if(typeof B=="function")Le=function(){B(_e)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,nt=Oe.port2;Oe.port1.onmessage=_e,Le=function(){nt.postMessage(null)}}else Le=function(){D(_e,0)};function Qe(M,Y){$=D(function(){M(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(M){M.callback=null},l.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<M?Math.floor(1e3/M):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(M){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var ie=_;_=Y;try{return M()}finally{_=ie}},l.unstable_requestPaint=function(){k=!0},l.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ie=_;_=M;try{return Y()}finally{_=ie}},l.unstable_scheduleCallback=function(M,Y,ie){var ce=l.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ce+ie:ce):ie=ce,M){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ie+Ee,M={id:m++,callback:Y,priorityLevel:M,startTime:ie,expirationTime:Ee,sortIndex:-1},ie>ce?(M.sortIndex=ie,n(y,M),s(g)===null&&M===s(y)&&(R?(G($),$=-1):R=!0,Qe(J,ie-ce))):(M.sortIndex=Ee,n(g,M),w||E||(w=!0,V||(V=!0,Le()))),M},l.unstable_shouldYield=ye,l.unstable_wrapCallback=function(M){var Y=_;return function(){var ie=_;_=Y;try{return M.apply(this,arguments)}finally{_=ie}}}})(Gc)),Gc}var Ug;function y_(){return Ug||(Ug=1,Vc.exports=g_()),Vc.exports}var Pc={exports:{}},Ot={};var Mg;function m_(){if(Mg)return Ot;Mg=1;var l=Rh();function n(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)y+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(g,y,m){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:g,containerInfo:y,implementation:m}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ot.createPortal=function(g,y){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(g,y,null,m)},Ot.flushSync=function(g){var y=f.T,m=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=m,a.d.f()}},Ot.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},Ot.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Ot.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var m=y.as,S=p(m,y.crossOrigin),_=typeof y.integrity=="string"?y.integrity:void 0,E=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;m==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:E}):m==="script"&&a.d.X(g,{crossOrigin:S,integrity:_,fetchPriority:E,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ot.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var m=p(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},Ot.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var m=y.as,S=p(m,y.crossOrigin);a.d.L(g,m,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ot.preloadModule=function(g,y){if(typeof g=="string")if(y){var m=p(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},Ot.requestFormReset=function(g){a.d.r(g)},Ot.unstable_batchedUpdates=function(g,y){return g(y)},Ot.useFormState=function(g,y,m){return f.H.useFormState(g,y,m)},Ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ot.version="19.2.1",Ot}var Bg;function v_(){if(Bg)return Pc.exports;Bg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Pc.exports=m_(),Pc.exports}var zg;function __(){if(zg)return aa;zg=1;var l=y_(),n=Rh(),s=v_();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var h=o.alternate;if(h===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===i)return g(o),e;if(h===r)return g(o),t;h=h.sibling}throw Error(a(188))}if(i.return!==r.return)i=o,r=h;else{for(var d=!1,v=o.child;v;){if(v===i){d=!0,i=o,r=h;break}if(v===r){d=!0,r=o,i=h;break}v=v.sibling}if(!d){for(v=h.child;v;){if(v===i){d=!0,i=h,r=o;break}if(v===r){d=!0,r=h,i=o;break}v=v.sibling}if(!d)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case D:return"Profiler";case k:return"StrictMode";case J:return"Suspense";case V:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case B:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:nt(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return nt(e(t))}catch{}}return null}var Qe=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ce=[],Ee=-1;function O(e){return{current:e}}function H(e){0>Ee||(e.current=ce[Ee],ce[Ee]=null,Ee--)}function X(e,t){Ee++,ce[Ee]=e.current,e.current=t}var ee=O(null),re=O(null),ge=O(null),Re=O(null);function He(e,t){switch(X(ge,t),X(re,e),X(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fp(t),e=Wp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(ee),X(ee,e)}function Pe(){H(ee),H(re),H(ge)}function Qn(e){e.memoizedState!==null&&X(Re,e);var t=ee.current,i=Wp(t,e.type);t!==i&&(X(re,e),X(ee,i))}function as(e){re.current===e&&(H(ee),H(re)),Re.current===e&&(H(Re),ta._currentValue=ie)}var lr,or;function un(e){if(lr===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);lr=t&&t[1]||"",or=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+e+or}var ur=!1;function ki(e,t){if(!e||ur)return"";ur=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(U){var N=U}Reflect.construct(e,[],L)}else{try{L.call()}catch(U){N=U}e.call(L.prototype)}}else{try{throw Error()}catch(U){N=U}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(U){if(U&&N&&typeof U.stack=="string")return[U.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),d=h[0],v=h[1];if(d&&v){var T=d.split(`
`),x=v.split(`
`);for(o=r=0;r<T.length&&!T[r].includes("DetermineComponentFrameRoot");)r++;for(;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;if(r===T.length||o===x.length)for(r=T.length-1,o=x.length-1;1<=r&&0<=o&&T[r]!==x[o];)o--;for(;1<=r&&0<=o;r--,o--)if(T[r]!==x[o]){if(r!==1||o!==1)do if(r--,o--,0>o||T[r]!==x[o]){var z=`
`+T[r].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=r&&0<=o);break}}}finally{ur=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?un(i):""}function Sa(e,t){switch(e.tag){case 26:case 27:case 5:return un(e.type);case 16:return un("Lazy");case 13:return e.child!==t&&t!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return ki(e.type,!1);case 11:return ki(e.type.render,!1);case 1:return ki(e.type,!0);case 31:return un("Activity");default:return""}}function ls(e){try{var t="",i=null;do t+=Sa(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var cr=Object.prototype.hasOwnProperty,os=l.unstable_scheduleCallback,us=l.unstable_cancelCallback,hr=l.unstable_shouldYield,Ro=l.unstable_requestPaint,At=l.unstable_now,wa=l.unstable_getCurrentPriorityLevel,cs=l.unstable_ImmediatePriority,hs=l.unstable_UserBlockingPriority,fs=l.unstable_NormalPriority,ko=l.unstable_LowPriority,Ea=l.unstable_IdlePriority,fr=l.log,Co=l.unstable_setDisableYieldValue,Ci=null,kt=null;function Xt(e){if(typeof fr=="function"&&Co(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Ci,e)}catch{}}var Ct=Math.clz32?Math.clz32:ji,xt=Math.log,mt=Math.LN2;function ji(e){return e>>>=0,e===0?32:31-(xt(e)/mt|0)|0}var Ne=256,xi=262144,Zn=4194304;function Tn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ds(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~h,r!==0?o=Tn(r):(d&=v,d!==0?o=Tn(d):i||(i=v&~e,i!==0&&(o=Tn(i))))):(v=r&~h,v!==0?o=Tn(v):d!==0?o=Tn(d):i||(i=r&~e,i!==0&&(o=Tn(i)))),o===0?0:t!==0&&t!==o&&(t&h)===0&&(h=o&-o,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:o}function Ni(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dr(){var e=Zn;return Zn<<=1,(Zn&62914560)===0&&(Zn=4194304),e}function pr(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Di(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xo(e,t,i,r,o,h){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,x=e.hiddenUpdates;for(i=d&~i;0<i;){var z=31-Ct(i),L=1<<z;v[z]=0,T[z]=-1;var N=x[z];if(N!==null)for(x[z]=null,z=0;z<N.length;z++){var U=N[z];U!==null&&(U.lane&=-536870913)}i&=~L}r!==0&&Ta(e,r,0),h!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=h&~(d&~t))}function Ta(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ct(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function ps(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Ct(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function Aa(e,t){var i=t&-t;return i=(i&42)!==0?1:gr(i),(i&(e.suspendedLanes|t))!==0?0:i}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oa(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:wg(e.type))}function Ra(e,t){var i=Y.p;try{return Y.p=e,t()}finally{Y.p=i}}var I=Math.random().toString(36).slice(2),Q="__reactFiber$"+I,K="__reactProps$"+I,be="__reactContainer$"+I,Ze="__reactEvents$"+I,Ke="__reactListeners$"+I,gt="__reactHandles$"+I,Fe="__reactResources$"+I,We="__reactMarker$"+I;function it(e){delete e[Q],delete e[K],delete e[Ze],delete e[Ke],delete e[gt]}function st(e){var t=e[Q];if(t)return t;for(var i=e.parentNode;i;){if(t=i[be]||i[Q]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ag(e);e!==null;){if(i=e[Q])return i;e=ag(e)}return t}e=i,i=e.parentNode}return null}function $e(e){if(e=e[Q]||e[be]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Jt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function An(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function je(e){e[We]=!0}var mr=new Set,Qt={};function On(e,t){Fn(e,t),Fn(e+"Capture",t)}function Fn(e,t){for(Qt[e]=t,e=0;e<t.length;e++)mr.add(t[e])}var Wn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rn={},Ui={};function ka(e){return cr.call(Ui,e)?!0:cr.call(Rn,e)?!1:Wn.test(e)?Ui[e]=!0:(Rn[e]=!0,!1)}function Mi(e,t,i){if(ka(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ca(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function kn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iv(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){i=""+d,h.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function No(e){if(!e._valueTracker){var t=Gh(e)?"checked":"value";e._valueTracker=iv(e,t,""+e[t])}}function Ph(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Gh(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sv=/[\n"\\]/g;function Ft(e){return e.replace(sv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Do(e,t,i,r,o,h,d,v){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Uo(e,d,Zt(t)):i!=null?Uo(e,d,Zt(i)):r!=null&&e.removeAttribute("value"),o==null&&h!=null&&(e.defaultChecked=!!h),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Zt(v):e.removeAttribute("name")}function Yh(e,t,i,r,o,h,d,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){No(e);return}i=i!=null?""+Zt(i):"",t=t!=null?""+Zt(t):i,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),No(e)}function Uo(e,t,i){t==="number"&&ja(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function gs(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Zt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ih(e,t,i){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Zt(i):""}function Kh(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(a(92));if(Qe(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Zt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),No(e)}function ys(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var rv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xh(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||rv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Jh(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&Xh(e,o,r)}else for(var h in t)t.hasOwnProperty(h)&&Xh(e,h,t[h])}function Mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(e){return lv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Bo=null;function zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,vs=null;function Qh(e){var t=$e(e);if(t&&(e=t.stateNode)){var i=e[K]||null;e:switch(e=t.stateNode,t.type){case"input":if(Do(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[K]||null;if(!o)throw Error(a(90));Do(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Ph(r)}break e;case"textarea":Ih(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&gs(e,!!i.multiple,t,!1)}}}var qo=!1;function Zh(e,t,i){if(qo)return e(t,i);qo=!0;try{var r=e(t);return r}finally{if(qo=!1,(ms!==null||vs!==null)&&(vl(),ms&&(t=ms,e=vs,vs=ms=null,Qh(t),e)))for(t=0;t<e.length;t++)Qh(e[t])}}function vr(e,t){var i=e.stateNode;if(i===null)return null;var r=i[K]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=!1;if(jn)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Lo=!1}var ei=null,Ho=null,Na=null;function Fh(){if(Na)return Na;var e,t=Ho,i=t.length,r,o="value"in ei?ei.value:ei.textContent,h=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(r=1;r<=d&&t[i-r]===o[h-r];r++);return Na=o.slice(e,1<r?1-r:void 0)}function Da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function Wh(){return!1}function Nt(e){function t(i,r,o,h,d){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=h,this.target=d,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ua:Wh,this.isPropagationStopped=Wh,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),t}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Nt(Bi),br=S({},Bi,{view:0,detail:0}),ov=Nt(br),$o,Vo,Sr,Ba=S({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sr&&(Sr&&e.type==="mousemove"?($o=e.screenX-Sr.screenX,Vo=e.screenY-Sr.screenY):Vo=$o=0,Sr=e),$o)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),ef=Nt(Ba),uv=S({},Ba,{dataTransfer:0}),cv=Nt(uv),hv=S({},br,{relatedTarget:0}),Go=Nt(hv),fv=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),dv=Nt(fv),pv=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gv=Nt(pv),yv=S({},Bi,{data:0}),tf=Nt(yv),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_v[e])?!!t[e]:!1}function Po(){return bv}var Sv=S({},br,{key:function(e){if(e.key){var t=mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return e.type==="keypress"?Da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wv=Nt(Sv),Ev=S({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=Nt(Ev),Tv=S({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),Av=Nt(Tv),Ov=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Nt(Ov),kv=S({},Ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=Nt(kv),jv=S({},Bi,{newState:0,oldState:0}),xv=Nt(jv),Nv=[9,13,27,32],Yo=jn&&"CompositionEvent"in window,wr=null;jn&&"documentMode"in document&&(wr=document.documentMode);var Dv=jn&&"TextEvent"in window&&!wr,sf=jn&&(!Yo||wr&&8<wr&&11>=wr),rf=" ",af=!1;function lf(e,t){switch(e){case"keyup":return Nv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function Uv(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(af=!0,rf);case"textInput":return e=t.data,e===rf&&af?null:e;default:return null}}function Mv(e,t){if(_s)return e==="compositionend"||!Yo&&lf(e,t)?(e=Fh(),Na=Ho=ei=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sf&&t.locale!=="ko"?null:t.data;default:return null}}var Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bv[e.type]:t==="textarea"}function cf(e,t,i,r){ms?vs?vs.push(r):vs=[r]:ms=r,t=Al(t,"onChange"),0<t.length&&(i=new Ma("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Er=null,Tr=null;function zv(e){Ip(e,0)}function za(e){var t=Jt(e);if(Ph(t))return e}function hf(e,t){if(e==="change")return t}var ff=!1;if(jn){var Io;if(jn){var Ko="oninput"in document;if(!Ko){var df=document.createElement("div");df.setAttribute("oninput","return;"),Ko=typeof df.oninput=="function"}Io=Ko}else Io=!1;ff=Io&&(!document.documentMode||9<document.documentMode)}function pf(){Er&&(Er.detachEvent("onpropertychange",gf),Tr=Er=null)}function gf(e){if(e.propertyName==="value"&&za(Tr)){var t=[];cf(t,Tr,e,zo(e)),Zh(zv,t)}}function qv(e,t,i){e==="focusin"?(pf(),Er=t,Tr=i,Er.attachEvent("onpropertychange",gf)):e==="focusout"&&pf()}function Lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(Tr)}function Hv(e,t){if(e==="click")return za(t)}function $v(e,t){if(e==="input"||e==="change")return za(t)}function Vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Vv;function Ar(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!cr.call(t,o)||!Ht(e[o],t[o]))return!1}return!0}function yf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mf(e,t){var i=yf(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=yf(i)}}function vf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _f(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ja(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ja(e.document)}return t}function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gv=jn&&"documentMode"in document&&11>=document.documentMode,bs=null,Jo=null,Or=null,Qo=!1;function bf(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Qo||bs==null||bs!==ja(r)||(r=bs,"selectionStart"in r&&Xo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&Ar(Or,r)||(Or=r,r=Al(Jo,"onSelect"),0<r.length&&(t=new Ma("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=bs)))}function zi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ss={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},Zo={},Sf={};jn&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function qi(e){if(Zo[e])return Zo[e];if(!Ss[e])return e;var t=Ss[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Sf)return Zo[e]=t[i];return e}var wf=qi("animationend"),Ef=qi("animationiteration"),Tf=qi("animationstart"),Pv=qi("transitionrun"),Yv=qi("transitionstart"),Iv=qi("transitioncancel"),Af=qi("transitionend"),Of=new Map,Fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fo.push("scrollEnd");function cn(e,t){Of.set(e,t),On(t,[e])}var qa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],ws=0,Wo=0;function La(){for(var e=ws,t=Wo=ws=0;t<e;){var i=Wt[t];Wt[t++]=null;var r=Wt[t];Wt[t++]=null;var o=Wt[t];Wt[t++]=null;var h=Wt[t];if(Wt[t++]=null,r!==null&&o!==null){var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}h!==0&&Rf(i,o,h)}}function Ha(e,t,i,r){Wt[ws++]=e,Wt[ws++]=t,Wt[ws++]=i,Wt[ws++]=r,Wo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function eu(e,t,i,r){return Ha(e,t,i,r),$a(e)}function Li(e,t){return Ha(e,null,null,t),$a(e)}function Rf(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,h=e.return;h!==null;)h.childLanes|=i,r=h.alternate,r!==null&&(r.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(o=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,o&&t!==null&&(o=31-Ct(i),e=h.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),h):null}function $a(e){if(50<Xr)throw Xr=0,uc=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Es={};function Kv(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,i,r){return new Kv(e,t,i,r)}function tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,t){var i=e.alternate;return i===null?(i=$t(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function kf(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Va(e,t,i,r,o,h){var d=0;if(r=e,typeof e=="function")tu(e)&&(d=1);else if(typeof e=="string")d=F0(e,i,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=$t(31,i,t,o),e.elementType=fe,e.lanes=h,e;case R:return Hi(i.children,o,h,t);case k:d=8,o|=24;break;case D:return e=$t(12,i,t,o|2),e.elementType=D,e.lanes=h,e;case J:return e=$t(13,i,t,o),e.elementType=J,e.lanes=h,e;case V:return e=$t(19,i,t,o),e.elementType=V,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:d=10;break e;case G:d=9;break e;case P:d=11;break e;case $:d=14;break e;case ue:d=16,r=null;break e}d=29,i=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=$t(d,i,t,o),t.elementType=e,t.type=r,t.lanes=h,t}function Hi(e,t,i,r){return e=$t(7,e,r,t),e.lanes=i,e}function nu(e,t,i){return e=$t(6,e,null,t),e.lanes=i,e}function Cf(e){var t=$t(18,null,null,0);return t.stateNode=e,t}function iu(e,t,i){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jf=new WeakMap;function en(e,t){if(typeof e=="object"&&e!==null){var i=jf.get(e);return i!==void 0?i:(t={value:e,source:t,stack:ls(t)},jf.set(e,t),t)}return{value:e,source:t,stack:ls(t)}}var Ts=[],As=0,Ga=null,Rr=0,tn=[],nn=0,ti=null,mn=1,vn="";function Nn(e,t){Ts[As++]=Rr,Ts[As++]=Ga,Ga=e,Rr=t}function xf(e,t,i){tn[nn++]=mn,tn[nn++]=vn,tn[nn++]=ti,ti=e;var r=mn;e=vn;var o=32-Ct(r)-1;r&=~(1<<o),i+=1;var h=32-Ct(t)+o;if(30<h){var d=o-o%5;h=(r&(1<<d)-1).toString(32),r>>=d,o-=d,mn=1<<32-Ct(t)+o|i<<o|r,vn=h+e}else mn=1<<h|i<<o|r,vn=e}function su(e){e.return!==null&&(Nn(e,1),xf(e,1,0))}function ru(e){for(;e===Ga;)Ga=Ts[--As],Ts[As]=null,Rr=Ts[--As],Ts[As]=null;for(;e===ti;)ti=tn[--nn],tn[nn]=null,vn=tn[--nn],tn[nn]=null,mn=tn[--nn],tn[nn]=null}function Nf(e,t){tn[nn++]=mn,tn[nn++]=vn,tn[nn++]=ti,mn=t.id,vn=t.overflow,ti=e}var vt=null,Ye=null,Te=!1,ni=null,sn=!1,au=Error(a(519));function ii(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kr(en(t,e)),au}function Df(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[Q]=e,t[K]=r,i){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(i=0;i<Qr.length;i++)ve(Qr[i],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),Yh(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Kh(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Qp(t.textContent,i)?(r.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),r.onScroll!=null&&ve("scroll",t),r.onScrollEnd!=null&&ve("scrollend",t),r.onClick!=null&&(t.onclick=Cn),t=!0):t=!1,t||ii(e,!0)}function Uf(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:vt=vt.return}}function Os(e){if(e!==vt)return!1;if(!Te)return Uf(e),Te=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Tc(e.type,e.memoizedProps)),i=!i),i&&Ye&&ii(e),Uf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ye=rg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ye=rg(e)}else t===27?(t=Ye,mi(e.type)?(e=Cc,Cc=null,Ye=e):Ye=t):Ye=vt?an(e.stateNode.nextSibling):null;return!0}function $i(){Ye=vt=null,Te=!1}function lu(){var e=ni;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),ni=null),e}function kr(e){ni===null?ni=[e]:ni.push(e)}var ou=O(null),Vi=null,Dn=null;function si(e,t,i){X(ou,t._currentValue),t._currentValue=i}function Un(e){e._currentValue=ou.current,H(ou)}function uu(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function cu(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){var d=o.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=o;for(var T=0;T<t.length;T++)if(v.context===t[T]){h.lanes|=i,v=h.alternate,v!==null&&(v.lanes|=i),uu(h.return,i,e),r||(d=null);break e}h=v.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(a(341));d.lanes|=i,h=d.alternate,h!==null&&(h.lanes|=i),uu(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function Rs(e,t,i,r){e=null;for(var o=t,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(a(387));if(d=d.memoizedProps,d!==null){var v=o.type;Ht(o.pendingProps.value,d.value)||(e!==null?e.push(v):e=[v])}}else if(o===Re.current){if(d=o.alternate,d===null)throw Error(a(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ta):e=[ta])}o=o.return}e!==null&&cu(t,e,i,r),t.flags|=262144}function Pa(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gi(e){Vi=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return Mf(Vi,e)}function Ya(e,t){return Vi===null&&Gi(e),Mf(e,t)}function Mf(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Dn===null){if(e===null)throw Error(a(308));Dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dn=Dn.next=t;return i}var Xv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Jv=l.unstable_scheduleCallback,Qv=l.unstable_NormalPriority,lt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hu(){return{controller:new Xv,data:new Map,refCount:0}}function Cr(e){e.refCount--,e.refCount===0&&Jv(Qv,function(){e.controller.abort()})}var jr=null,fu=0,ks=0,Cs=null;function Zv(e,t){if(jr===null){var i=jr=[];fu=0,ks=gc(),Cs={status:"pending",value:void 0,then:function(r){i.push(r)}}}return fu++,t.then(Bf,Bf),t}function Bf(){if(--fu===0&&jr!==null){Cs!==null&&(Cs.status="fulfilled");var e=jr;jr=null,ks=0,Cs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fv(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var zf=M.S;M.S=function(e,t){bp=At(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zv(e,t),zf!==null&&zf(e,t)};var Pi=O(null);function du(){var e=Pi.current;return e!==null?e:Ve.pooledCache}function Ia(e,t){t===null?X(Pi,Pi.current):X(Pi,t.pool)}function qf(){var e=du();return e===null?null:{parent:lt._currentValue,pool:e}}var js=Error(a(460)),pu=Error(a(474)),Ka=Error(a(542)),Xa={then:function(){}};function Lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hf(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Cn,Cn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vf(e),e;default:if(typeof t.status=="string")t.then(Cn,Cn);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vf(e),e}throw Ii=t,js}}function Yi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ii=i,js):i}}var Ii=null;function $f(){if(Ii===null)throw Error(a(459));var e=Ii;return Ii=null,e}function Vf(e){if(e===js||e===Ka)throw Error(a(483))}var xs=null,xr=0;function Ja(e){var t=xr;return xr+=1,xs===null&&(xs=[]),Hf(xs,e,t)}function Nr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qa(e,t){throw t.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gf(e){function t(C,A){if(e){var j=C.deletions;j===null?(C.deletions=[A],C.flags|=16):j.push(A)}}function i(C,A){if(!e)return null;for(;A!==null;)t(C,A),A=A.sibling;return null}function r(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function o(C,A){return C=xn(C,A),C.index=0,C.sibling=null,C}function h(C,A,j){return C.index=j,e?(j=C.alternate,j!==null?(j=j.index,j<A?(C.flags|=67108866,A):j):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function v(C,A,j,q){return A===null||A.tag!==6?(A=nu(j,C.mode,q),A.return=C,A):(A=o(A,j),A.return=C,A)}function T(C,A,j,q){var se=j.type;return se===R?z(C,A,j.props.children,q,j.key):A!==null&&(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ue&&Yi(se)===A.type)?(A=o(A,j.props),Nr(A,j),A.return=C,A):(A=Va(j.type,j.key,j.props,null,C.mode,q),Nr(A,j),A.return=C,A)}function x(C,A,j,q){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=iu(j,C.mode,q),A.return=C,A):(A=o(A,j.children||[]),A.return=C,A)}function z(C,A,j,q,se){return A===null||A.tag!==7?(A=Hi(j,C.mode,q,se),A.return=C,A):(A=o(A,j),A.return=C,A)}function L(C,A,j){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=nu(""+A,C.mode,j),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return j=Va(A.type,A.key,A.props,null,C.mode,j),Nr(j,A),j.return=C,j;case w:return A=iu(A,C.mode,j),A.return=C,A;case ue:return A=Yi(A),L(C,A,j)}if(Qe(A)||Le(A))return A=Hi(A,C.mode,j,null),A.return=C,A;if(typeof A.then=="function")return L(C,Ja(A),j);if(A.$$typeof===B)return L(C,Ya(C,A),j);Qa(C,A)}return null}function N(C,A,j,q){var se=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return se!==null?null:v(C,A,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return j.key===se?T(C,A,j,q):null;case w:return j.key===se?x(C,A,j,q):null;case ue:return j=Yi(j),N(C,A,j,q)}if(Qe(j)||Le(j))return se!==null?null:z(C,A,j,q,null);if(typeof j.then=="function")return N(C,A,Ja(j),q);if(j.$$typeof===B)return N(C,A,Ya(C,j),q);Qa(C,j)}return null}function U(C,A,j,q,se){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return C=C.get(j)||null,v(A,C,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return C=C.get(q.key===null?j:q.key)||null,T(A,C,q,se);case w:return C=C.get(q.key===null?j:q.key)||null,x(A,C,q,se);case ue:return q=Yi(q),U(C,A,j,q,se)}if(Qe(q)||Le(q))return C=C.get(j)||null,z(A,C,q,se,null);if(typeof q.then=="function")return U(C,A,j,Ja(q),se);if(q.$$typeof===B)return U(C,A,j,Ya(A,q),se);Qa(A,q)}return null}function W(C,A,j,q){for(var se=null,ke=null,te=A,pe=A=0,we=null;te!==null&&pe<j.length;pe++){te.index>pe?(we=te,te=null):we=te.sibling;var Ce=N(C,te,j[pe],q);if(Ce===null){te===null&&(te=we);break}e&&te&&Ce.alternate===null&&t(C,te),A=h(Ce,A,pe),ke===null?se=Ce:ke.sibling=Ce,ke=Ce,te=we}if(pe===j.length)return i(C,te),Te&&Nn(C,pe),se;if(te===null){for(;pe<j.length;pe++)te=L(C,j[pe],q),te!==null&&(A=h(te,A,pe),ke===null?se=te:ke.sibling=te,ke=te);return Te&&Nn(C,pe),se}for(te=r(te);pe<j.length;pe++)we=U(te,C,pe,j[pe],q),we!==null&&(e&&we.alternate!==null&&te.delete(we.key===null?pe:we.key),A=h(we,A,pe),ke===null?se=we:ke.sibling=we,ke=we);return e&&te.forEach(function(wi){return t(C,wi)}),Te&&Nn(C,pe),se}function ae(C,A,j,q){if(j==null)throw Error(a(151));for(var se=null,ke=null,te=A,pe=A=0,we=null,Ce=j.next();te!==null&&!Ce.done;pe++,Ce=j.next()){te.index>pe?(we=te,te=null):we=te.sibling;var wi=N(C,te,Ce.value,q);if(wi===null){te===null&&(te=we);break}e&&te&&wi.alternate===null&&t(C,te),A=h(wi,A,pe),ke===null?se=wi:ke.sibling=wi,ke=wi,te=we}if(Ce.done)return i(C,te),Te&&Nn(C,pe),se;if(te===null){for(;!Ce.done;pe++,Ce=j.next())Ce=L(C,Ce.value,q),Ce!==null&&(A=h(Ce,A,pe),ke===null?se=Ce:ke.sibling=Ce,ke=Ce);return Te&&Nn(C,pe),se}for(te=r(te);!Ce.done;pe++,Ce=j.next())Ce=U(te,C,pe,Ce.value,q),Ce!==null&&(e&&Ce.alternate!==null&&te.delete(Ce.key===null?pe:Ce.key),A=h(Ce,A,pe),ke===null?se=Ce:ke.sibling=Ce,ke=Ce);return e&&te.forEach(function(u_){return t(C,u_)}),Te&&Nn(C,pe),se}function qe(C,A,j,q){if(typeof j=="object"&&j!==null&&j.type===R&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case E:e:{for(var se=j.key;A!==null;){if(A.key===se){if(se=j.type,se===R){if(A.tag===7){i(C,A.sibling),q=o(A,j.props.children),q.return=C,C=q;break e}}else if(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ue&&Yi(se)===A.type){i(C,A.sibling),q=o(A,j.props),Nr(q,j),q.return=C,C=q;break e}i(C,A);break}else t(C,A);A=A.sibling}j.type===R?(q=Hi(j.props.children,C.mode,q,j.key),q.return=C,C=q):(q=Va(j.type,j.key,j.props,null,C.mode,q),Nr(q,j),q.return=C,C=q)}return d(C);case w:e:{for(se=j.key;A!==null;){if(A.key===se)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){i(C,A.sibling),q=o(A,j.children||[]),q.return=C,C=q;break e}else{i(C,A);break}else t(C,A);A=A.sibling}q=iu(j,C.mode,q),q.return=C,C=q}return d(C);case ue:return j=Yi(j),qe(C,A,j,q)}if(Qe(j))return W(C,A,j,q);if(Le(j)){if(se=Le(j),typeof se!="function")throw Error(a(150));return j=se.call(j),ae(C,A,j,q)}if(typeof j.then=="function")return qe(C,A,Ja(j),q);if(j.$$typeof===B)return qe(C,A,Ya(C,j),q);Qa(C,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,A!==null&&A.tag===6?(i(C,A.sibling),q=o(A,j),q.return=C,C=q):(i(C,A),q=nu(j,C.mode,q),q.return=C,C=q),d(C)):i(C,A)}return function(C,A,j,q){try{xr=0;var se=qe(C,A,j,q);return xs=null,se}catch(te){if(te===js||te===Ka)throw te;var ke=$t(29,te,null,C.mode);return ke.lanes=q,ke.return=C,ke}finally{}}}var Ki=Gf(!0),Pf=Gf(!1),ri=!1;function gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function li(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=$a(e),Rf(e,null,i),t}return Ha(e,r,t,i),$a(e)}function Dr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,ps(e,i)}}function mu(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?o=h=d:h=h.next=d,i=i.next}while(i!==null);h===null?o=h=t:h=h.next=t}else o=h=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var vu=!1;function Ur(){if(vu){var e=Cs;if(e!==null)throw e}}function Mr(e,t,i,r){vu=!1;var o=e.updateQueue;ri=!1;var h=o.firstBaseUpdate,d=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var T=v,x=T.next;T.next=null,d===null?h=x:d.next=x,d=T;var z=e.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==d&&(v===null?z.firstBaseUpdate=x:v.next=x,z.lastBaseUpdate=T))}if(h!==null){var L=o.baseState;d=0,z=x=T=null,v=h;do{var N=v.lane&-536870913,U=N!==v.lane;if(U?(Se&N)===N:(r&N)===N){N!==0&&N===ks&&(vu=!0),z!==null&&(z=z.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var W=e,ae=v;N=t;var qe=i;switch(ae.tag){case 1:if(W=ae.payload,typeof W=="function"){L=W.call(qe,L,N);break e}L=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=ae.payload,N=typeof W=="function"?W.call(qe,L,N):W,N==null)break e;L=S({},L,N);break e;case 2:ri=!0}}N=v.callback,N!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[N]:U.push(N))}else U={lane:N,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(x=z=U,T=L):z=z.next=U,d|=N;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;U=v,v=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);z===null&&(T=L),o.baseState=T,o.firstBaseUpdate=x,o.lastBaseUpdate=z,h===null&&(o.shared.lanes=0),fi|=d,e.lanes=d,e.memoizedState=L}}function Yf(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function If(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Yf(i[e],t)}var Ns=O(null),Za=O(0);function Kf(e,t){e=Gn,X(Za,e),X(Ns,t),Gn=e|t.baseLanes}function _u(){X(Za,Gn),X(Ns,Ns.current)}function bu(){Gn=Za.current,H(Ns),H(Za)}var Vt=O(null),rn=null;function oi(e){var t=e.alternate;X(rt,rt.current&1),X(Vt,e),rn===null&&(t===null||Ns.current!==null||t.memoizedState!==null)&&(rn=e)}function Su(e){X(rt,rt.current),X(Vt,e),rn===null&&(rn=e)}function Xf(e){e.tag===22?(X(rt,rt.current),X(Vt,e),rn===null&&(rn=e)):ui()}function ui(){X(rt,rt.current),X(Vt,Vt.current)}function Gt(e){H(Vt),rn===e&&(rn=null),H(rt)}var rt=O(0);function Fa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Rc(i)||kc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mn=0,de=null,Be=null,ot=null,Wa=!1,Ds=!1,Xi=!1,el=0,Br=0,Us=null,Wv=0;function et(){throw Error(a(321))}function wu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ht(e[i],t[i]))return!1;return!0}function Eu(e,t,i,r,o,h){return Mn=h,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?xd:qu,Xi=!1,h=i(r,o),Xi=!1,Ds&&(h=Qf(t,i,r,o)),Jf(e),h}function Jf(e){M.H=Lr;var t=Be!==null&&Be.next!==null;if(Mn=0,ot=Be=de=null,Wa=!1,Br=0,Us=null,t)throw Error(a(300));e===null||ut||(e=e.dependencies,e!==null&&Pa(e)&&(ut=!0))}function Qf(e,t,i,r){de=e;var o=0;do{if(Ds&&(Us=null),Br=0,Ds=!1,25<=o)throw Error(a(301));if(o+=1,ot=Be=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=Nd,h=t(i,r)}while(Ds);return h}function e0(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?zr(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(de.flags|=1024),t}function Tu(){var e=el!==0;return el=0,e}function Au(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Ou(e){if(Wa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Wa=!1}Mn=0,ot=Be=de=null,Ds=!1,Br=el=0,Us=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?de.memoizedState=ot=e:ot=ot.next=e,ot}function at(){if(Be===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=ot===null?de.memoizedState:ot.next;if(t!==null)ot=t,Be=e;else{if(e===null)throw de.alternate===null?Error(a(467)):Error(a(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},ot===null?de.memoizedState=ot=e:ot=ot.next=e}return ot}function tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zr(e){var t=Br;return Br+=1,Us===null&&(Us=[]),e=Hf(Us,e,t),t=de,(ot===null?t.memoizedState:ot.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?xd:qu),e}function nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zr(e);if(e.$$typeof===B)return _t(e)}throw Error(a(438,String(e)))}function Ru(e){var t=null,i=de.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=de.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=tl(),de.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=ye;return t.index++,i}function Bn(e,t){return typeof t=="function"?t(e):t}function il(e){var t=at();return ku(t,Be,e)}function ku(e,t,i){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var o=e.baseQueue,h=r.pending;if(h!==null){if(o!==null){var d=o.next;o.next=h.next,h.next=d}t.baseQueue=o=h,r.pending=null}if(h=e.baseState,o===null)e.memoizedState=h;else{t=o.next;var v=d=null,T=null,x=t,z=!1;do{var L=x.lane&-536870913;if(L!==x.lane?(Se&L)===L:(Mn&L)===L){var N=x.revertLane;if(N===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),L===ks&&(z=!0);else if((Mn&N)===N){x=x.next,N===ks&&(z=!0);continue}else L={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},T===null?(v=T=L,d=h):T=T.next=L,de.lanes|=N,fi|=N;L=x.action,Xi&&i(h,L),h=x.hasEagerState?x.eagerState:i(h,L)}else N={lane:L,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},T===null?(v=T=N,d=h):T=T.next=N,de.lanes|=L,fi|=L;x=x.next}while(x!==null&&x!==t);if(T===null?d=h:T.next=v,!Ht(h,e.memoizedState)&&(ut=!0,z&&(i=Cs,i!==null)))throw i;e.memoizedState=h,e.baseState=d,e.baseQueue=T,r.lastRenderedState=h}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Cu(e){var t=at(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,h=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do h=e(h,d.action),d=d.next;while(d!==o);Ht(h,t.memoizedState)||(ut=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,r]}function Zf(e,t,i){var r=de,o=at(),h=Te;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=t();var d=!Ht((Be||o).memoizedState,i);if(d&&(o.memoizedState=i,ut=!0),o=o.queue,Nu(ed.bind(null,r,o,e),[e]),o.getSnapshot!==t||d||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,Ms(9,{destroy:void 0},Wf.bind(null,r,o,i,t),null),Ve===null)throw Error(a(349));h||(Mn&127)!==0||Ff(r,t,i)}return i}function Ff(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=de.updateQueue,t===null?(t=tl(),de.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Wf(e,t,i,r){t.value=i,t.getSnapshot=r,td(t)&&nd(e)}function ed(e,t,i){return i(function(){td(t)&&nd(e)})}function td(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ht(e,i)}catch{return!0}}function nd(e){var t=Li(e,2);t!==null&&zt(t,e,2)}function ju(e){var t=jt();if(typeof e=="function"){var i=e;if(e=i(),Xi){Xt(!0);try{i()}finally{Xt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function id(e,t,i,r){return e.baseState=i,ku(e,Be,typeof r=="function"?r:Bn)}function t0(e,t,i,r,o){if(al(e))throw Error(a(485));if(e=t.action,e!==null){var h={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){h.listeners.push(d)}};M.T!==null?i(!0):h.isTransition=!1,r(h),i=t.pending,i===null?(h.next=t.pending=h,sd(t,h)):(h.next=i.next,t.pending=i.next=h)}}function sd(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var h=M.T,d={};M.T=d;try{var v=i(o,r),T=M.S;T!==null&&T(d,v),rd(e,t,v)}catch(x){xu(e,t,x)}finally{h!==null&&d.types!==null&&(h.types=d.types),M.T=h}}else try{h=i(o,r),rd(e,t,h)}catch(x){xu(e,t,x)}}function rd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){ad(e,t,r)},function(r){return xu(e,t,r)}):ad(e,t,i)}function ad(e,t,i){t.status="fulfilled",t.value=i,ld(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,sd(e,i)))}function xu(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,ld(t),t=t.next;while(t!==r)}e.action=null}function ld(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function od(e,t){return t}function ud(e,t){if(Te){var i=Ve.formState;if(i!==null){e:{var r=de;if(Te){if(Ye){t:{for(var o=Ye,h=sn;o.nodeType!==8;){if(!h){o=null;break t}if(o=an(o.nextSibling),o===null){o=null;break t}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){Ye=an(o.nextSibling),r=o.data==="F!";break e}}ii(r)}r=!1}r&&(t=i[0])}}return i=jt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},i.queue=r,i=kd.bind(null,de,r),r.dispatch=i,r=ju(!1),h=zu.bind(null,de,!1,r.queue),r=jt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=t0.bind(null,de,o,h,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function cd(e){var t=at();return hd(t,Be,e)}function hd(e,t,i){if(t=ku(e,t,od)[0],e=il(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=zr(t)}catch(d){throw d===js?Ka:d}else r=t;t=at();var o=t.queue,h=o.dispatch;return i!==t.memoizedState&&(de.flags|=2048,Ms(9,{destroy:void 0},n0.bind(null,o,i),null)),[r,h,e]}function n0(e,t){e.action=t}function fd(e){var t=at(),i=Be;if(i!==null)return hd(t,i,e);at(),t=t.memoizedState,i=at();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function Ms(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=de.updateQueue,t===null&&(t=tl(),de.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function dd(){return at().memoizedState}function sl(e,t,i,r){var o=jt();de.flags|=e,o.memoizedState=Ms(1|t,{destroy:void 0},i,r===void 0?null:r)}function rl(e,t,i,r){var o=at();r=r===void 0?null:r;var h=o.memoizedState.inst;Be!==null&&r!==null&&wu(r,Be.memoizedState.deps)?o.memoizedState=Ms(t,h,i,r):(de.flags|=e,o.memoizedState=Ms(1|t,h,i,r))}function pd(e,t){sl(8390656,8,e,t)}function Nu(e,t){rl(2048,8,e,t)}function i0(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=tl(),de.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function gd(e){var t=at().memoizedState;return i0({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function yd(e,t){return rl(4,2,e,t)}function md(e,t){return rl(4,4,e,t)}function vd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _d(e,t,i){i=i!=null?i.concat([e]):null,rl(4,4,vd.bind(null,t,e),i)}function Du(){}function bd(e,t){var i=at();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&wu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function Sd(e,t){var i=at();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&wu(t,r[1]))return r[0];if(r=e(),Xi){Xt(!0);try{e()}finally{Xt(!1)}}return i.memoizedState=[r,t],r}function Uu(e,t,i){return i===void 0||(Mn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=wp(),de.lanes|=e,fi|=e,i)}function wd(e,t,i,r){return Ht(i,t)?i:Ns.current!==null?(e=Uu(e,i,r),Ht(e,t)||(ut=!0),e):(Mn&42)===0||(Mn&1073741824)!==0&&(Se&261930)===0?(ut=!0,e.memoizedState=i):(e=wp(),de.lanes|=e,fi|=e,t)}function Ed(e,t,i,r,o){var h=Y.p;Y.p=h!==0&&8>h?h:8;var d=M.T,v={};M.T=v,zu(e,!1,t,i);try{var T=o(),x=M.S;if(x!==null&&x(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=Fv(T,r);qr(e,t,z,It(e))}else qr(e,t,r,It(e))}catch(L){qr(e,t,{then:function(){},status:"rejected",reason:L},It())}finally{Y.p=h,d!==null&&v.types!==null&&(d.types=v.types),M.T=d}}function s0(){}function Mu(e,t,i,r){if(e.tag!==5)throw Error(a(476));var o=Td(e).queue;Ed(e,o,t,ie,i===null?s0:function(){return Ad(e),i(r)})}function Td(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:ie},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ad(e){var t=Td(e);t.next===null&&(t=e.alternate.memoizedState),qr(e,t.next.queue,{},It())}function Bu(){return _t(ta)}function Od(){return at().memoizedState}function Rd(){return at().memoizedState}function r0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=It();e=ai(i);var r=li(t,e,i);r!==null&&(zt(r,t,i),Dr(r,t,i)),t={cache:hu()},e.payload=t;return}t=t.return}}function a0(e,t,i){var r=It();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},al(e)?Cd(t,i):(i=eu(e,t,i,r),i!==null&&(zt(i,e,r),jd(i,t,r)))}function kd(e,t,i){var r=It();qr(e,t,i,r)}function qr(e,t,i,r){var o={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(al(e))Cd(t,o);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var d=t.lastRenderedState,v=h(d,i);if(o.hasEagerState=!0,o.eagerState=v,Ht(v,d))return Ha(e,t,o,0),Ve===null&&La(),!1}catch{}finally{}if(i=eu(e,t,o,r),i!==null)return zt(i,e,r),jd(i,t,r),!0}return!1}function zu(e,t,i,r){if(r={lane:2,revertLane:gc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},al(e)){if(t)throw Error(a(479))}else t=eu(e,i,r,2),t!==null&&zt(t,e,2)}function al(e){var t=e.alternate;return e===de||t!==null&&t===de}function Cd(e,t){Ds=Wa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function jd(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,ps(e,i)}}var Lr={readContext:_t,use:nl,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Lr.useEffectEvent=et;var xd={readContext:_t,use:nl,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:pd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,sl(4194308,4,vd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){sl(4,2,e,t)},useMemo:function(e,t){var i=jt();t=t===void 0?null:t;var r=e();if(Xi){Xt(!0);try{e()}finally{Xt(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=jt();if(i!==void 0){var o=i(t);if(Xi){Xt(!0);try{i(t)}finally{Xt(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=a0.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:function(e){e=ju(e);var t=e.queue,i=kd.bind(null,de,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Du,useDeferredValue:function(e,t){var i=jt();return Uu(i,e,t)},useTransition:function(){var e=ju(!1);return e=Ed.bind(null,de,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=de,o=jt();if(Te){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),Ve===null)throw Error(a(349));(Se&127)!==0||Ff(r,t,i)}o.memoizedState=i;var h={value:i,getSnapshot:t};return o.queue=h,pd(ed.bind(null,r,h,e),[e]),r.flags|=2048,Ms(9,{destroy:void 0},Wf.bind(null,r,h,i,t),null),i},useId:function(){var e=jt(),t=Ve.identifierPrefix;if(Te){var i=vn,r=mn;i=(r&~(1<<32-Ct(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=el++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Wv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bu,useFormState:ud,useActionState:ud,useOptimistic:function(e){var t=jt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=zu.bind(null,de,!0,i),i.dispatch=t,[e,t]},useMemoCache:Ru,useCacheRefresh:function(){return jt().memoizedState=r0.bind(null,de)},useEffectEvent:function(e){var t=jt(),i={impl:e};return t.memoizedState=i,function(){if((xe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},qu={readContext:_t,use:nl,useCallback:bd,useContext:_t,useEffect:Nu,useImperativeHandle:_d,useInsertionEffect:yd,useLayoutEffect:md,useMemo:Sd,useReducer:il,useRef:dd,useState:function(){return il(Bn)},useDebugValue:Du,useDeferredValue:function(e,t){var i=at();return wd(i,Be.memoizedState,e,t)},useTransition:function(){var e=il(Bn)[0],t=at().memoizedState;return[typeof e=="boolean"?e:zr(e),t]},useSyncExternalStore:Zf,useId:Od,useHostTransitionStatus:Bu,useFormState:cd,useActionState:cd,useOptimistic:function(e,t){var i=at();return id(i,Be,e,t)},useMemoCache:Ru,useCacheRefresh:Rd};qu.useEffectEvent=gd;var Nd={readContext:_t,use:nl,useCallback:bd,useContext:_t,useEffect:Nu,useImperativeHandle:_d,useInsertionEffect:yd,useLayoutEffect:md,useMemo:Sd,useReducer:Cu,useRef:dd,useState:function(){return Cu(Bn)},useDebugValue:Du,useDeferredValue:function(e,t){var i=at();return Be===null?Uu(i,e,t):wd(i,Be.memoizedState,e,t)},useTransition:function(){var e=Cu(Bn)[0],t=at().memoizedState;return[typeof e=="boolean"?e:zr(e),t]},useSyncExternalStore:Zf,useId:Od,useHostTransitionStatus:Bu,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var i=at();return Be!==null?id(i,Be,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Rd};Nd.useEffectEvent=gd;function Lu(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Hu={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=It(),o=ai(r);o.payload=t,i!=null&&(o.callback=i),t=li(e,o,r),t!==null&&(zt(t,e,r),Dr(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=It(),o=ai(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=li(e,o,r),t!==null&&(zt(t,e,r),Dr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=It(),r=ai(i);r.tag=2,t!=null&&(r.callback=t),t=li(e,r,i),t!==null&&(zt(t,e,i),Dr(t,e,i))}};function Dd(e,t,i,r,o,h,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,d):t.prototype&&t.prototype.isPureReactComponent?!Ar(i,r)||!Ar(o,h):!0}function Ud(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Hu.enqueueReplaceState(t,t.state,null)}function Ji(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Md(e){qa(e)}function Bd(e){console.error(e)}function zd(e){qa(e)}function ll(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function qd(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function $u(e,t,i){return i=ai(i),i.tag=3,i.payload={element:null},i.callback=function(){ll(e,t)},i}function Ld(e){return e=ai(e),e.tag=3,e}function Hd(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var h=r.value;e.payload=function(){return o(h)},e.callback=function(){qd(t,i,r)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){qd(t,i,r),typeof o!="function"&&(di===null?di=new Set([this]):di.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function l0(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&Rs(t,i,o,!0),i=Vt.current,i!==null){switch(i.tag){case 31:case 13:return rn===null?_l():i.alternate===null&&tt===0&&(tt=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Xa?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),fc(e,r,o)),!1;case 22:return i.flags|=65536,r===Xa?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),fc(e,r,o)),!1}throw Error(a(435,i.tag))}return fc(e,r,o),_l(),!1}if(Te)return t=Vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==au&&(e=Error(a(422),{cause:r}),kr(en(e,i)))):(r!==au&&(t=Error(a(423),{cause:r}),kr(en(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=en(r,i),o=$u(e.stateNode,r,o),mu(e,o),tt!==4&&(tt=2)),!1;var h=Error(a(520),{cause:r});if(h=en(h,i),Kr===null?Kr=[h]:Kr.push(h),tt!==4&&(tt=2),t===null)return!0;r=en(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=$u(i.stateNode,r,e),mu(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(di===null||!di.has(h))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Ld(o),Hd(o,e,i,r),mu(i,o),!1}i=i.return}while(i!==null);return!1}var Vu=Error(a(461)),ut=!1;function bt(e,t,i,r){t.child=e===null?Pf(t,null,i,r):Ki(t,e.child,i,r)}function $d(e,t,i,r,o){i=i.render;var h=t.ref;if("ref"in r){var d={};for(var v in r)v!=="ref"&&(d[v]=r[v])}else d=r;return Gi(t),r=Eu(e,t,i,d,h,o),v=Tu(),e!==null&&!ut?(Au(e,t,o),zn(e,t,o)):(Te&&v&&su(t),t.flags|=1,bt(e,t,r,o),t.child)}function Vd(e,t,i,r,o){if(e===null){var h=i.type;return typeof h=="function"&&!tu(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,Gd(e,t,h,r,o)):(e=Va(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Qu(e,o)){var d=h.memoizedProps;if(i=i.compare,i=i!==null?i:Ar,i(d,r)&&e.ref===t.ref)return zn(e,t,o)}return t.flags|=1,e=xn(h,r),e.ref=t.ref,e.return=t,t.child=e}function Gd(e,t,i,r,o){if(e!==null){var h=e.memoizedProps;if(Ar(h,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=h,Qu(e,o))(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,zn(e,t,o)}return Gu(e,t,i,r,o)}function Pd(e,t,i,r){var o=r.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~h}else r=0,t.child=null;return Yd(e,t,h,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ia(t,h!==null?h.cachePool:null),h!==null?Kf(t,h):_u(),Xf(t);else return r=t.lanes=536870912,Yd(e,t,h!==null?h.baseLanes|i:i,i,r)}else h!==null?(Ia(t,h.cachePool),Kf(t,h),ui(),t.memoizedState=null):(e!==null&&Ia(t,null),_u(),ui());return bt(e,t,o,i),t.child}function Hr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yd(e,t,i,r,o){var h=du();return h=h===null?null:{parent:lt._currentValue,pool:h},t.memoizedState={baseLanes:i,cachePool:h},e!==null&&Ia(t,null),_u(),Xf(t),e!==null&&Rs(e,t,r,!0),t.childLanes=o,null}function ol(e,t){return t=cl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Id(e,t,i){return Ki(t,e.child,null,i),e=ol(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function o0(e,t,i){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(r.mode==="hidden")return e=ol(t,r),t.lanes=536870912,Hr(null,e);if(Su(t),(e=Ye)?(e=sg(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ti!==null?{id:mn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},i=Cf(e),i.return=t,t.child=i,vt=t,Ye=null)):e=null,e===null)throw ii(t);return t.lanes=536870912,null}return ol(t,r)}var h=e.memoizedState;if(h!==null){var d=h.dehydrated;if(Su(t),o)if(t.flags&256)t.flags&=-257,t=Id(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(ut||Rs(e,t,i,!1),o=(i&e.childLanes)!==0,ut||o){if(r=Ve,r!==null&&(d=Aa(r,i),d!==0&&d!==h.retryLane))throw h.retryLane=d,Li(e,d),zt(r,e,d),Vu;_l(),t=Id(e,t,i)}else e=h.treeContext,Ye=an(d.nextSibling),vt=t,Te=!0,ni=null,sn=!1,e!==null&&Nf(t,e),t=ol(t,r),t.flags|=4096;return t}return e=xn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ul(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Gu(e,t,i,r,o){return Gi(t),i=Eu(e,t,i,r,void 0,o),r=Tu(),e!==null&&!ut?(Au(e,t,o),zn(e,t,o)):(Te&&r&&su(t),t.flags|=1,bt(e,t,i,o),t.child)}function Kd(e,t,i,r,o,h){return Gi(t),t.updateQueue=null,i=Qf(t,r,i,o),Jf(e),r=Tu(),e!==null&&!ut?(Au(e,t,h),zn(e,t,h)):(Te&&r&&su(t),t.flags|=1,bt(e,t,i,h),t.child)}function Xd(e,t,i,r,o){if(Gi(t),t.stateNode===null){var h=Es,d=i.contextType;typeof d=="object"&&d!==null&&(h=_t(d)),h=new i(r,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Hu,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=r,h.state=t.memoizedState,h.refs={},gu(t),d=i.contextType,h.context=typeof d=="object"&&d!==null?_t(d):Es,h.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Lu(t,i,d,r),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(d=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),d!==h.state&&Hu.enqueueReplaceState(h,h.state,null),Mr(t,r,h,o),Ur(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){h=t.stateNode;var v=t.memoizedProps,T=Ji(i,v);h.props=T;var x=h.context,z=i.contextType;d=Es,typeof z=="object"&&z!==null&&(d=_t(z));var L=i.getDerivedStateFromProps;z=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||x!==d)&&Ud(t,h,r,d),ri=!1;var N=t.memoizedState;h.state=N,Mr(t,r,h,o),Ur(),x=t.memoizedState,v||N!==x||ri?(typeof L=="function"&&(Lu(t,i,L,r),x=t.memoizedState),(T=ri||Dd(t,i,T,r,N,x,d))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),h.props=r,h.state=x,h.context=d,r=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,yu(e,t),d=t.memoizedProps,z=Ji(i,d),h.props=z,L=t.pendingProps,N=h.context,x=i.contextType,T=Es,typeof x=="object"&&x!==null&&(T=_t(x)),v=i.getDerivedStateFromProps,(x=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(d!==L||N!==T)&&Ud(t,h,r,T),ri=!1,N=t.memoizedState,h.state=N,Mr(t,r,h,o),Ur();var U=t.memoizedState;d!==L||N!==U||ri||e!==null&&e.dependencies!==null&&Pa(e.dependencies)?(typeof v=="function"&&(Lu(t,i,v,r),U=t.memoizedState),(z=ri||Dd(t,i,z,r,N,U,T)||e!==null&&e.dependencies!==null&&Pa(e.dependencies))?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,U,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,U,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=U),h.props=r,h.state=U,h.context=T,r=z):(typeof h.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return h=r,ul(e,t),r=(t.flags&128)!==0,h||r?(h=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&r?(t.child=Ki(t,e.child,null,o),t.child=Ki(t,null,i,o)):bt(e,t,i,o),t.memoizedState=h.state,e=t.child):e=zn(e,t,o),e}function Jd(e,t,i,r){return $i(),t.flags|=256,bt(e,t,i,r),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yu(e){return{baseLanes:e,cachePool:qf()}}function Iu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Yt),e}function Qd(e,t,i){var r=t.pendingProps,o=!1,h=(t.flags&128)!==0,d;if((d=h)||(d=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(o?oi(t):ui(),(e=Ye)?(e=sg(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ti!==null?{id:mn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},i=Cf(e),i.return=t,t.child=i,vt=t,Ye=null)):e=null,e===null)throw ii(t);return kc(e)?t.lanes=32:t.lanes=536870912,null}var v=r.children;return r=r.fallback,o?(ui(),o=t.mode,v=cl({mode:"hidden",children:v},o),r=Hi(r,o,i,null),v.return=t,r.return=t,v.sibling=r,t.child=v,r=t.child,r.memoizedState=Yu(i),r.childLanes=Iu(e,d,i),t.memoizedState=Pu,Hr(null,r)):(oi(t),Ku(t,v))}var T=e.memoizedState;if(T!==null&&(v=T.dehydrated,v!==null)){if(h)t.flags&256?(oi(t),t.flags&=-257,t=Xu(e,t,i)):t.memoizedState!==null?(ui(),t.child=e.child,t.flags|=128,t=null):(ui(),v=r.fallback,o=t.mode,r=cl({mode:"visible",children:r.children},o),v=Hi(v,o,i,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,Ki(t,e.child,null,i),r=t.child,r.memoizedState=Yu(i),r.childLanes=Iu(e,d,i),t.memoizedState=Pu,t=Hr(null,r));else if(oi(t),kc(v)){if(d=v.nextSibling&&v.nextSibling.dataset,d)var x=d.dgst;d=x,r=Error(a(419)),r.stack="",r.digest=d,kr({value:r,source:null,stack:null}),t=Xu(e,t,i)}else if(ut||Rs(e,t,i,!1),d=(i&e.childLanes)!==0,ut||d){if(d=Ve,d!==null&&(r=Aa(d,i),r!==0&&r!==T.retryLane))throw T.retryLane=r,Li(e,r),zt(d,e,r),Vu;Rc(v)||_l(),t=Xu(e,t,i)}else Rc(v)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ye=an(v.nextSibling),vt=t,Te=!0,ni=null,sn=!1,e!==null&&Nf(t,e),t=Ku(t,r.children),t.flags|=4096);return t}return o?(ui(),v=r.fallback,o=t.mode,T=e.child,x=T.sibling,r=xn(T,{mode:"hidden",children:r.children}),r.subtreeFlags=T.subtreeFlags&65011712,x!==null?v=xn(x,v):(v=Hi(v,o,i,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,Hr(null,r),r=t.child,v=e.child.memoizedState,v===null?v=Yu(i):(o=v.cachePool,o!==null?(T=lt._currentValue,o=o.parent!==T?{parent:T,pool:T}:o):o=qf(),v={baseLanes:v.baseLanes|i,cachePool:o}),r.memoizedState=v,r.childLanes=Iu(e,d,i),t.memoizedState=Pu,Hr(e.child,r)):(oi(t),i=e.child,e=i.sibling,i=xn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Ku(e,t){return t=cl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cl(e,t){return e=$t(22,e,null,t),e.lanes=0,e}function Xu(e,t,i){return Ki(t,e.child,null,i),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zd(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),uu(e.return,t,i)}function Ju(e,t,i,r,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o,treeForkCount:h}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=i,d.tailMode=o,d.treeForkCount=h)}function Fd(e,t,i){var r=t.pendingProps,o=r.revealOrder,h=r.tail;r=r.children;var d=rt.current,v=(d&2)!==0;if(v?(d=d&1|2,t.flags|=128):d&=1,X(rt,d),bt(e,t,r,i),r=Te?Rr:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,i,t);else if(e.tag===19)Zd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Fa(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Ju(t,!1,o,i,h,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Fa(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Ju(t,!0,i,null,h,r);break;case"together":Ju(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function zn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Rs(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=xn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=xn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Qu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Pa(e)))}function u0(e,t,i){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),si(t,lt,e.memoizedState.cache),$i();break;case 27:case 5:Qn(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:si(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Su(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(oi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Qd(e,t,i):(oi(t),e=zn(e,t,i),e!==null?e.sibling:null);oi(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(Rs(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return Fd(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(rt,rt.current),r)break;return null;case 22:return t.lanes=0,Pd(e,t,i,t.pendingProps);case 24:si(t,lt,e.memoizedState.cache)}return zn(e,t,i)}function Wd(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ut=!0;else{if(!Qu(e,i)&&(t.flags&128)===0)return ut=!1,u0(e,t,i);ut=(e.flags&131072)!==0}else ut=!1,Te&&(t.flags&1048576)!==0&&xf(t,Rr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Yi(t.elementType),t.type=e,typeof e=="function")tu(e)?(r=Ji(e,r),t.tag=1,t=Xd(null,t,e,r,i)):(t.tag=0,t=Gu(null,t,e,r,i));else{if(e!=null){var o=e.$$typeof;if(o===P){t.tag=11,t=$d(null,t,e,r,i);break e}else if(o===$){t.tag=14,t=Vd(null,t,e,r,i);break e}}throw t=nt(e)||e,Error(a(306,t,""))}}return t;case 0:return Gu(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=Ji(r,t.pendingProps),Xd(e,t,r,o,i);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var h=t.memoizedState;o=h.element,yu(e,t),Mr(t,r,null,i);var d=t.memoizedState;if(r=d.cache,si(t,lt,r),r!==h.cache&&cu(t,[lt],i,!0),Ur(),r=d.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Jd(e,t,r,i);break e}else if(r!==o){o=en(Error(a(424)),t),kr(o),t=Jd(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=an(e.firstChild),vt=t,Te=!0,ni=null,sn=!0,i=Pf(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if($i(),r===o){t=zn(e,t,i);break e}bt(e,t,r,i)}t=t.child}return t;case 26:return ul(e,t),e===null?(i=cg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Te||(i=t.type,e=t.pendingProps,r=Ol(ge.current).createElement(i),r[Q]=t,r[K]=e,St(r,i,e),je(r),t.stateNode=r):t.memoizedState=cg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qn(t),e===null&&Te&&(r=t.stateNode=lg(t.type,t.pendingProps,ge.current),vt=t,sn=!0,o=Ye,mi(t.type)?(Cc=o,Ye=an(r.firstChild)):Ye=o),bt(e,t,t.pendingProps.children,i),ul(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((o=r=Ye)&&(r=L0(r,t.type,t.pendingProps,sn),r!==null?(t.stateNode=r,vt=t,Ye=an(r.firstChild),sn=!1,o=!0):o=!1),o||ii(t)),Qn(t),o=t.type,h=t.pendingProps,d=e!==null?e.memoizedProps:null,r=h.children,Tc(o,h)?r=null:d!==null&&Tc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=Eu(e,t,e0,null,null,i),ta._currentValue=o),ul(e,t),bt(e,t,r,i),t.child;case 6:return e===null&&Te&&((e=i=Ye)&&(i=H0(i,t.pendingProps,sn),i!==null?(t.stateNode=i,vt=t,Ye=null,e=!0):e=!1),e||ii(t)),null;case 13:return Qd(e,t,i);case 4:return He(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ki(t,null,r,i):bt(e,t,r,i),t.child;case 11:return $d(e,t,t.type,t.pendingProps,i);case 7:return bt(e,t,t.pendingProps,i),t.child;case 8:return bt(e,t,t.pendingProps.children,i),t.child;case 12:return bt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,si(t,t.type,r.value),bt(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Gi(t),o=_t(o),r=r(o),t.flags|=1,bt(e,t,r,i),t.child;case 14:return Vd(e,t,t.type,t.pendingProps,i);case 15:return Gd(e,t,t.type,t.pendingProps,i);case 19:return Fd(e,t,i);case 31:return o0(e,t,i);case 22:return Pd(e,t,i,t.pendingProps);case 24:return Gi(t),r=_t(lt),e===null?(o=du(),o===null&&(o=Ve,h=hu(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=i),o=h),t.memoizedState={parent:r,cache:o},gu(t),si(t,lt,o)):((e.lanes&i)!==0&&(yu(e,t),Mr(t,null,null,i),Ur()),o=e.memoizedState,h=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),si(t,lt,r)):(r=h.cache,si(t,lt,r),r!==o.cache&&cu(t,[lt],i,!0))),bt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function qn(e){e.flags|=4}function Zu(e,t,i,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Op())e.flags|=8192;else throw Ii=Xa,pu}else e.flags&=-16777217}function ep(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gg(t))if(Op())e.flags|=8192;else throw Ii=Xa,pu}function hl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?dr():536870912,e.lanes|=t,Ls|=t)}function $r(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function c0(e,t,i){var r=t.pendingProps;switch(ru(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Un(lt),Pe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Os(t)?qn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,lu())),Ie(t),null;case 26:var o=t.type,h=t.memoizedState;return e===null?(qn(t),h!==null?(Ie(t),ep(t,h)):(Ie(t),Zu(t,o,null,r,i))):h?h!==e.memoizedState?(qn(t),Ie(t),ep(t,h)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&qn(t),Ie(t),Zu(t,o,e,r,i)),null;case 27:if(as(t),i=ge.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&qn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Ie(t),null}e=ee.current,Os(t)?Df(t):(e=lg(o,r,i),t.stateNode=e,qn(t))}return Ie(t),null;case 5:if(as(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&qn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Ie(t),null}if(h=ee.current,Os(t))Df(t);else{var d=Ol(ge.current);switch(h){case 1:h=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:h=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":h=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":h=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":h=d.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?d.createElement(o,{is:r.is}):d.createElement(o)}}h[Q]=t,h[K]=r;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)h.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=h;e:switch(St(h,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&qn(t)}}return Ie(t),Zu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&qn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=ge.current,Os(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=vt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Q]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Qp(e.nodeValue,i)),e||ii(t,!0)}else e=Ol(e).createTextNode(r),e[Q]=t,t.stateNode=e}return Ie(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=Os(t),i!==null){if(e===null){if(!r)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Q]=t}else $i(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else i=lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Ie(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Os(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(a(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));o[Q]=t}else $i(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),o=!1}else o=lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==o&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),hl(t,t.updateQueue),Ie(t),null);case 4:return Pe(),e===null&&_c(t.stateNode.containerInfo),Ie(t),null;case 10:return Un(t.type),Ie(t),null;case 19:if(H(rt),r=t.memoizedState,r===null)return Ie(t),null;if(o=(t.flags&128)!==0,h=r.rendering,h===null)if(o)$r(r,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Fa(e),h!==null){for(t.flags|=128,$r(r,!1),e=h.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)kf(i,e),i=i.sibling;return X(rt,rt.current&1|2),Te&&Nn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&At()>yl&&(t.flags|=128,o=!0,$r(r,!1),t.lanes=4194304)}else{if(!o)if(e=Fa(h),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),$r(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!Te)return Ie(t),null}else 2*At()-r.renderingStartTime>yl&&i!==536870912&&(t.flags|=128,o=!0,$r(r,!1),t.lanes=4194304);r.isBackwards?(h.sibling=t.child,t.child=h):(e=r.last,e!==null?e.sibling=h:t.child=h,r.last=h)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=At(),e.sibling=null,i=rt.current,X(rt,o?i&1|2:i&1),Te&&Nn(t,r.treeForkCount),e):(Ie(t),null);case 22:case 23:return Gt(t),bu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),i=t.updateQueue,i!==null&&hl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&H(Pi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Un(lt),Ie(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function h0(e,t){switch(ru(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(lt),Pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return as(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(a(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(rt),null;case 4:return Pe(),null;case 10:return Un(t.type),null;case 22:case 23:return Gt(t),bu(),e!==null&&H(Pi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Un(lt),null;case 25:return null;default:return null}}function tp(e,t){switch(ru(t),t.tag){case 3:Un(lt),Pe();break;case 26:case 27:case 5:as(t);break;case 4:Pe();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:H(rt);break;case 10:Un(t.type);break;case 22:case 23:Gt(t),bu(),e!==null&&H(Pi);break;case 24:Un(lt)}}function Vr(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var h=i.create,d=i.inst;r=h(),d.destroy=r}i=i.next}while(i!==o)}}catch(v){Ue(t,t.return,v)}}function ci(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){var d=r.inst,v=d.destroy;if(v!==void 0){d.destroy=void 0,o=t;var T=i,x=v;try{x()}catch(z){Ue(o,T,z)}}}r=r.next}while(r!==h)}}catch(z){Ue(t,t.return,z)}}function np(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{If(t,i)}catch(r){Ue(e,e.return,r)}}}function ip(e,t,i){i.props=Ji(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Ue(e,t,r)}}function Gr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){Ue(e,t,o)}}function _n(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Ue(e,t,o)}else i.current=null}function sp(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){Ue(e,e.return,o)}}function Fu(e,t,i){try{var r=e.stateNode;D0(r,e.type,i,t),r[K]=t}catch(o){Ue(e,e.return,o)}}function rp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mi(e.type)||e.tag===4}function Wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Cn));else if(r!==4&&(r===27&&mi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(ec(e,t,i),e=e.sibling;e!==null;)ec(e,t,i),e=e.sibling}function fl(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&mi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(fl(e,t,i),e=e.sibling;e!==null;)fl(e,t,i),e=e.sibling}function ap(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);St(t,r,i),t[Q]=e,t[K]=i}catch(h){Ue(e,e.return,h)}}var Ln=!1,ct=!1,tc=!1,lp=typeof WeakSet=="function"?WeakSet:Set,yt=null;function f0(e,t){if(e=e.containerInfo,wc=Dl,e=_f(e),Xo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var d=0,v=-1,T=-1,x=0,z=0,L=e,N=null;t:for(;;){for(var U;L!==i||o!==0&&L.nodeType!==3||(v=d+o),L!==h||r!==0&&L.nodeType!==3||(T=d+r),L.nodeType===3&&(d+=L.nodeValue.length),(U=L.firstChild)!==null;)N=L,L=U;for(;;){if(L===e)break t;if(N===i&&++x===o&&(v=d),N===h&&++z===r&&(T=d),(U=L.nextSibling)!==null)break;L=N,N=L.parentNode}L=U}i=v===-1||T===-1?null:{start:v,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ec={focusedElem:e,selectionRange:i},Dl=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,o=h.memoizedProps,h=h.memoizedState,r=i.stateNode;try{var W=Ji(i.type,o);e=r.getSnapshotBeforeUpdate(W,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ue(i,i.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Oc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Oc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function op(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i),r&4&&Vr(5,i);break;case 1:if($n(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Ue(i,i.return,d)}else{var o=Ji(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ue(i,i.return,d)}}r&64&&np(i),r&512&&Gr(i,i.return);break;case 3:if($n(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{If(e,t)}catch(d){Ue(i,i.return,d)}}break;case 27:t===null&&r&4&&ap(i);case 26:case 5:$n(e,i),t===null&&r&4&&sp(i),r&512&&Gr(i,i.return);break;case 12:$n(e,i);break;case 31:$n(e,i),r&4&&hp(e,i);break;case 13:$n(e,i),r&4&&fp(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=S0.bind(null,i),$0(e,i))));break;case 22:if(r=i.memoizedState!==null||Ln,!r){t=t!==null&&t.memoizedState!==null||ct,o=Ln;var h=ct;Ln=r,(ct=t)&&!h?Vn(e,i,(i.subtreeFlags&8772)!==0):$n(e,i),Ln=o,ct=h}break;case 30:break;default:$n(e,i)}}function up(e){var t=e.alternate;t!==null&&(e.alternate=null,up(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&it(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Dt=!1;function Hn(e,t,i){for(i=i.child;i!==null;)cp(e,t,i),i=i.sibling}function cp(e,t,i){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ci,i)}catch{}switch(i.tag){case 26:ct||_n(i,t),Hn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ct||_n(i,t);var r=Xe,o=Dt;mi(i.type)&&(Xe=i.stateNode,Dt=!1),Hn(e,t,i),Fr(i.stateNode),Xe=r,Dt=o;break;case 5:ct||_n(i,t);case 6:if(r=Xe,o=Dt,Xe=null,Hn(e,t,i),Xe=r,Dt=o,Xe!==null)if(Dt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(i.stateNode)}catch(h){Ue(i,t,h)}else try{Xe.removeChild(i.stateNode)}catch(h){Ue(i,t,h)}break;case 18:Xe!==null&&(Dt?(e=Xe,ng(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ks(e)):ng(Xe,i.stateNode));break;case 4:r=Xe,o=Dt,Xe=i.stateNode.containerInfo,Dt=!0,Hn(e,t,i),Xe=r,Dt=o;break;case 0:case 11:case 14:case 15:ci(2,i,t),ct||ci(4,i,t),Hn(e,t,i);break;case 1:ct||(_n(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&ip(i,t,r)),Hn(e,t,i);break;case 21:Hn(e,t,i);break;case 22:ct=(r=ct)||i.memoizedState!==null,Hn(e,t,i),ct=r;break;default:Hn(e,t,i)}}function hp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ks(e)}catch(i){Ue(t,t.return,i)}}}function fp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ks(e)}catch(i){Ue(t,t.return,i)}}function d0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lp),t;default:throw Error(a(435,e.tag))}}function dl(e,t){var i=d0(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var o=w0.bind(null,e,r);r.then(o,o)}})}function Ut(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],h=e,d=t,v=d;e:for(;v!==null;){switch(v.tag){case 27:if(mi(v.type)){Xe=v.stateNode,Dt=!1;break e}break;case 5:Xe=v.stateNode,Dt=!1;break e;case 3:case 4:Xe=v.stateNode.containerInfo,Dt=!0;break e}v=v.return}if(Xe===null)throw Error(a(160));cp(h,d,o),Xe=null,Dt=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dp(t,e),t=t.sibling}var hn=null;function dp(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),Mt(e),r&4&&(ci(3,e,e.return),Vr(3,e),ci(5,e,e.return));break;case 1:Ut(t,e),Mt(e),r&512&&(ct||i===null||_n(i,i.return)),r&64&&Ln&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=hn;if(Ut(t,e),Mt(e),r&512&&(ct||i===null||_n(i,i.return)),r&4){var h=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":h=o.getElementsByTagName("title")[0],(!h||h[We]||h[Q]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(r),o.head.insertBefore(h,o.querySelector("head > title"))),St(h,r,i),h[Q]=e,je(h),r=h;break e;case"link":var d=dg("link","href",o).get(r+(i.href||""));if(d){for(var v=0;v<d.length;v++)if(h=d[v],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(v,1);break t}}h=o.createElement(r),St(h,r,i),o.head.appendChild(h);break;case"meta":if(d=dg("meta","content",o).get(r+(i.content||""))){for(v=0;v<d.length;v++)if(h=d[v],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(v,1);break t}}h=o.createElement(r),St(h,r,i),o.head.appendChild(h);break;default:throw Error(a(468,r))}h[Q]=e,je(h),r=h}e.stateNode=r}else pg(o,e.type,e.stateNode);else e.stateNode=fg(o,r,e.memoizedProps);else h!==r?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,r===null?pg(o,e.type,e.stateNode):fg(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Fu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ut(t,e),Mt(e),r&512&&(ct||i===null||_n(i,i.return)),i!==null&&r&4&&Fu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ut(t,e),Mt(e),r&512&&(ct||i===null||_n(i,i.return)),e.flags&32){o=e.stateNode;try{ys(o,"")}catch(W){Ue(e,e.return,W)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Fu(e,o,i!==null?i.memoizedProps:o)),r&1024&&(tc=!0);break;case 6:if(Ut(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(W){Ue(e,e.return,W)}}break;case 3:if(Cl=null,o=hn,hn=Rl(t.containerInfo),Ut(t,e),hn=o,Mt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Ks(t.containerInfo)}catch(W){Ue(e,e.return,W)}tc&&(tc=!1,pp(e));break;case 4:r=hn,hn=Rl(e.stateNode.containerInfo),Ut(t,e),Mt(e),hn=r;break;case 12:Ut(t,e),Mt(e);break;case 31:Ut(t,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dl(e,r)));break;case 13:Ut(t,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(gl=At()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dl(e,r)));break;case 22:o=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,x=Ln,z=ct;if(Ln=x||o,ct=z||T,Ut(t,e),ct=z,Ln=x,Mt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||T||Ln||ct||Qi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(h=T.stateNode,o)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=T.stateNode;var L=T.memoizedProps.style,N=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(W){Ue(T,T.return,W)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=o?"":T.memoizedProps}catch(W){Ue(T,T.return,W)}}}else if(t.tag===18){if(i===null){T=t;try{var U=T.stateNode;o?ig(U,!0):ig(T.stateNode,!1)}catch(W){Ue(T,T.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,dl(e,i))));break;case 19:Ut(t,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dl(e,r)));break;case 30:break;case 21:break;default:Ut(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(rp(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var o=i.stateNode,h=Wu(e);fl(e,h,o);break;case 5:var d=i.stateNode;i.flags&32&&(ys(d,""),i.flags&=-33);var v=Wu(e);fl(e,v,d);break;case 3:case 4:var T=i.stateNode.containerInfo,x=Wu(e);ec(e,x,T);break;default:throw Error(a(161))}}catch(z){Ue(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $n(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)op(e,t.alternate,t),t=t.sibling}function Qi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ci(4,t,t.return),Qi(t);break;case 1:_n(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&ip(t,t.return,i),Qi(t);break;case 27:Fr(t.stateNode);case 26:case 5:_n(t,t.return),Qi(t);break;case 22:t.memoizedState===null&&Qi(t);break;case 30:Qi(t);break;default:Qi(t)}e=e.sibling}}function Vn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,h=t,d=h.flags;switch(h.tag){case 0:case 11:case 15:Vn(o,h,i),Vr(4,h);break;case 1:if(Vn(o,h,i),r=h,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(x){Ue(r,r.return,x)}if(r=h,o=r.updateQueue,o!==null){var v=r.stateNode;try{var T=o.shared.hiddenCallbacks;if(T!==null)for(o.shared.hiddenCallbacks=null,o=0;o<T.length;o++)Yf(T[o],v)}catch(x){Ue(r,r.return,x)}}i&&d&64&&np(h),Gr(h,h.return);break;case 27:ap(h);case 26:case 5:Vn(o,h,i),i&&r===null&&d&4&&sp(h),Gr(h,h.return);break;case 12:Vn(o,h,i);break;case 31:Vn(o,h,i),i&&d&4&&hp(o,h);break;case 13:Vn(o,h,i),i&&d&4&&fp(o,h);break;case 22:h.memoizedState===null&&Vn(o,h,i),Gr(h,h.return);break;case 30:break;default:Vn(o,h,i)}t=t.sibling}}function nc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Cr(i))}function ic(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cr(e))}function fn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gp(e,t,i,r),t=t.sibling}function gp(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:fn(e,t,i,r),o&2048&&Vr(9,t);break;case 1:fn(e,t,i,r);break;case 3:fn(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cr(e)));break;case 12:if(o&2048){fn(e,t,i,r),e=t.stateNode;try{var h=t.memoizedProps,d=h.id,v=h.onPostCommit;typeof v=="function"&&v(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ue(t,t.return,T)}}else fn(e,t,i,r);break;case 31:fn(e,t,i,r);break;case 13:fn(e,t,i,r);break;case 23:break;case 22:h=t.stateNode,d=t.alternate,t.memoizedState!==null?h._visibility&2?fn(e,t,i,r):Pr(e,t):h._visibility&2?fn(e,t,i,r):(h._visibility|=2,Bs(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&nc(d,t);break;case 24:fn(e,t,i,r),o&2048&&ic(t.alternate,t);break;default:fn(e,t,i,r)}}function Bs(e,t,i,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,d=t,v=i,T=r,x=d.flags;switch(d.tag){case 0:case 11:case 15:Bs(h,d,v,T,o),Vr(8,d);break;case 23:break;case 22:var z=d.stateNode;d.memoizedState!==null?z._visibility&2?Bs(h,d,v,T,o):Pr(h,d):(z._visibility|=2,Bs(h,d,v,T,o)),o&&x&2048&&nc(d.alternate,d);break;case 24:Bs(h,d,v,T,o),o&&x&2048&&ic(d.alternate,d);break;default:Bs(h,d,v,T,o)}t=t.sibling}}function Pr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Pr(i,r),o&2048&&nc(r.alternate,r);break;case 24:Pr(i,r),o&2048&&ic(r.alternate,r);break;default:Pr(i,r)}t=t.sibling}}var Yr=8192;function zs(e,t,i){if(e.subtreeFlags&Yr)for(e=e.child;e!==null;)yp(e,t,i),e=e.sibling}function yp(e,t,i){switch(e.tag){case 26:zs(e,t,i),e.flags&Yr&&e.memoizedState!==null&&W0(i,hn,e.memoizedState,e.memoizedProps);break;case 5:zs(e,t,i);break;case 3:case 4:var r=hn;hn=Rl(e.stateNode.containerInfo),zs(e,t,i),hn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Yr,Yr=16777216,zs(e,t,i),Yr=r):zs(e,t,i));break;default:zs(e,t,i)}}function mp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ir(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];yt=r,_p(r,e)}mp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vp(e),e=e.sibling}function vp(e){switch(e.tag){case 0:case 11:case 15:Ir(e),e.flags&2048&&ci(9,e,e.return);break;case 3:Ir(e);break;case 12:Ir(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pl(e)):Ir(e);break;default:Ir(e)}}function pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];yt=r,_p(r,e)}mp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ci(8,t,t.return),pl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,pl(t));break;default:pl(t)}e=e.sibling}}function _p(e,t){for(;yt!==null;){var i=yt;switch(i.tag){case 0:case 11:case 15:ci(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Cr(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,yt=r;else e:for(i=e;yt!==null;){r=yt;var o=r.sibling,h=r.return;if(up(r),r===i){yt=null;break e}if(o!==null){o.return=h,yt=o;break e}yt=h}}}var p0={getCacheForType:function(e){var t=_t(lt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return _t(lt).controller.signal}},g0=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ve=null,me=null,Se=0,De=0,Pt=null,hi=!1,qs=!1,sc=!1,Gn=0,tt=0,fi=0,Zi=0,rc=0,Yt=0,Ls=0,Kr=null,Bt=null,ac=!1,gl=0,bp=0,yl=1/0,ml=null,di=null,pt=0,pi=null,Hs=null,Pn=0,lc=0,oc=null,Sp=null,Xr=0,uc=null;function It(){return(xe&2)!==0&&Se!==0?Se&-Se:M.T!==null?gc():Oa()}function wp(){if(Yt===0)if((Se&536870912)===0||Te){var e=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Yt=e}else Yt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Yt}function zt(e,t,i){(e===Ve&&(De===2||De===9)||e.cancelPendingCommit!==null)&&($s(e,0),gi(e,Se,Yt,!1)),Di(e,i),((xe&2)===0||e!==Ve)&&(e===Ve&&((xe&2)===0&&(Zi|=i),tt===4&&gi(e,Se,Yt,!1)),bn(e))}function Ep(e,t,i){if((xe&6)!==0)throw Error(a(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Ni(e,t),o=r?v0(e,t):hc(e,t,!0),h=r;do{if(o===0){qs&&!r&&gi(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!y0(i)){o=hc(e,t,!1),h=!1;continue}if(o===2){if(h=t,e.errorRecoveryDisabledLanes&h)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var v=e;o=Kr;var T=v.current.memoizedState.isDehydrated;if(T&&($s(v,d).flags|=256),d=hc(v,d,!1),d!==2){if(sc&&!T){v.errorRecoveryDisabledLanes|=h,Zi|=h,o=4;break e}h=Bt,Bt=o,h!==null&&(Bt===null?Bt=h:Bt.push.apply(Bt,h))}o=d}if(h=!1,o!==2)continue}}if(o===1){$s(e,0),gi(e,t,0,!0);break}e:{switch(r=e,h=o,h){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:gi(r,t,Yt,!hi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(o=gl+300-At(),10<o)){if(gi(r,t,Yt,!hi),ds(r,0,!0)!==0)break e;Pn=t,r.timeoutHandle=eg(Tp.bind(null,r,i,Bt,ml,ac,t,Yt,Zi,Ls,hi,h,"Throttled",-0,0),o);break e}Tp(r,i,Bt,ml,ac,t,Yt,Zi,Ls,hi,h,null,-0,0)}}break}while(!0);bn(e)}function Tp(e,t,i,r,o,h,d,v,T,x,z,L,N,U){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},yp(t,h,L);var W=(h&62914560)===h?gl-At():(h&4194048)===h?bp-At():0;if(W=e_(L,W),W!==null){Pn=h,e.cancelPendingCommit=W(Np.bind(null,e,t,h,i,r,o,d,v,T,z,L,null,N,U)),gi(e,h,d,!x);return}}Np(e,t,h,i,r,o,d,v,T)}function y0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],h=o.getSnapshot;o=o.value;try{if(!Ht(h(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gi(e,t,i,r){t&=~rc,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var h=31-Ct(o),d=1<<h;r[h]=-1,o&=~d}i!==0&&Ta(e,i,t)}function vl(){return(xe&6)===0?(Jr(0),!1):!0}function cc(){if(me!==null){if(De===0)var e=me.return;else e=me,Dn=Vi=null,Ou(e),xs=null,xr=0,e=me;for(;e!==null;)tp(e.alternate,e),e=e.return;me=null}}function $s(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,B0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Pn=0,cc(),Ve=e,me=i=xn(e.current,null),Se=t,De=0,Pt=null,hi=!1,qs=Ni(e,t),sc=!1,Ls=Yt=rc=Zi=fi=tt=0,Bt=Kr=null,ac=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Ct(r),h=1<<o;t|=e[o],r&=~h}return Gn=t,La(),i}function Ap(e,t){de=null,M.H=Lr,t===js||t===Ka?(t=$f(),De=3):t===pu?(t=$f(),De=4):De=t===Vu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,me===null&&(tt=1,ll(e,en(t,e.current)))}function Op(){var e=Vt.current;return e===null?!0:(Se&4194048)===Se?rn===null:(Se&62914560)===Se||(Se&536870912)!==0?e===rn:!1}function Rp(){var e=M.H;return M.H=Lr,e===null?Lr:e}function kp(){var e=M.A;return M.A=p0,e}function _l(){tt=4,hi||(Se&4194048)!==Se&&Vt.current!==null||(qs=!0),(fi&134217727)===0&&(Zi&134217727)===0||Ve===null||gi(Ve,Se,Yt,!1)}function hc(e,t,i){var r=xe;xe|=2;var o=Rp(),h=kp();(Ve!==e||Se!==t)&&(ml=null,$s(e,t)),t=!1;var d=tt;e:do try{if(De!==0&&me!==null){var v=me,T=Pt;switch(De){case 8:cc(),d=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var x=De;if(De=0,Pt=null,Vs(e,v,T,x),i&&qs){d=0;break e}break;default:x=De,De=0,Pt=null,Vs(e,v,T,x)}}m0(),d=tt;break}catch(z){Ap(e,z)}while(!0);return t&&e.shellSuspendCounter++,Dn=Vi=null,xe=r,M.H=o,M.A=h,me===null&&(Ve=null,Se=0,La()),d}function m0(){for(;me!==null;)Cp(me)}function v0(e,t){var i=xe;xe|=2;var r=Rp(),o=kp();Ve!==e||Se!==t?(ml=null,yl=At()+500,$s(e,t)):qs=Ni(e,t);e:do try{if(De!==0&&me!==null){t=me;var h=Pt;t:switch(De){case 1:De=0,Pt=null,Vs(e,t,h,1);break;case 2:case 9:if(Lf(h)){De=0,Pt=null,jp(t);break}t=function(){De!==2&&De!==9||Ve!==e||(De=7),bn(e)},h.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Lf(h)?(De=0,Pt=null,jp(t)):(De=0,Pt=null,Vs(e,t,h,7));break;case 5:var d=null;switch(me.tag){case 26:d=me.memoizedState;case 5:case 27:var v=me;if(d?gg(d):v.stateNode.complete){De=0,Pt=null;var T=v.sibling;if(T!==null)me=T;else{var x=v.return;x!==null?(me=x,bl(x)):me=null}break t}}De=0,Pt=null,Vs(e,t,h,5);break;case 6:De=0,Pt=null,Vs(e,t,h,6);break;case 8:cc(),tt=6;break e;default:throw Error(a(462))}}_0();break}catch(z){Ap(e,z)}while(!0);return Dn=Vi=null,M.H=r,M.A=o,xe=i,me!==null?0:(Ve=null,Se=0,La(),tt)}function _0(){for(;me!==null&&!hr();)Cp(me)}function Cp(e){var t=Wd(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?bl(e):me=t}function jp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Kd(i,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Kd(i,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Ou(t);default:tp(i,t),t=me=kf(t,Gn),t=Wd(i,t,Gn)}e.memoizedProps=e.pendingProps,t===null?bl(e):me=t}function Vs(e,t,i,r){Dn=Vi=null,Ou(t),xs=null,xr=0;var o=t.return;try{if(l0(e,o,t,i,Se)){tt=1,ll(e,en(i,e.current)),me=null;return}}catch(h){if(o!==null)throw me=o,h;tt=1,ll(e,en(i,e.current)),me=null;return}t.flags&32768?(Te||r===1?e=!0:qs||(Se&536870912)!==0?e=!1:(hi=e=!0,(r===2||r===9||r===3||r===6)&&(r=Vt.current,r!==null&&r.tag===13&&(r.flags|=16384))),xp(t,e)):bl(t)}function bl(e){var t=e;do{if((t.flags&32768)!==0){xp(t,hi);return}e=t.return;var i=c0(t.alternate,t,Gn);if(i!==null){me=i;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);tt===0&&(tt=5)}function xp(e,t){do{var i=h0(e.alternate,e);if(i!==null){i.flags&=32767,me=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=i}while(e!==null);tt=6,me=null}function Np(e,t,i,r,o,h,d,v,T){e.cancelPendingCommit=null;do Sl();while(pt!==0);if((xe&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(h=t.lanes|t.childLanes,h|=Wo,xo(e,i,h,d,v,T),e===Ve&&(me=Ve=null,Se=0),Hs=t,pi=e,Pn=i,lc=h,oc=o,Sp=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E0(fs,function(){return zp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=M.T,M.T=null,o=Y.p,Y.p=2,d=xe,xe|=4;try{f0(e,t,i)}finally{xe=d,Y.p=o,M.T=r}}pt=1,Dp(),Up(),Mp()}}function Dp(){if(pt===1){pt=0;var e=pi,t=Hs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var r=Y.p;Y.p=2;var o=xe;xe|=4;try{dp(t,e);var h=Ec,d=_f(e.containerInfo),v=h.focusedElem,T=h.selectionRange;if(d!==v&&v&&v.ownerDocument&&vf(v.ownerDocument.documentElement,v)){if(T!==null&&Xo(v)){var x=T.start,z=T.end;if(z===void 0&&(z=x),"selectionStart"in v)v.selectionStart=x,v.selectionEnd=Math.min(z,v.value.length);else{var L=v.ownerDocument||document,N=L&&L.defaultView||window;if(N.getSelection){var U=N.getSelection(),W=v.textContent.length,ae=Math.min(T.start,W),qe=T.end===void 0?ae:Math.min(T.end,W);!U.extend&&ae>qe&&(d=qe,qe=ae,ae=d);var C=mf(v,ae),A=mf(v,qe);if(C&&A&&(U.rangeCount!==1||U.anchorNode!==C.node||U.anchorOffset!==C.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var j=L.createRange();j.setStart(C.node,C.offset),U.removeAllRanges(),ae>qe?(U.addRange(j),U.extend(A.node,A.offset)):(j.setEnd(A.node,A.offset),U.addRange(j))}}}}for(L=[],U=v;U=U.parentNode;)U.nodeType===1&&L.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var q=L[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Dl=!!wc,Ec=wc=null}finally{xe=o,Y.p=r,M.T=i}}e.current=t,pt=2}}function Up(){if(pt===2){pt=0;var e=pi,t=Hs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var r=Y.p;Y.p=2;var o=xe;xe|=4;try{op(e,t.alternate,t)}finally{xe=o,Y.p=r,M.T=i}}pt=3}}function Mp(){if(pt===4||pt===3){pt=0,Ro();var e=pi,t=Hs,i=Pn,r=Sp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,Hs=pi=null,Bp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(di=null),yr(i),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=M.T,o=Y.p,Y.p=2,M.T=null;try{for(var h=e.onRecoverableError,d=0;d<r.length;d++){var v=r[d];h(v.value,{componentStack:v.stack})}}finally{M.T=t,Y.p=o}}(Pn&3)!==0&&Sl(),bn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===uc?Xr++:(Xr=0,uc=e):Xr=0,Jr(0)}}function Bp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cr(t)))}function Sl(){return Dp(),Up(),Mp(),zp()}function zp(){if(pt!==5)return!1;var e=pi,t=lc;lc=0;var i=yr(Pn),r=M.T,o=Y.p;try{Y.p=32>i?32:i,M.T=null,i=oc,oc=null;var h=pi,d=Pn;if(pt=0,Hs=pi=null,Pn=0,(xe&6)!==0)throw Error(a(331));var v=xe;if(xe|=4,vp(h.current),gp(h,h.current,d,i),xe=v,Jr(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ci,h)}catch{}return!0}finally{Y.p=o,M.T=r,Bp(e,t)}}function qp(e,t,i){t=en(i,t),t=$u(e.stateNode,t,2),e=li(e,t,2),e!==null&&(Di(e,2),bn(e))}function Ue(e,t,i){if(e.tag===3)qp(e,e,i);else for(;t!==null;){if(t.tag===3){qp(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){e=en(i,e),i=Ld(2),r=li(t,i,2),r!==null&&(Hd(i,r,t,e),Di(r,2),bn(r));break}}t=t.return}}function fc(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new g0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(sc=!0,o.add(i),e=b0.bind(null,e,t,i),t.then(e,e))}function b0(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ve===e&&(Se&i)===i&&(tt===4||tt===3&&(Se&62914560)===Se&&300>At()-gl?(xe&2)===0&&$s(e,0):rc|=i,Ls===Se&&(Ls=0)),bn(e)}function Lp(e,t){t===0&&(t=dr()),e=Li(e,t),e!==null&&(Di(e,t),bn(e))}function S0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Lp(e,i)}function w0(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),Lp(e,i)}function E0(e,t){return os(e,t)}var wl=null,Gs=null,dc=!1,El=!1,pc=!1,yi=0;function bn(e){e!==Gs&&e.next===null&&(Gs===null?wl=Gs=e:Gs=Gs.next=e),El=!0,dc||(dc=!0,A0())}function Jr(e,t){if(!pc&&El){pc=!0;do for(var i=!1,r=wl;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var h=0;else{var d=r.suspendedLanes,v=r.pingedLanes;h=(1<<31-Ct(42|e)+1)-1,h&=o&~(d&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Gp(r,h))}else h=Se,h=ds(r,r===Ve?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Ni(r,h)||(i=!0,Gp(r,h));r=r.next}while(i);pc=!1}}function T0(){Hp()}function Hp(){El=dc=!1;var e=0;yi!==0&&M0()&&(e=yi);for(var t=At(),i=null,r=wl;r!==null;){var o=r.next,h=$p(r,t);h===0?(r.next=null,i===null?wl=o:i.next=o,o===null&&(Gs=i)):(i=r,(e!==0||(h&3)!==0)&&(El=!0)),r=o}pt!==0&&pt!==5||Jr(e),yi!==0&&(yi=0)}function $p(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var d=31-Ct(h),v=1<<d,T=o[d];T===-1?((v&i)===0||(v&r)!==0)&&(o[d]=jo(v,t)):T<=t&&(e.expiredLanes|=v),h&=~v}if(t=Ve,i=Se,i=ds(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&us(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ni(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&us(r),yr(i)){case 2:case 8:i=hs;break;case 32:i=fs;break;case 268435456:i=Ea;break;default:i=fs}return r=Vp.bind(null,e),i=os(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&us(r),e.callbackPriority=2,e.callbackNode=null,2}function Vp(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Sl()&&e.callbackNode!==i)return null;var r=Se;return r=ds(e,e===Ve?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Ep(e,r,t),$p(e,At()),e.callbackNode!=null&&e.callbackNode===i?Vp.bind(null,e):null)}function Gp(e,t){if(Sl())return null;Ep(e,t,!0)}function A0(){z0(function(){(xe&6)!==0?os(cs,T0):Hp()})}function gc(){if(yi===0){var e=ks;e===0&&(e=Ne,Ne<<=1,(Ne&261888)===0&&(Ne=256)),yi=e}return yi}function Pp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xa(""+e)}function Yp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function O0(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var h=Pp((o[K]||null).action),d=r.submitter;d&&(t=(t=d[K]||null)?Pp(t.formAction):d.getAttribute("formAction"),t!==null&&(h=t,d=null));var v=new Ma("action","action",null,r,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(yi!==0){var T=d?Yp(o,d):new FormData(o);Mu(i,{pending:!0,data:T,method:o.method,action:h},null,T)}}else typeof h=="function"&&(v.preventDefault(),T=d?Yp(o,d):new FormData(o),Mu(i,{pending:!0,data:T,method:o.method,action:h},h,T))},currentTarget:o}]})}}for(var yc=0;yc<Fo.length;yc++){var mc=Fo[yc],R0=mc.toLowerCase(),k0=mc[0].toUpperCase()+mc.slice(1);cn(R0,"on"+k0)}cn(wf,"onAnimationEnd"),cn(Ef,"onAnimationIteration"),cn(Tf,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(Pv,"onTransitionRun"),cn(Yv,"onTransitionStart"),cn(Iv,"onTransitionCancel"),cn(Af,"onTransitionEnd"),Fn("onMouseEnter",["mouseout","mouseover"]),Fn("onMouseLeave",["mouseout","mouseover"]),Fn("onPointerEnter",["pointerout","pointerover"]),Fn("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qr));function Ip(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var h=void 0;if(t)for(var d=r.length-1;0<=d;d--){var v=r[d],T=v.instance,x=v.currentTarget;if(v=v.listener,T!==h&&o.isPropagationStopped())break e;h=v,o.currentTarget=x;try{h(o)}catch(z){qa(z)}o.currentTarget=null,h=T}else for(d=0;d<r.length;d++){if(v=r[d],T=v.instance,x=v.currentTarget,v=v.listener,T!==h&&o.isPropagationStopped())break e;h=v,o.currentTarget=x;try{h(o)}catch(z){qa(z)}o.currentTarget=null,h=T}}}}function ve(e,t){var i=t[Ze];i===void 0&&(i=t[Ze]=new Set);var r=e+"__bubble";i.has(r)||(Kp(t,e,2,!1),i.add(r))}function vc(e,t,i){var r=0;t&&(r|=4),Kp(i,e,r,t)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function _c(e){if(!e[Tl]){e[Tl]=!0,mr.forEach(function(i){i!=="selectionchange"&&(C0.has(i)||vc(i,!1,e),vc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tl]||(t[Tl]=!0,vc("selectionchange",!1,t))}}function Kp(e,t,i,r){switch(wg(t)){case 2:var o=i_;break;case 8:o=s_;break;default:o=Uc}i=o.bind(null,t,i,e),o=void 0,!Lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function bc(e,t,i,r,o){var h=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var v=r.stateNode.containerInfo;if(v===o)break;if(d===4)for(d=r.return;d!==null;){var T=d.tag;if((T===3||T===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;v!==null;){if(d=st(v),d===null)return;if(T=d.tag,T===5||T===6||T===26||T===27){r=h=d;continue e}v=v.parentNode}}r=r.return}Zh(function(){var x=h,z=zo(i),L=[];e:{var N=Of.get(e);if(N!==void 0){var U=Ma,W=e;switch(e){case"keypress":if(Da(i)===0)break e;case"keydown":case"keyup":U=wv;break;case"focusin":W="focus",U=Go;break;case"focusout":W="blur",U=Go;break;case"beforeblur":case"afterblur":U=Go;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=cv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Av;break;case wf:case Ef:case Tf:U=dv;break;case Af:U=Rv;break;case"scroll":case"scrollend":U=ov;break;case"wheel":U=Cv;break;case"copy":case"cut":case"paste":U=gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=nf;break;case"toggle":case"beforetoggle":U=xv}var ae=(t&4)!==0,qe=!ae&&(e==="scroll"||e==="scrollend"),C=ae?N!==null?N+"Capture":null:N;ae=[];for(var A=x,j;A!==null;){var q=A;if(j=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||j===null||C===null||(q=vr(A,C),q!=null&&ae.push(Zr(A,q,j))),qe)break;A=A.return}0<ae.length&&(N=new U(N,W,null,i,z),L.push({event:N,listeners:ae}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",N&&i!==Bo&&(W=i.relatedTarget||i.fromElement)&&(st(W)||W[be]))break e;if((U||N)&&(N=z.window===z?z:(N=z.ownerDocument)?N.defaultView||N.parentWindow:window,U?(W=i.relatedTarget||i.toElement,U=x,W=W?st(W):null,W!==null&&(qe=c(W),ae=W.tag,W!==qe||ae!==5&&ae!==27&&ae!==6)&&(W=null)):(U=null,W=x),U!==W)){if(ae=ef,q="onMouseLeave",C="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ae=nf,q="onPointerLeave",C="onPointerEnter",A="pointer"),qe=U==null?N:Jt(U),j=W==null?N:Jt(W),N=new ae(q,A+"leave",U,i,z),N.target=qe,N.relatedTarget=j,q=null,st(z)===x&&(ae=new ae(C,A+"enter",W,i,z),ae.target=j,ae.relatedTarget=qe,q=ae),qe=q,U&&W)t:{for(ae=j0,C=U,A=W,j=0,q=C;q;q=ae(q))j++;q=0;for(var se=A;se;se=ae(se))q++;for(;0<j-q;)C=ae(C),j--;for(;0<q-j;)A=ae(A),q--;for(;j--;){if(C===A||A!==null&&C===A.alternate){ae=C;break t}C=ae(C),A=ae(A)}ae=null}else ae=null;U!==null&&Xp(L,N,U,ae,!1),W!==null&&qe!==null&&Xp(L,qe,W,ae,!0)}}e:{if(N=x?Jt(x):window,U=N.nodeName&&N.nodeName.toLowerCase(),U==="select"||U==="input"&&N.type==="file")var ke=hf;else if(uf(N))if(ff)ke=$v;else{ke=Lv;var te=qv}else U=N.nodeName,!U||U.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?x&&Mo(x.elementType)&&(ke=hf):ke=Hv;if(ke&&(ke=ke(e,x))){cf(L,ke,i,z);break e}te&&te(e,N,x),e==="focusout"&&x&&N.type==="number"&&x.memoizedProps.value!=null&&Uo(N,"number",N.value)}switch(te=x?Jt(x):window,e){case"focusin":(uf(te)||te.contentEditable==="true")&&(bs=te,Jo=x,Or=null);break;case"focusout":Or=Jo=bs=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,bf(L,i,z);break;case"selectionchange":if(Gv)break;case"keydown":case"keyup":bf(L,i,z)}var pe;if(Yo)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else _s?lf(e,i)&&(we="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(we="onCompositionStart");we&&(sf&&i.locale!=="ko"&&(_s||we!=="onCompositionStart"?we==="onCompositionEnd"&&_s&&(pe=Fh()):(ei=z,Ho="value"in ei?ei.value:ei.textContent,_s=!0)),te=Al(x,we),0<te.length&&(we=new tf(we,e,null,i,z),L.push({event:we,listeners:te}),pe?we.data=pe:(pe=of(i),pe!==null&&(we.data=pe)))),(pe=Dv?Uv(e,i):Mv(e,i))&&(we=Al(x,"onBeforeInput"),0<we.length&&(te=new tf("onBeforeInput","beforeinput",null,i,z),L.push({event:te,listeners:we}),te.data=pe)),O0(L,e,x,i,z)}Ip(L,t)})}function Zr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Al(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=vr(e,i),o!=null&&r.unshift(Zr(e,o,h)),o=vr(e,t),o!=null&&r.push(Zr(e,o,h))),e.tag===3)return r;e=e.return}return[]}function j0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xp(e,t,i,r,o){for(var h=t._reactName,d=[];i!==null&&i!==r;){var v=i,T=v.alternate,x=v.stateNode;if(v=v.tag,T!==null&&T===r)break;v!==5&&v!==26&&v!==27||x===null||(T=x,o?(x=vr(i,h),x!=null&&d.unshift(Zr(i,x,T))):o||(x=vr(i,h),x!=null&&d.push(Zr(i,x,T)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var x0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function Jp(e){return(typeof e=="string"?e:""+e).replace(x0,`
`).replace(N0,"")}function Qp(e,t){return t=Jp(t),Jp(e)===t}function ze(e,t,i,r,o,h){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ys(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ys(e,""+r);break;case"className":Ca(e,"class",r);break;case"tabIndex":Ca(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ca(e,i,r);break;case"style":Jh(e,r,h);break;case"data":if(t!=="object"){Ca(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=xa(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=xa(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Cn);break;case"onScroll":r!=null&&ve("scroll",e);break;case"onScrollEnd":r!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=xa(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Mi(e,"popover",r);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Mi(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=av.get(i)||i,Mi(e,i,r))}}function Sc(e,t,i,r,o,h){switch(i){case"style":Jh(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof r=="string"?ys(e,r):(typeof r=="number"||typeof r=="bigint")&&ys(e,""+r);break;case"onScroll":r!=null&&ve("scroll",e);break;case"onScrollEnd":r!=null&&ve("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qt.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),h=e[K]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,o),typeof r=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):Mi(e,i,r)}}}function St(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var r=!1,o=!1,h;for(h in i)if(i.hasOwnProperty(h)){var d=i[h];if(d!=null)switch(h){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ze(e,t,h,d,i,null)}}o&&ze(e,t,"srcSet",i.srcSet,i,null),r&&ze(e,t,"src",i.src,i,null);return;case"input":ve("invalid",e);var v=h=d=o=null,T=null,x=null;for(r in i)if(i.hasOwnProperty(r)){var z=i[r];if(z!=null)switch(r){case"name":o=z;break;case"type":d=z;break;case"checked":T=z;break;case"defaultChecked":x=z;break;case"value":h=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,t));break;default:ze(e,t,r,z,i,null)}}Yh(e,h,v,T,x,d,o,!1);return;case"select":ve("invalid",e),r=d=h=null;for(o in i)if(i.hasOwnProperty(o)&&(v=i[o],v!=null))switch(o){case"value":h=v;break;case"defaultValue":d=v;break;case"multiple":r=v;default:ze(e,t,o,v,i,null)}t=h,i=d,e.multiple=!!r,t!=null?gs(e,!!r,t,!1):i!=null&&gs(e,!!r,i,!0);return;case"textarea":ve("invalid",e),h=o=r=null;for(d in i)if(i.hasOwnProperty(d)&&(v=i[d],v!=null))switch(d){case"value":r=v;break;case"defaultValue":o=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:ze(e,t,d,v,i,null)}Kh(e,r,o,h);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(r=i[T],r!=null))switch(T){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ze(e,t,T,r,i,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(r=0;r<Qr.length;r++)ve(Qr[r],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in i)if(i.hasOwnProperty(x)&&(r=i[x],r!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ze(e,t,x,r,i,null)}return;default:if(Mo(t)){for(z in i)i.hasOwnProperty(z)&&(r=i[z],r!==void 0&&Sc(e,t,z,r,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(r=i[v],r!=null&&ze(e,t,v,r,i,null))}function D0(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,d=null,v=null,T=null,x=null,z=null;for(U in i){var L=i[U];if(i.hasOwnProperty(U)&&L!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":T=L;default:r.hasOwnProperty(U)||ze(e,t,U,null,r,L)}}for(var N in r){var U=r[N];if(L=i[N],r.hasOwnProperty(N)&&(U!=null||L!=null))switch(N){case"type":h=U;break;case"name":o=U;break;case"checked":x=U;break;case"defaultChecked":z=U;break;case"value":d=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,t));break;default:U!==L&&ze(e,t,N,U,r,L)}}Do(e,d,v,T,x,z,h,o);return;case"select":U=d=v=N=null;for(h in i)if(T=i[h],i.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":U=T;default:r.hasOwnProperty(h)||ze(e,t,h,null,r,T)}for(o in r)if(h=r[o],T=i[o],r.hasOwnProperty(o)&&(h!=null||T!=null))switch(o){case"value":N=h;break;case"defaultValue":v=h;break;case"multiple":d=h;default:h!==T&&ze(e,t,o,h,r,T)}t=v,i=d,r=U,N!=null?gs(e,!!i,N,!1):!!r!=!!i&&(t!=null?gs(e,!!i,t,!0):gs(e,!!i,i?[]:"",!1));return;case"textarea":U=N=null;for(v in i)if(o=i[v],i.hasOwnProperty(v)&&o!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ze(e,t,v,null,r,o)}for(d in r)if(o=r[d],h=i[d],r.hasOwnProperty(d)&&(o!=null||h!=null))switch(d){case"value":N=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(a(91));break;default:o!==h&&ze(e,t,d,o,r,h)}Ih(e,N,U);return;case"option":for(var W in i)if(N=i[W],i.hasOwnProperty(W)&&N!=null&&!r.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:ze(e,t,W,null,r,N)}for(T in r)if(N=r[T],U=i[T],r.hasOwnProperty(T)&&N!==U&&(N!=null||U!=null))switch(T){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:ze(e,t,T,N,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in i)N=i[ae],i.hasOwnProperty(ae)&&N!=null&&!r.hasOwnProperty(ae)&&ze(e,t,ae,null,r,N);for(x in r)if(N=r[x],U=i[x],r.hasOwnProperty(x)&&N!==U&&(N!=null||U!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,t));break;default:ze(e,t,x,N,r,U)}return;default:if(Mo(t)){for(var qe in i)N=i[qe],i.hasOwnProperty(qe)&&N!==void 0&&!r.hasOwnProperty(qe)&&Sc(e,t,qe,void 0,r,N);for(z in r)N=r[z],U=i[z],!r.hasOwnProperty(z)||N===U||N===void 0&&U===void 0||Sc(e,t,z,N,r,U);return}}for(var C in i)N=i[C],i.hasOwnProperty(C)&&N!=null&&!r.hasOwnProperty(C)&&ze(e,t,C,null,r,N);for(L in r)N=r[L],U=i[L],!r.hasOwnProperty(L)||N===U||N==null&&U==null||ze(e,t,L,N,r,U)}function Zp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var o=i[r],h=o.transferSize,d=o.initiatorType,v=o.duration;if(h&&v&&Zp(d)){for(d=0,v=o.responseEnd,r+=1;r<i.length;r++){var T=i[r],x=T.startTime;if(x>v)break;var z=T.transferSize,L=T.initiatorType;z&&Zp(L)&&(T=T.responseEnd,d+=z*(T<v?1:(v-x)/(T-x)))}if(--r,t+=8*(h+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wc=null,Ec=null;function Ol(e){return e.nodeType===9?e:e.ownerDocument}function Fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ac=null;function M0(){var e=window.event;return e&&e.type==="popstate"?e===Ac?!1:(Ac=e,!0):(Ac=null,!1)}var eg=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(e){return tg.resolve(null).then(e).catch(q0)}:eg;function q0(e){setTimeout(function(){throw e})}function mi(e){return e==="head"}function ng(e,t){var i=t,r=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(o),Ks(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Fr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Fr(i);for(var h=i.firstChild;h;){var d=h.nextSibling,v=h.nodeName;h[We]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=d}}else i==="body"&&Fr(e.ownerDocument.body);i=o}while(i);Ks(t)}function ig(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function Oc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Oc(i),it(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function L0(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=an(e.nextSibling),e===null)break}return null}function H0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=an(e.nextSibling),e===null))return null;return e}function sg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=an(e.nextSibling),e===null))return null;return e}function Rc(e){return e.data==="$?"||e.data==="$~"}function kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cc=null;function rg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return an(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function ag(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function lg(e,t,i){switch(t=Ol(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Fr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);it(e)}var ln=new Map,og=new Set;function Rl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=Y.d;Y.d={f:V0,r:G0,D:P0,C:Y0,L:I0,m:K0,X:J0,S:X0,M:Q0};function V0(){var e=Yn.f(),t=vl();return e||t}function G0(e){var t=$e(e);t!==null&&t.tag===5&&t.type==="form"?Ad(t):Yn.r(e)}var Ps=typeof document>"u"?null:document;function ug(e,t,i){var r=Ps;if(r&&typeof t=="string"&&t){var o=Ft(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),og.has(o)||(og.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),St(t,"link",e),je(t),r.head.appendChild(t)))}}function P0(e){Yn.D(e),ug("dns-prefetch",e,null)}function Y0(e,t){Yn.C(e,t),ug("preconnect",e,t)}function I0(e,t,i){Yn.L(e,t,i);var r=Ps;if(r&&e&&t){var o='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Ft(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Ft(i.imageSizes)+'"]')):o+='[href="'+Ft(e)+'"]';var h=o;switch(t){case"style":h=Ys(e);break;case"script":h=Is(e)}ln.has(h)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),ln.set(h,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Wr(h))||t==="script"&&r.querySelector(ea(h))||(t=r.createElement("link"),St(t,"link",e),je(t),r.head.appendChild(t)))}}function K0(e,t){Yn.m(e,t);var i=Ps;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ft(r)+'"][href="'+Ft(e)+'"]',h=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Is(e)}if(!ln.has(h)&&(e=S({rel:"modulepreload",href:e},t),ln.set(h,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ea(h)))return}r=i.createElement("link"),St(r,"link",e),je(r),i.head.appendChild(r)}}}function X0(e,t,i){Yn.S(e,t,i);var r=Ps;if(r&&e){var o=An(r).hoistableStyles,h=Ys(e);t=t||"default";var d=o.get(h);if(!d){var v={loading:0,preload:null};if(d=r.querySelector(Wr(h)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=ln.get(h))&&jc(e,i);var T=d=r.createElement("link");je(T),St(T,"link",e),T._p=new Promise(function(x,z){T.onload=x,T.onerror=z}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,kl(d,t,r)}d={type:"stylesheet",instance:d,count:1,state:v},o.set(h,d)}}}function J0(e,t){Yn.X(e,t);var i=Ps;if(i&&e){var r=An(i).hoistableScripts,o=Is(e),h=r.get(o);h||(h=i.querySelector(ea(o)),h||(e=S({src:e,async:!0},t),(t=ln.get(o))&&xc(e,t),h=i.createElement("script"),je(h),St(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(o,h))}}function Q0(e,t){Yn.M(e,t);var i=Ps;if(i&&e){var r=An(i).hoistableScripts,o=Is(e),h=r.get(o);h||(h=i.querySelector(ea(o)),h||(e=S({src:e,async:!0,type:"module"},t),(t=ln.get(o))&&xc(e,t),h=i.createElement("script"),je(h),St(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(o,h))}}function cg(e,t,i,r){var o=(o=ge.current)?Rl(o):null;if(!o)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ys(i.href),i=An(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ys(i.href);var h=An(o).hoistableStyles,d=h.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,d),(h=o.querySelector(Wr(e)))&&!h._p&&(d.instance=h,d.state.loading=5),ln.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ln.set(e,i),h||Z0(o,e,i,d.state))),t&&r===null)throw Error(a(528,""));return d}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Is(i),i=An(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ys(e){return'href="'+Ft(e)+'"'}function Wr(e){return'link[rel="stylesheet"]['+e+"]"}function hg(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),St(t,"link",i),je(t),e.head.appendChild(t))}function Is(e){return'[src="'+Ft(e)+'"]'}function ea(e){return"script[async]"+e}function fg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Ft(i.href)+'"]');if(r)return t.instance=r,je(r),r;var o=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),je(r),St(r,"style",o),kl(r,i.precedence,e),t.instance=r;case"stylesheet":o=Ys(i.href);var h=e.querySelector(Wr(o));if(h)return t.state.loading|=4,t.instance=h,je(h),h;r=hg(i),(o=ln.get(o))&&jc(r,o),h=(e.ownerDocument||e).createElement("link"),je(h);var d=h;return d._p=new Promise(function(v,T){d.onload=v,d.onerror=T}),St(h,"link",r),t.state.loading|=4,kl(h,i.precedence,e),t.instance=h;case"script":return h=Is(i.src),(o=e.querySelector(ea(h)))?(t.instance=o,je(o),o):(r=i,(o=ln.get(h))&&(r=S({},i),xc(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),je(o),St(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,kl(r,i.precedence,e));return t.instance}function kl(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,h=o,d=0;d<r.length;d++){var v=r[d];if(v.dataset.precedence===t)h=v;else if(h!==o)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cl=null;function dg(e,t,i){if(Cl===null){var r=new Map,o=Cl=new Map;o.set(i,r)}else o=Cl,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var h=i[o];if(!(h[We]||h[Q]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var d=h.getAttribute(t)||"";d=e+d;var v=r.get(d);v?v.push(h):r.set(d,[h])}}return r}function pg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function F0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W0(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Ys(r.href),h=t.querySelector(Wr(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=jl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=h,je(h);return}h=t.ownerDocument||t,r=hg(r),(o=ln.get(o))&&jc(r,o),h=h.createElement("link"),je(h);var d=h;d._p=new Promise(function(v,T){d.onload=v,d.onerror=T}),St(h,"link",r),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=jl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Nc=0;function e_(e,t){return e.stylesheets&&e.count===0&&Nl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&Nl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&Nc===0&&(Nc=62500*U0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Nl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Nc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xl=null;function Nl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xl=new Map,t.forEach(t_,e),xl=null,jl.call(e))}function t_(e,t){if(!(t.state.loading&4)){var i=xl.get(e);if(i)var r=i.get(null);else{i=new Map,xl.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var d=o[h];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),r=d)}r&&i.set(null,r)}o=t.instance,d=o.getAttribute("data-precedence"),h=i.get(d)||r,h===r&&i.set(null,o),i.set(d,o),this.count++,r=jl.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),h?h.parentNode.insertBefore(o,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ta={$$typeof:B,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function n_(e,t,i,r,o,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function yg(e,t,i,r,o,h,d,v,T,x,z,L){return e=new n_(e,t,i,d,T,x,z,L,v),t=1,h===!0&&(t|=24),h=$t(3,null,null,t),e.current=h,h.stateNode=e,t=hu(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:r,isDehydrated:i,cache:t},gu(h),e}function mg(e){return e?(e=Es,e):Es}function vg(e,t,i,r,o,h){o=mg(o),r.context===null?r.context=o:r.pendingContext=o,r=ai(t),r.payload={element:i},h=h===void 0?null:h,h!==null&&(r.callback=h),i=li(e,r,t),i!==null&&(zt(i,e,t),Dr(i,e,t))}function _g(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Dc(e,t){_g(e,t),(e=e.alternate)&&_g(e,t)}function bg(e){if(e.tag===13||e.tag===31){var t=Li(e,67108864);t!==null&&zt(t,e,67108864),Dc(e,67108864)}}function Sg(e){if(e.tag===13||e.tag===31){var t=It();t=gr(t);var i=Li(e,t);i!==null&&zt(i,e,t),Dc(e,t)}}var Dl=!0;function i_(e,t,i,r){var o=M.T;M.T=null;var h=Y.p;try{Y.p=2,Uc(e,t,i,r)}finally{Y.p=h,M.T=o}}function s_(e,t,i,r){var o=M.T;M.T=null;var h=Y.p;try{Y.p=8,Uc(e,t,i,r)}finally{Y.p=h,M.T=o}}function Uc(e,t,i,r){if(Dl){var o=Mc(r);if(o===null)bc(e,t,r,Ul,i),Eg(e,r);else if(a_(o,e,t,i,r))r.stopPropagation();else if(Eg(e,r),t&4&&-1<r_.indexOf(e)){for(;o!==null;){var h=$e(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=Tn(h.pendingLanes);if(d!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;d;){var T=1<<31-Ct(d);v.entanglements[1]|=T,d&=~T}bn(h),(xe&6)===0&&(yl=At()+500,Jr(0))}}break;case 31:case 13:v=Li(h,2),v!==null&&zt(v,h,2),vl(),Dc(h,2)}if(h=Mc(r),h===null&&bc(e,t,r,Ul,i),h===o)break;o=h}o!==null&&r.stopPropagation()}else bc(e,t,r,null,i)}}function Mc(e){return e=zo(e),Bc(e)}var Ul=null;function Bc(e){if(Ul=null,e=st(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ul=e,null}function wg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wa()){case cs:return 2;case hs:return 8;case fs:case ko:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var zc=!1,vi=null,_i=null,bi=null,na=new Map,ia=new Map,Si=[],r_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eg(e,t){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(t.pointerId)}}function sa(e,t,i,r,o,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:h,targetContainers:[o]},t!==null&&(t=$e(t),t!==null&&bg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function a_(e,t,i,r,o){switch(t){case"focusin":return vi=sa(vi,e,t,i,r,o),!0;case"dragenter":return _i=sa(_i,e,t,i,r,o),!0;case"mouseover":return bi=sa(bi,e,t,i,r,o),!0;case"pointerover":var h=o.pointerId;return na.set(h,sa(na.get(h)||null,e,t,i,r,o)),!0;case"gotpointercapture":return h=o.pointerId,ia.set(h,sa(ia.get(h)||null,e,t,i,r,o)),!0}return!1}function Tg(e){var t=st(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,Ra(e.priority,function(){Sg(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,Ra(e.priority,function(){Sg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Mc(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Bo=r,i.target.dispatchEvent(r),Bo=null}else return t=$e(i),t!==null&&bg(t),e.blockedOn=i,!1;t.shift()}return!0}function Ag(e,t,i){Ml(e)&&i.delete(t)}function l_(){zc=!1,vi!==null&&Ml(vi)&&(vi=null),_i!==null&&Ml(_i)&&(_i=null),bi!==null&&Ml(bi)&&(bi=null),na.forEach(Ag),ia.forEach(Ag)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,zc||(zc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,l_)))}var zl=null;function Og(e){zl!==e&&(zl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zl===e&&(zl=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Bc(r||i)===null)continue;break}var h=$e(i);h!==null&&(e.splice(t,3),t-=3,Mu(h,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function Ks(e){function t(T){return Bl(T,e)}vi!==null&&Bl(vi,e),_i!==null&&Bl(_i,e),bi!==null&&Bl(bi,e),na.forEach(t),ia.forEach(t);for(var i=0;i<Si.length;i++){var r=Si[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Si.length&&(i=Si[0],i.blockedOn===null);)Tg(i),i.blockedOn===null&&Si.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],h=i[r+1],d=o[K]||null;if(typeof h=="function")d||Og(i);else if(d){var v=null;if(h&&h.hasAttribute("formAction")){if(o=h,d=h[K]||null)v=d.formAction;else if(Bc(o)!==null)continue}else v=d.action;typeof v=="function"?i[r+1]=v:(i.splice(r,3),r-=3),Og(i)}}}function Rg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function qc(e){this._internalRoot=e}ql.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,r=It();vg(i,r,e,t,null,null)},ql.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vg(e.current,2,null,e,null,null),vl(),t[be]=null}};function ql(e){this._internalRoot=e}ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oa();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Si.length&&t!==0&&t<Si[i].priority;i++);Si.splice(i,0,e),i===0&&Tg(e)}};var kg=n.version;if(kg!=="19.2.1")throw Error(a(527,kg,"19.2.1"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var o_={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{Ci=Ll.inject(o_),kt=Ll}catch{}}return aa.createRoot=function(e,t){if(!u(e))throw Error(a(299));var i=!1,r="",o=Md,h=Bd,d=zd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=yg(e,1,!1,null,null,i,r,null,o,h,d,Rg),e[be]=t.current,_c(e),new qc(t)},aa.hydrateRoot=function(e,t,i){if(!u(e))throw Error(a(299));var r=!1,o="",h=Md,d=Bd,v=zd,T=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=yg(e,1,!0,t,i??null,r,o,T,h,d,v,Rg),t.context=mg(null),i=t.current,r=It(),r=gr(r),o=ai(r),o.callback=null,li(i,o,r),i=r,t.current.lanes=i,Di(t,i),bn(t),e[be]=t.current,_c(e),new ql(t)},aa.version="19.2.1",aa}var qg;function b_(){if(qg)return $c.exports;qg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),$c.exports=__(),$c.exports}var S_=b_();const w_=["hearts","diamonds","clubs","spades"],E_=[2,3,4,5,6,7,8,9,10,11,12,13,14];function T_(){const l=[];for(const n of w_)for(const s of E_)l.push({suit:n,rank:s,id:`${n}-${s}`});return l}function A_(l){const n=[...l];for(let s=n.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[n[s],n[a]]=[n[a],n[s]]}return n}function la(l,n){const s=l.slice(0,n),a=l.slice(n);return{drawn:s,remaining:a}}const Fl=l=>l===14?14:l;function Ai(l,n){const s=[...l],a=s.map(_=>Fl(_.rank)).sort((_,E)=>_-E),u=s.map(_=>_.suit),c=u.every(_=>_===u[0]);let f=!1,p=0;a[0]+1===a[1]&&a[1]+1===a[2]&&(f=!0,p=a[2]),!f&&a[0]===2&&a[1]===3&&a[2]===14&&(f=!0,p=3);let g=!1,y=!1,m=!1;a[0]===a[1]&&a[1]===a[2]?y=!0:a[0]===a[1]?(g=!0,m=!0):(a[1]===a[2]||a[0]===a[2])&&(g=!0);const S=[...a].sort((_,E)=>E-_);if(y)return{type:"ThreeOfAKind",score:n,rankValue:8,kickers:[a[0]]};if(c&&f)return{type:"StraightFlush",score:n,rankValue:7,kickers:[p]};if(f&&!c){const _=s.map(D=>Fl(D.rank)),E=_[0]+1===_[1]&&_[1]+1===_[2],w=_[0]-1===_[1]&&_[1]-1===_[2],R=_[0]===14&&_[1]===2&&_[2]===3,k=_[0]===3&&_[1]===2&&_[2]===14;if(E||w||R||k)return{type:"PureStraight",score:n,rankValue:6,kickers:[p]}}if(c)return{type:"Flush",score:n,rankValue:5,kickers:S.reverse()};if(g){const _=s.map(R=>Fl(R.rank)),E=_[0]===_[1],w=_[1]===_[2];if(E||w){const R=m?a[0]:a[1],k=m?a[2]:a[0];return{type:"PureOnePair",score:n,rankValue:4,kickers:[R,k]}}}if(f)return{type:"Straight",score:n,rankValue:3,kickers:[p]};if(g){const _=a[0],E=a[1];return{type:"OnePair",score:n,rankValue:2,kickers:[_,E]}}return{type:"HighCard",score:n,rankValue:1,kickers:S.reverse()}}function Oi(l){const n=[...l],s=c=>{const f=c.map(_=>Fl(_.rank)).sort((_,E)=>_-E),p=c.map(_=>_.suit),g=p.every(_=>_===p[0]);let y=!0;for(let _=0;_<4;_++)if(f[_]+1!==f[_+1]){y=!1;break}!y&&f[4]===14&&f[0]===2&&f[1]===3&&f[2]===4&&f[3]===5&&(y=!0);const m={};f.forEach(_=>m[_]=(m[_]||0)+1);const S=Object.values(m).sort((_,E)=>E-_);if(g&&y&&f[0]===10&&f[4]===14)return{type:"RoyalFlush",kickers:[]};if(g&&y)return{type:"StraightFlush",kickers:[f[4]]};if(S[0]===4){const _=Number(Object.keys(m).find(w=>m[Number(w)]===4)),E=Number(Object.keys(m).find(w=>m[Number(w)]===1));return{type:"FourOfAKind",kickers:[_,E]}}if(S[0]===3&&S[1]===2){const _=Number(Object.keys(m).find(w=>m[Number(w)]===3)),E=Number(Object.keys(m).find(w=>m[Number(w)]===2));return{type:"FullHouse",kickers:[_,E]}}if(g)return{type:"Flush",kickers:f.reverse()};if(y)return f[4]===14&&f[0]===2?{type:"Straight",kickers:[5]}:{type:"Straight",kickers:[f[4]]};if(S[0]===3){const _=Number(Object.keys(m).find(w=>m[Number(w)]===3)),E=f.filter(w=>w!==_).reverse();return{type:"ThreeOfAKind",kickers:[_,...E]}}if(S[0]===2&&S[1]===2){const _=Object.keys(m).filter(w=>m[Number(w)]===2).map(Number).sort((w,R)=>R-w),E=Number(Object.keys(m).find(w=>m[Number(w)]===1));return{type:"TwoPair",kickers:[..._,E]}}if(S[0]===2){const _=Number(Object.keys(m).find(w=>m[Number(w)]===2)),E=f.filter(w=>w!==_).reverse();return{type:"OnePair",kickers:[_,...E]}}return{type:"HighCard",kickers:f.reverse()}},a=c=>{switch(c){case"RoyalFlush":return 10;case"StraightFlush":return 9;case"FourOfAKind":return 8;case"FullHouse":return 7;case"Flush":return 6;case"Straight":return 5;case"ThreeOfAKind":return 4;case"TwoPair":return 3;case"OnePair":return 2;case"HighCard":return 1}},u=s(n);return{type:u.type,score:0,rankValue:a(u.type),kickers:u.kickers}}function Lg(l){switch(l){case"RoyalFlush":return 1e3;case"StraightFlush":return 16;case"FourOfAKind":return 14;case"FullHouse":return 12;case"Straight":return 10;case"Flush":return 8;case"ThreeOfAKind":return 6;case"TwoPair":return 4;case"OnePair":return 2;case"HighCard":return 0;default:return 0}}function lo(l,n){let s=Lg(l.type),a=Lg(n.type);if(l.rankValue===n.rankValue){let u=!1,c=!1;for(let f=0;f<Math.max(l.kickers.length,n.kickers.length);f++){const p=l.kickers[f]||0,g=n.kickers[f]||0;if(p>g){u=!0;break}if(g>p){c=!0;break}}u?s+=1:c&&(a+=1)}return{p1Score:s,p2Score:a}}const oo={id:"",hand:[],board:Array(3).fill(null).map(()=>Array(5).fill(null)),dice:[],score:0,hiddenCardsCount:0,bonusesClaimed:0},Xn={players:[{...oo,id:"p1"},{...oo,id:"p2"}],currentPlayerIndex:0,phase:"setup",deck:[],turnCount:0,winner:null};function O_(l,n){switch(n.type){case"START_GAME":{const s=A_(T_()),{drawn:a,remaining:u}=la(s,4),{drawn:c,remaining:f}=la(u,4),p=n.payload?.initialDice?n.payload.initialDice:Array.from({length:5},()=>Math.floor(Math.random()*6)+1).sort((y,m)=>m-y),g=Math.floor(Math.random()*2);return{...Xn,phase:"playing",deck:f,currentPlayerIndex:g,players:[{...oo,id:"p1",hand:a,dice:p},{...oo,id:"p2",hand:c,dice:p}],turnCount:1}}case"PLACE_AND_DRAW":{const{cardId:s,colIndex:a,isHidden:u}=n.payload,c=l.currentPlayerIndex,f=l.players[c],p=f.hand.findIndex(ye=>ye.id===s);if(p===-1)return l;const g=f.hand[p];if(u){if(f.hiddenCardsCount>=3)return l;let ye=0;for(let _e=0;_e<3;_e++)f.board[_e][a]?.isHidden&&ye++;if(ye>=2)return l}let y=-1;for(let ye=0;ye<3;ye++)if(f.board[ye][a]===null){y=ye;break}if(y===-1)return l;const m=f.board.map(ye=>[...ye]),S={...g,isHidden:u};m[y][a]=S;const _=[...f.hand];_.splice(p,1);const E={...f,board:m,hand:_,hiddenCardsCount:u?f.hiddenCardsCount+1:f.hiddenCardsCount};let w=f.bonusesClaimed,R=0;y===2&&(l.players[c===0?1:0].board[2][a]!==null||(w+=1,R=1));let k=l.deck,D=E.hand;if(R>0){const{drawn:ye,remaining:_e}=la(k,R);k=_e,D=[...D,...ye]}const{drawn:G,remaining:B}=la(k,1);D=[...D,...G];const P={...E,hand:D,bonusesClaimed:w},J=[...l.players];J[c]=P;const V=c===0?1:0,$=J[0].board.every(ye=>ye.every(_e=>_e!==null)),ue=J[1].board.every(ye=>ye.every(_e=>_e!==null));let fe=l.phase;return $&&ue&&(fe="scoring"),{...l,players:J,deck:B,currentPlayerIndex:V,phase:fe,turnCount:l.turnCount+1}}case"DRAW_CARD":{const s=l.currentPlayerIndex,a=l.players[s],{drawn:u,remaining:c}=la(l.deck,1),f=[...l.players];f[s]={...a,hand:[...a.hand,...u]};const p=s===0?1:0,g=f[0].board.every(S=>S.every(_=>_!==null)),y=f[1].board.every(S=>S.every(_=>_!==null));let m=l.phase;return g&&y&&(m="scoring"),{...l,players:f,deck:c,currentPlayerIndex:p,phase:m,turnCount:l.turnCount+1}}case"CALCULATE_SCORE":{let s=l.players[0].score,a=l.players[1].score;const u=l.players[0].board,c=l.players[1].board,f=l.players[0].dice;for(let w=0;w<5;w++){const R=[u[0][w],u[1][w],u[2][w]],k=[c[0][w],c[1][w],c[2][w]],D=Ai(R,f[w]),G=Ai(k,f[w]);if(D.rankValue>G.rankValue)s+=f[w];else if(G.rankValue>D.rankValue)a+=f[w];else{let B=!1,P=!1;for(let J=0;J<Math.max(D.kickers.length,G.kickers.length);J++){const V=D.kickers[J]||0,$=G.kickers[J]||0;if(V>$){B=!0;break}if($>V){P=!0;break}}B?s+=f[w]:P&&(a+=f[w])}}const p=u[2],g=c[2],y=Oi(p),m=Oi(g),{p1Score:S,p2Score:_}=lo(y,m);if(y.type==="RoyalFlush")return{...l,winner:"p1",phase:"ended"};if(m.type==="RoyalFlush")return{...l,winner:"p2",phase:"ended"};s+=S,a+=_;const E=s>a?"p1":a>s?"p2":"draw";return{...l,players:[{...l.players[0],score:s},{...l.players[1],score:a}],winner:E,phase:"ended"}}case"SYNC_STATE":return n.payload;default:return l}}const R_={totalGames:0,wins:0,losses:0,draws:0,tripPreference:1,flushPreference:1,straightPreference:1,xHandFocus:1,bonusAggression:1,hidingStrategy:.3},Oy="xypoker_ai_learning";function bo(){try{const l=localStorage.getItem(Oy);if(l)return JSON.parse(l)}catch(l){console.error("Failed to load AI learning data:",l)}return{...R_}}function k_(l){try{localStorage.setItem(Oy,JSON.stringify(l))}catch(n){console.error("Failed to save AI learning data:",n)}}function C_(l,n=!1){const s=bo();if(s.totalGames+=1,n)s.draws+=1;else if(l)s.wins+=1,s.tripPreference*=1.05,s.flushPreference*=1.05,s.straightPreference*=1.05,s.xHandFocus*=1.05,s.bonusAggression*=1.05;else{s.losses+=1;const a=[{name:"tripPreference",value:s.tripPreference},{name:"flushPreference",value:s.flushPreference},{name:"straightPreference",value:s.straightPreference},{name:"xHandFocus",value:s.xHandFocus},{name:"bonusAggression",value:s.bonusAggression}];a.sort((f,p)=>f.value-p.value);const u=a[0].name,c=a[a.length-1].name;s[u]*=1.1,s[c]*=.95,s.bonusAggression*=1.08}s.tripPreference=Math.min(Math.max(s.tripPreference,.5),2),s.flushPreference=Math.min(Math.max(s.flushPreference,.5),2),s.straightPreference=Math.min(Math.max(s.straightPreference,.5),2),s.xHandFocus=Math.min(Math.max(s.xHandFocus,.5),2),s.bonusAggression=Math.min(Math.max(s.bonusAggression,.5),2.5),s.hidingStrategy=Math.min(Math.max(s.hidingStrategy,.1),.6),k_(s)}const j_={hearts:"",diamonds:"",clubs:"",spades:"",joker:""},x_={11:"J",12:"Q",13:"K",14:"A",15:"JOKER"},ih=({card:l,onClick:n,isSelected:s,isPlayable:a,isPeeking:u,isHidden:c,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:y,onTouchEnd:m,skin:S="classic"})=>{if((l.isHidden||c)&&!u)return b.jsx("div",{className:`card hidden ${s?"selected":""} card-back-${S}`,onClick:n,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:y,onTouchEnd:m,children:b.jsx("div",{className:"card-back"})});const E=x_[l.rank]||l.rank.toString(),w=j_[l.suit];return b.jsxs("div",{className:`card ${l.suit} ${s?"selected":""} ${a?"playable":""} ${u?"peeking":""}`,onClick:n,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:y,onTouchEnd:m,"data-suit":l.suit,children:[u&&b.jsx("div",{className:"peek-overlay"}),b.jsxs("div",{className:"card-top",children:[b.jsx("span",{className:"rank",children:E}),b.jsx("span",{className:"suit",children:w})]}),b.jsx("div",{className:"card-center",children:w}),b.jsxs("div",{className:"card-bottom",children:[b.jsx("span",{className:"rank",children:E}),b.jsx("span",{className:"suit",children:w})]})]})},kh=({value:l,size:n="medium",className:s="",skin:a="white"})=>{const u=()=>{const c=[];return(l===1||l===3||l===5)&&c.push(b.jsx("div",{className:"dot center"},"c")),l>=2&&(c.push(b.jsx("div",{className:"dot top-left"},"tl")),c.push(b.jsx("div",{className:"dot bottom-right"},"br"))),l>=4&&(c.push(b.jsx("div",{className:"dot top-right"},"tr")),c.push(b.jsx("div",{className:"dot bottom-left"},"bl"))),l===6&&(c.push(b.jsx("div",{className:"dot middle-left"},"ml")),c.push(b.jsx("div",{className:"dot middle-right"},"mr"))),c};return b.jsx("div",{className:`dice ${n} ${s} ${a}`,children:u()})},N_=({playerBoard:l,opponentBoard:n,dice:s,onColumnClick:a,isCurrentPlayer:u,revealAll:c=!1,winningColumns:f,xWinner:p,bottomPlayerId:g="p1",selectedSkin:y,selectedCardSkin:m,selectedBoardSkin:S,scoringStep:_=-1})=>{const[E,w]=Z.useState(null),[R,k]=Z.useState(null),D=(J,V,$)=>{if(J&&(R!==null&&(clearTimeout(R),k(null)),J.isHidden&&!c)){const ue=window.setTimeout(()=>{w(J.id)},500);k(ue)}},G=(J,V,$)=>{R!==null&&(clearTimeout(R),k(null)),w(null),!J&&u&&a(V)},B=(J,V,$)=>{J&&!J.isHidden&&u&&a(V)},P=Array.from({length:5},(J,V)=>{const $=g==="p1"?"p2":"p1",ue=[n[2][V],n[1][V],n[0][V]],fe=[l[0][V],l[1][V],l[2][V]],ye=f?f[V]:null,_e=_>=4-V,Oe=ye===g&&_e?`winning-slot-${g}`:"",Qe=ye===$&&_e?`winning-slot-${$}`:"",M=_>=5,Y=p===$&&M,ie=p===g&&M;return b.jsxs("div",{className:`shared-column ${u?"interactive":""}`,children:[b.jsx("div",{className:"opponent-slots",children:ue.map((ce,Ee)=>b.jsx("div",{className:`card-slot opponent-slot ${Qe} ${Y&&Ee===0?"winning-row-yellow":""}`,children:ce?b.jsx(ih,{card:c?{...ce,isHidden:!1}:ce,skin:m}):b.jsx("div",{className:"empty-slot",onClick:()=>u&&a(V)})},`opp-${Ee}`))}),b.jsx("div",{className:"dice-row",children:b.jsx(kh,{value:s[V],skin:y})}),b.jsx("div",{className:"player-slots",children:fe.map((ce,Ee)=>b.jsx("div",{className:`card-slot player-slot ${ie&&Ee===2?"winning-row-yellow":""} ${Oe}`,children:ce?b.jsx(ih,{card:c?{...ce,isHidden:!1}:ce,isPeeking:E===ce.id,onClick:()=>B(ce,V),onMouseDown:()=>D(ce),onMouseUp:()=>G(ce,V),onMouseLeave:()=>G(ce,V),onTouchStart:()=>D(ce),onTouchEnd:()=>G(ce,V),skin:m}):b.jsx("div",{className:"empty-slot",onClick:()=>u&&a(V)})},`pl-${Ee}`))})]},V)});return b.jsx("div",{className:`shared-board board-theme-${S}`,children:P})},D_=({hand:l,selectedCardId:n,onCardSelect:s,isCurrentPlayer:a=!1,isOpponent:u=!1,isHidden:c=!1,onCardClick:f})=>b.jsx("div",{className:`hand ${a?"active":""} ${u?"opponent":""}`,children:l.map(p=>b.jsx("div",{className:"hand-card-wrapper",children:b.jsx(ih,{card:p,isSelected:n===p.id,onClick:()=>{a&&s?s(p.id):f&&f()},isPlayable:a,isHidden:c})},p.id))}),U_=({gameState:l,isOnlineMode:n=!1,playerRole:s=null,playerName:a="Player 1",opponentName:u="Player 2",onSurrender:c})=>{const{phase:f,currentPlayerIndex:p,players:g,winner:y}=l,m=n&&s==="guest"?1:0,S=a,_=u,E=m===0?S:_,w=m===1?S:_;return b.jsxs("div",{className:"game-info","data-my-index":n?m:0,children:[b.jsxs("div",{className:"status-bar",children:[f==="playing"&&(p===(n?m:0)?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"turn-indicator your-turn",children:"YOUR TURN"}),c&&b.jsx("button",{className:"surrender-btn",onClick:c,children:"Cancel"})]}):b.jsx("div",{className:"turn-indicator opponent-turn",children:n?`${_}'s Turn`:`${w}'s Turn`})),f==="ended"&&b.jsx("div",{className:"winner-banner",children:y==="draw"?"Draw - Tie Game!":`Winner: ${y==="p1"?E:w}!`}),f==="scoring"&&b.jsx("div",{className:"scoring-banner",children:"Scoring Phase..."})]}),b.jsxs("div",{className:"scores",children:[b.jsxs("div",{className:"player-score-row player-1",children:[b.jsxs("span",{className:`score-item ${p===0?"active":""}`,children:[E,": ",g[0].score]}),b.jsxs("span",{className:"bonus-item",children:["Bonuses: ",g[0].bonusesClaimed]})]}),b.jsxs("div",{className:"player-score-row player-2",children:[b.jsxs("span",{className:`score-item ${p===1?"active":""}`,children:[w,": ",g[1].score]}),b.jsxs("span",{className:"bonus-item",children:["Bonuses: ",g[1].bonusesClaimed]})]})]})]})},Me=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),n=l.createOscillator(),s=l.createGain();n.connect(s),s.connect(l.destination),n.frequency.value=800,n.type="sine",s.gain.setValueAtTime(.3,l.currentTime),s.gain.exponentialRampToValueAtTime(.01,l.currentTime+.1),n.start(l.currentTime),n.stop(l.currentTime+.1)}catch(l){console.warn("Audio playback not supported:",l)}},ha=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),n=l.createOscillator(),s=l.createGain();n.connect(s),s.connect(l.destination),n.frequency.setValueAtTime(523.25,l.currentTime),n.frequency.linearRampToValueAtTime(659.25,l.currentTime+.1),n.type="sine",s.gain.setValueAtTime(.3,l.currentTime),s.gain.exponentialRampToValueAtTime(.01,l.currentTime+.3),n.start(l.currentTime),n.stop(l.currentTime+.3)}catch(l){console.warn("Audio playback not supported:",l)}},Hg=l=>{if("speechSynthesis"in window)try{window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(l);n.lang="en-US",n.rate=1,n.pitch=1,n.volume=.8,window.speechSynthesis.speak(n)}catch(n){console.warn("Speech synthesis failed:",n)}},M_=({gameState:l,onRestart:n,onClose:s,onViewBoard:a,p1Name:u="Player 1",p2Name:c="Player 2",ratingUpdates:f})=>{const{players:p,winner:g}=l,y=p[0],m=p[1],S=p[0].dice,_=B=>B.replace(/([A-Z])/g," $1").trim(),E=Array.from({length:5}).map((B,P)=>{const J=[y.board[0][P],y.board[1][P],y.board[2][P]],V=[m.board[0][P],m.board[1][P],m.board[2][P]],$=Ai(J,S[P]),ue=Ai(V,S[P]);let fe="draw";if($.rankValue>ue.rankValue)fe="p1";else if(ue.rankValue>$.rankValue)fe="p2";else{let ye=!1,_e=!1;for(let Le=0;Le<Math.max($.kickers.length,ue.kickers.length);Le++){const Oe=$.kickers[Le]||0,nt=ue.kickers[Le]||0;if(Oe>nt){ye=!0;break}if(nt>Oe){_e=!0;break}}ye?fe="p1":_e&&(fe="p2")}return{dice:S[P],p1Hand:_($.type),p2Hand:_(ue.type),winner:fe}}),w=Oi(y.board[2]),R=Oi(m.board[2]),{p1Score:k,p2Score:D}=lo(w,R);let G="draw";return k>D?G="p1":D>k&&(G="p2"),b.jsx("div",{className:"game-result-overlay",children:b.jsxs("div",{className:"game-result-modal",children:[b.jsx("div",{className:"winner-announcement",children:g==="draw"?b.jsx("span",{className:"draw-text",children:"Draw - Tie Game!"}):b.jsxs(b.Fragment,{children:["Winner: ",b.jsx("span",{className:g==="p1"?"p1-text":"p2-text",children:g==="p1"?u:c}),"!"]})}),b.jsxs("div",{className:"results-table",children:[b.jsxs("div",{className:"table-header",children:[b.jsx("div",{children:"Dice"}),b.jsx("div",{children:u}),b.jsx("div",{children:c})]}),E.map((B,P)=>b.jsxs("div",{className:"table-row",children:[b.jsx("div",{className:"dice-val",children:B.dice}),b.jsx("div",{className:`hand-name ${B.winner==="p1"?"p1-text":""}`,children:B.p1Hand}),b.jsx("div",{className:`hand-name ${B.winner==="p2"?"p2-text":""}`,children:B.p2Hand})]},P)),b.jsx("div",{className:"table-divider"}),b.jsxs("div",{className:"table-row x-hand-row",children:[b.jsx("div",{children:"X-Hand"}),b.jsxs("div",{className:`hand-name ${G==="p1"?"p1-text":""}`,children:[_(w.type)," ",b.jsxs("span",{className:"score-detail",children:["(",k,")"]})]}),b.jsxs("div",{className:`hand-name ${G==="p2"?"p2-text":""}`,children:[_(R.type)," ",b.jsxs("span",{className:"score-detail",children:["(",D,")"]})]})]})]}),b.jsxs("div",{className:"final-scores",children:[b.jsxs("div",{className:`score-box p1 ${g==="p1"?"winner-box":""}`,children:[b.jsx("h3",{children:u}),b.jsx("div",{className:"score-val",children:y.score}),b.jsxs("div",{className:"bonus-val",children:["Bonuses: ",y.bonusesClaimed]}),f&&f.p1&&b.jsxs("div",{className:"rating-update",children:[b.jsx("div",{children:"Rating"}),b.jsxs("div",{className:"rating-values",children:[f.p1.old,"  ",b.jsx("span",{className:"rating-new",children:f.p1.new})]}),b.jsxs("div",{className:`rating-change ${f.p1.change>=0?"pos":"neg"}`,children:[f.p1.change>=0?"+":"",f.p1.change]})]})]}),b.jsxs("div",{className:`score-box p2 ${g==="p2"?"winner-box":""}`,children:[b.jsx("h3",{children:c}),b.jsx("div",{className:"score-val",children:m.score}),b.jsxs("div",{className:"bonus-val",children:["Bonuses: ",m.bonusesClaimed]}),f&&f.p2&&b.jsxs("div",{className:"rating-update",children:[b.jsx("div",{children:"Rating"}),b.jsxs("div",{className:"rating-values",children:[f.p2.old,"  ",b.jsx("span",{className:"rating-new",children:f.p2.new})]}),b.jsxs("div",{className:`rating-change ${f.p2.change>=0?"pos":"neg"}`,children:[f.p2.change>=0?"+":"",f.p2.change]})]})]})]}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn-secondary view-board-btn",onClick:()=>{Me(),a()},children:"View Board"}),b.jsx("button",{className:"btn-secondary quit-btn",onClick:()=>{Me(),s()},children:"Back to Lobby"}),b.jsx("button",{className:"btn-primary restart-btn",onClick:()=>{Me(),n()},children:"Play Again"})]})]})})},B_=({onCreateRoom:l,onJoinRoom:n,onQuickMatch:s,onCancelMatchmaking:a,roomId:u,isConnected:c,playerRole:f,playerName:p,onPlayerNameChange:g,rating:y,onShowRules:m})=>{const[S,_]=Z.useState("");return c?b.jsxs("div",{className:"lobby-container",children:[b.jsx("h2",{children:"Online Multiplayer"}),b.jsxs("div",{className:"name-input-section",children:[b.jsx("label",{htmlFor:"playerName",children:"Your Name:"}),b.jsx("input",{id:"playerName",type:"text",value:p,onChange:E=>g(E.target.value),maxLength:10,placeholder:"Enter your name"}),y!=null&&b.jsxs("div",{className:"player-rating-display",style:{marginTop:"8px",fontSize:"0.9rem",color:"#ffffff",fontWeight:"bold",backgroundColor:"rgba(0, 0, 0, 0.8)",padding:"4px 12px",borderRadius:"12px",display:"inline-block",textShadow:"none"},children:["Your Rating: ",b.jsx("span",{style:{fontSize:"1.1rem"},children:y})]})]}),b.jsxs("div",{className:"quick-match-section",children:[b.jsx("button",{className:"btn-primary btn-large",onClick:()=>{Me(),s()},children:" Quick Match"}),b.jsx("p",{className:"quick-match-hint",children:"Play against a random opponent"})]}),b.jsx("div",{className:"lobby-helper-actions",style:{display:"flex",justifyContent:"center",marginTop:"1rem"},children:b.jsx("button",{className:"btn-secondary",onClick:()=>{Me(),m()},children:" Rules"})}),b.jsx("div",{className:"divider",children:b.jsx("span",{children:"OR"})}),u?b.jsxs("div",{className:"waiting-room",children:[b.jsx("h3",{children:f==="host"?"Room Created!":"Joined Room!"}),b.jsxs("div",{className:"room-id-display",children:["Room ID: ",b.jsx("span",{children:u}),f==="host"&&b.jsx("button",{className:"btn-icon copy-btn",onClick:()=>{navigator.clipboard.writeText(u),alert("Room ID copied!")},title:"Copy to Clipboard",children:""})]}),b.jsx("p",{children:f==="host"?"Share this ID with your friend.":"Waiting for game to start..."}),f==="host"&&b.jsx("div",{className:"loading-spinner",children:"Waiting for opponent... Game starts automatically."}),f==="guest"&&b.jsx("div",{className:"loading-spinner",children:"Connected to Room"}),b.jsx("button",{className:"btn-cancel",onClick:()=>{Me(),a()},children:"Cancel"})]}):b.jsxs("div",{className:"lobby-actions",children:[b.jsxs("div",{className:"action-box",children:[b.jsx("h3",{children:"Create Room"}),b.jsx("p",{children:"Start a new game and invite a friend."}),b.jsx("button",{className:"btn-primary",onClick:()=>{Me(),l()},children:"Create Room"})]}),b.jsx("div",{className:"divider",children:"OR"}),b.jsxs("div",{className:"action-box",children:[b.jsx("h3",{children:"Join Room"}),b.jsx("p",{children:"Enter the Room ID to join."}),b.jsx("input",{type:"text",placeholder:"Room ID",value:S,onChange:E=>_(E.target.value),maxLength:4}),b.jsx("button",{className:"btn-secondary",onClick:()=>{Me(),n(S)},disabled:S.length!==4,children:"Join Room"})]})]})]}):b.jsxs("div",{className:"lobby-container",children:[b.jsx("h2",{children:"Online Multiplayer"}),b.jsxs("div",{className:"waiting-room",children:[b.jsx("div",{className:"loading-spinner",children:"Connecting to server..."}),b.jsx("p",{style:{marginTop:"1rem",color:"#888"},children:"Ensure the server is running on port 3001."})]})]})},z_=[{id:"white",name:"Classic White",color:"#ffffff"},{id:"red",name:"Ruby Red",color:"#d32f2f"},{id:"blue",name:"Ocean Blue",color:"#1976d2"},{id:"green",name:"Emerald Green",color:"#388e3c"},{id:"yellow",name:"Solar Yellow",color:"#fbc02d"},{id:"purple",name:"Amethyst",color:"#7b1fa2"},{id:"black",name:"Obsidian",color:"#212121"},{id:"pink",name:"Neon Pink",color:"#e91e63"},{id:"orange",name:"Sunset Orange",color:"#f57c00"},{id:"teal",name:"Aqua Teal",color:"#00796b"},{id:"silver",name:"Chrome Silver",color:"#c0c0c0"},{id:"gold",name:"Pure Gold",color:"#ffd700"}],q_=[{id:"classic",name:"Classic Blue",color:"#2196f3"},{id:"red-modern",name:"Modern Red",color:"#f44336"},{id:"blue-modern",name:"Geometric Blue",color:"#3f51b5"},{id:"gold-luxury",name:"Luxury Gold",color:"#ffd700"},{id:"cyber-neon",name:"Cyber Neon",color:"#00e5ff"},{id:"dark-matter",name:"Dark Matter",color:"#202020"},{id:"wood-grain",name:"Oaken Wood",color:"#8d6e63"},{id:"matrix",name:"The Matrix",color:"#00c853"},{id:"sunset",name:"Vaporwave",color:"#ff4081"},{id:"royal-purple",name:"Royal Velvet",color:"#6200ea"},{id:"cool-mint",name:"Cool Mint",color:"#a7ffeb"},{id:"dragon-scale",name:"Dragon Scale",color:"#bf360c"}],L_=[{id:"classic-green",name:"Classic Felt",color:"#2e7d32"},{id:"midnight-blue",name:"Midnight",color:"#1a237e"},{id:"casino-red",name:"Casino Royale",color:"#b71c1c"},{id:"void-black",name:"The Void",color:"#000000"},{id:"neon-grid",name:"Retro Grid",color:"#263238"},{id:"warm-wood",name:"Mahogany",color:"#3e2723"},{id:"ice-blue",name:"Glacier",color:"#e0f7fa"},{id:"royal-gold",name:"VIP Room",color:"#fff8e1"},{id:"cyber-punk",name:"Night City",color:"#212121"},{id:"minimal-grey",name:"Minimalist",color:"#eeeeee"},{id:"space-station",name:"Space Station",color:"#cfd8dc"},{id:"volcano",name:"Volcano",color:"#3e2723"}],H_=({isOpen:l,onClose:n,unlockedSkins:s,selectedSkin:a,onUnlock:u,onSelect:c,unlockedCardSkins:f,selectedCardSkin:p,onUnlockCard:g,onSelectCard:y,unlockedBoardSkins:m,selectedBoardSkin:S,onUnlockBoard:_,onSelectBoard:E})=>{const[w,R]=Z.useState("dice"),[k,D]=Z.useState(null),[G,B]=Z.useState(!1);if(Z.useEffect(()=>{l||(D(null),B(!1),R("dice"))},[l]),!l)return null;const P=($,ue,fe)=>{if(Me(),ue)fe($);else{if(k===$)return;window.open("https://otieu.com/4/10307496","_blank"),D($),B(!1),setTimeout(()=>{B(!0)},3e3)}},J=($,ue,fe)=>{$.stopPropagation(),G&&(ha(),fe(ue),D(null),B(!1))},V=()=>{let $=[],ue=[],fe="",ye=()=>{},_e=()=>{},Le=null;return w==="dice"?($=z_,ue=s,fe=a,ye=u,_e=c,Le=({id:Oe})=>b.jsx(kh,{value:6,size:"medium",skin:Oe})):w==="card"?($=q_,ue=f,fe=p,ye=g,_e=y,Le=({id:Oe})=>b.jsx("div",{className:`preview-card card-back-${Oe}`,children:b.jsx("div",{className:"card-inner"})})):($=L_,ue=m,fe=S,ye=_,_e=E,Le=({id:Oe,color:nt})=>b.jsx("div",{className:`preview-board board-theme-${Oe}`,style:{background:Oe==="classic-green"?void 0:nt},children:b.jsx("div",{className:"board-line"})})),b.jsx("div",{className:"skins-grid",children:$.map(Oe=>{const nt=ue.includes(Oe.id),Qe=fe===Oe.id,M=k===Oe.id;return b.jsxs("div",{className:`skin-item ${nt?"unlocked":"locked"} ${Qe?"selected":""} ${M?"pending":""}`,onClick:()=>P(Oe.id,nt,_e),children:[b.jsx("div",{className:"skin-preview",children:b.jsx(Le,{id:Oe.id,color:Oe.color})}),b.jsx("div",{className:"skin-name",children:Oe.name}),!nt&&!M&&b.jsx("div",{className:"lock-icon",children:""}),Qe&&b.jsx("div",{className:"check-icon",children:""}),M&&b.jsx("div",{className:"claim-overlay",children:G?b.jsx("button",{className:"btn-claim pulse-animation",onClick:Y=>J(Y,Oe.id,ye),children:"CLAIM"}):b.jsx("div",{className:"watching-text",children:"Watching..."})})]},Oe.id)})})};return b.jsx("div",{className:"skin-store-overlay",children:b.jsxs("div",{className:"skin-store-modal",children:[b.jsx("button",{className:"btn-close-x",onClick:()=>{Me(),n()},children:""}),b.jsx("h2",{children:"Skin Shop"}),b.jsx("p",{className:"store-subtitle",children:"Watch ad: 3h Skin Unlock"}),b.jsxs("div",{className:"store-tabs",children:[b.jsx("button",{className:`tab-btn ${w==="dice"?"active":""}`,onClick:()=>{Me(),R("dice")},children:"Dice"}),b.jsx("button",{className:`tab-btn ${w==="card"?"active":""}`,onClick:()=>{Me(),R("card")},children:"Cards"}),b.jsx("button",{className:`tab-btn ${w==="board"?"active":""}`,onClick:()=>{Me(),R("board")},children:"Boards"})]}),V(),b.jsx("button",{className:"btn-close",onClick:()=>{Me(),n()},children:"Close"})]})})},$_=({targetValues:l,onComplete:n,selectedSkin:s})=>{const[a,u]=Z.useState([1,1,1,1,1]),[c,f]=Z.useState([!0,!0,!0,!0,!0]),[p,g]=Z.useState("ready");return Z.useEffect(()=>{console.log("[DiceRollOverlay] Mounted. Target Values:",l),g("rolling");const y=[],m=[1500,1800,2100,2400,2700];a.forEach((E,w)=>{const R=setInterval(()=>{u(k=>{const D=[...k];return D[w]=Math.floor(Math.random()*6)+1,D})},80);y.push(R),setTimeout(()=>{clearInterval(y[w]),u(k=>{const D=[...k];return D[w]=l[w],D}),f(k=>{const D=[...k];return D[w]=!1,D}),Me()},m[w])});const _=setTimeout(()=>{g("finished"),setTimeout(n,500)},3500);return()=>{y.forEach(clearInterval),clearTimeout(_)}},[]),b.jsx("div",{className:"dice-roll-overlay",children:b.jsxs("div",{className:"dice-roll-content",children:[b.jsx("h2",{className:"dice-roll-title",children:p==="rolling"?"Rolling Dice...":"Battle Start!"}),b.jsx("div",{className:"dice-container-large",children:a.map((y,m)=>b.jsx("div",{className:`rolling-dice ${c[m]?"shaking":"landed"}`,children:b.jsx(kh,{value:y,size:"large",skin:s})},m))})]})})},V_=({onClose:l})=>b.jsx("div",{className:"rules-overlay",onClick:l,children:b.jsxs("div",{className:"rules-content",onClick:n=>n.stopPropagation(),children:[b.jsx("button",{className:"close-btn",onClick:l,children:""}),b.jsx("h2",{children:'How to Play "XY Poker"'}),b.jsxs("div",{className:"rules-scroll-area",children:[b.jsxs("section",{children:[b.jsx("h3",{children:" Goal"}),b.jsxs("p",{children:["Build the strongest ",b.jsx("strong",{children:"Poker Hands (Rows)"})," and match ",b.jsx("strong",{children:"Dice Values (Columns)"})," to score points. The player with the highest total score wins!"]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" The Board (3x5 Grid)"}),b.jsx("p",{children:"Each player has a 3x5 grid. You will place cards into this grid."}),b.jsxs("ul",{className:"rules-list",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"X-Axis (Rows):"})," Form 3 Poker Hands (Horizontal)."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Y-Axis (Columns):"})," Match the column's Dice Value (Vertical)."]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Turn Flow"}),b.jsxs("ol",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Place:"})," Put your selected card into any empty slot on your grid."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Hidden Cards:"})," You can place up to ",b.jsx("strong",{children:"3 cards face down"})," per game. These are revealed at the end, hiding your strategy from the opponent!"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Draw:"})," After placing, you draw a new card automatically."]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Scoring"}),b.jsxs("div",{className:"score-explanation",children:[b.jsxs("div",{className:"score-item",children:[b.jsx("strong",{children:"Horizontal (Rows):"}),b.jsx("p",{children:"Standard Poker Hands (Royal Flush > Straight Flush > ... > High Card)."}),b.jsx("p",{children:"Points are awarded based on hand strength."})]}),b.jsxs("div",{className:"score-item",children:[b.jsx("strong",{children:"Vertical (Columns):"}),b.jsx("p",{children:"Each column has a Dice Value (1-6)."}),b.jsxs("p",{children:["The player with the ",b.jsx("strong",{children:"stronger vertical hand*"})," wins the column multiplier!"]}),b.jsx("p",{children:b.jsx("small",{children:"*Strength is judged by how well you match the dice (e.g. number of cards matching the dice value)."})})]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Hand Rankings (Strongest to Weakest)"}),b.jsxs("div",{className:"rankings-grid",children:[b.jsxs("div",{className:"ranking-column",children:[b.jsx("h4",{children:"X-Axis (Horizontal - 5 Cards)"}),b.jsxs("ol",{className:"hand-list",children:[b.jsx("li",{children:"Royal Flush"}),b.jsx("li",{children:"Straight Flush"}),b.jsx("li",{children:"Four of a Kind"}),b.jsx("li",{children:"Full House"}),b.jsx("li",{children:"Flush"}),b.jsx("li",{children:"Straight"}),b.jsx("li",{children:"Three of a Kind"}),b.jsx("li",{children:"Two Pair"}),b.jsx("li",{children:"One Pair"}),b.jsx("li",{children:"High Card"})]})]}),b.jsxs("div",{className:"ranking-column",children:[b.jsx("h4",{children:"Y-Axis (Vertical - 3 Cards)"}),b.jsxs("ol",{className:"hand-list",children:[b.jsxs("li",{children:["Pure Straight Flush ",b.jsx("span",{className:"note",children:"(Ordered)"})]}),b.jsx("li",{children:"Three of a Kind"}),b.jsxs("li",{children:["Straight Flush ",b.jsx("span",{className:"note",children:"(Unordered)"})]}),b.jsxs("li",{children:["Pure Straight ",b.jsx("span",{className:"note",children:"(Ordered)"})]}),b.jsx("li",{children:"Flush"}),b.jsxs("li",{children:["Pure One Pair ",b.jsx("span",{className:"note",children:"(Adjacent)"})]}),b.jsxs("li",{children:["Straight ",b.jsx("span",{className:"note",children:"(Unordered)"})]}),b.jsxs("li",{children:["One Pair ",b.jsx("span",{className:"note",children:"(Split)"})]}),b.jsx("li",{children:"High Card"})]})]})]})]})]})]})}),G_=({timeLeft:l,currentPlayerIndex:n,isMyTurn:s})=>{const a=n===0?"#4da8da":"#ff4d4d";return b.jsxs("div",{className:`turn-timer ${l<=10?"warning":""}`,style:{borderColor:a},children:[b.jsx("div",{className:"timer-label",children:s?"Your Turn":"Opponent's Turn"}),b.jsxs("div",{className:"timer-value",children:[l,"s"]})]})};var In={},Hl={},sh=function(l,n){return sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},sh(l,n)};function Ry(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");sh(l,n);function s(){this.constructor=l}l.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var uo=function(){return uo=Object.assign||function(n){for(var s,a=1,u=arguments.length;a<u;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},uo.apply(this,arguments)};function sr(l,n){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&n.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(l);u<a.length;u++)n.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(l,a[u])&&(s[a[u]]=l[a[u]]);return s}function ky(l,n,s,a){var u=arguments.length,c=u<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,s):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,n,s,a);else for(var p=l.length-1;p>=0;p--)(f=l[p])&&(c=(u<3?f(c):u>3?f(n,s,c):f(n,s))||c);return u>3&&c&&Object.defineProperty(n,s,c),c}function Cy(l,n){return function(s,a){n(s,a,l)}}function jy(l,n,s,a,u,c){function f(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var p=a.kind,g=p==="getter"?"get":p==="setter"?"set":"value",y=!n&&l?a.static?l:l.prototype:null,m=n||(y?Object.getOwnPropertyDescriptor(y,a.name):{}),S,_=!1,E=s.length-1;E>=0;E--){var w={};for(var R in a)w[R]=R==="access"?{}:a[R];for(var R in a.access)w.access[R]=a.access[R];w.addInitializer=function(D){if(_)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(D||null))};var k=(0,s[E])(p==="accessor"?{get:m.get,set:m.set}:m[g],w);if(p==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(S=f(k.get))&&(m.get=S),(S=f(k.set))&&(m.set=S),(S=f(k.init))&&u.unshift(S)}else(S=f(k))&&(p==="field"?u.unshift(S):m[g]=S)}y&&Object.defineProperty(y,a.name,m),_=!0}function xy(l,n,s){for(var a=arguments.length>2,u=0;u<n.length;u++)s=a?n[u].call(l,s):n[u].call(l);return a?s:void 0}function Ny(l){return typeof l=="symbol"?l:"".concat(l)}function Dy(l,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function Uy(l,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,n)}function F(l,n,s,a){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(m){try{y(a.next(m))}catch(S){f(S)}}function g(m){try{y(a.throw(m))}catch(S){f(S)}}function y(m){m.done?c(m.value):u(m.value).then(p,g)}y((a=a.apply(l,n||[])).next())})}function My(l,n){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,u,c,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=p(0),f.throw=p(1),f.return=p(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(m){return g([y,m])}}function g(y){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(s=0)),s;)try{if(a=1,u&&(c=y[0]&2?u.return:y[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,y[1])).done)return c;switch(u=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,u=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){s.label=y[1];break}if(y[0]===6&&s.label<c[1]){s.label=c[1],c=y;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(y);break}c[2]&&s.ops.pop(),s.trys.pop();continue}y=n.call(l,s)}catch(m){y=[6,m],u=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var So=Object.create?(function(l,n,s,a){a===void 0&&(a=s);var u=Object.getOwnPropertyDescriptor(n,s);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(l,a,u)}):(function(l,n,s,a){a===void 0&&(a=s),l[a]=n[s]});function By(l,n){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&So(n,l,s)}function co(l){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&l[n],a=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&a>=l.length&&(l=void 0),{value:l&&l[a++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ch(l,n){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var a=s.call(l),u,c=[],f;try{for(;(n===void 0||n-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(p){f={error:p}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(f)throw f.error}}return c}function zy(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(Ch(arguments[n]));return l}function qy(){for(var l=0,n=0,s=arguments.length;n<s;n++)l+=arguments[n].length;for(var a=Array(l),u=0,n=0;n<s;n++)for(var c=arguments[n],f=0,p=c.length;f<p;f++,u++)a[u]=c[f];return a}function Ly(l,n,s){if(s||arguments.length===2)for(var a=0,u=n.length,c;a<u;a++)(c||!(a in n))&&(c||(c=Array.prototype.slice.call(n,0,a)),c[a]=n[a]);return l.concat(c||Array.prototype.slice.call(n))}function nr(l){return this instanceof nr?(this.v=l,this):new nr(l)}function Hy(l,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s.apply(l,n||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(E){return function(w){return Promise.resolve(w).then(E,S)}}function p(E,w){a[E]&&(u[E]=function(R){return new Promise(function(k,D){c.push([E,R,k,D])>1||g(E,R)})},w&&(u[E]=w(u[E])))}function g(E,w){try{y(a[E](w))}catch(R){_(c[0][3],R)}}function y(E){E.value instanceof nr?Promise.resolve(E.value.v).then(m,S):_(c[0][2],E)}function m(E){g("next",E)}function S(E){g("throw",E)}function _(E,w){E(w),c.shift(),c.length&&g(c[0][0],c[0][1])}}function $y(l){var n,s;return n={},a("next"),a("throw",function(u){throw u}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(u,c){n[u]=l[u]?function(f){return(s=!s)?{value:nr(l[u](f)),done:!1}:c?c(f):f}:c}}function Vy(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],s;return n?n.call(l):(l=typeof co=="function"?co(l):l[Symbol.iterator](),s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s);function a(c){s[c]=l[c]&&function(f){return new Promise(function(p,g){f=l[c](f),u(p,g,f.done,f.value)})}}function u(c,f,p,g){Promise.resolve(g).then(function(y){c({value:y,done:p})},f)}}function Gy(l,n){return Object.defineProperty?Object.defineProperty(l,"raw",{value:n}):l.raw=n,l}var P_=Object.create?(function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}):function(l,n){l.default=n},rh=function(l){return rh=Object.getOwnPropertyNames||function(n){var s=[];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[s.length]=a);return s},rh(l)};function Py(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var s=rh(l),a=0;a<s.length;a++)s[a]!=="default"&&So(n,l,s[a]);return P_(n,l),n}function Yy(l){return l&&l.__esModule?l:{default:l}}function Iy(l,n,s,a){if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?l!==n||!a:!n.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?a:s==="a"?a.call(l):a?a.value:n.get(l)}function Ky(l,n,s,a,u){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?l!==n||!u:!n.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?u.call(l,s):u?u.value=s:n.set(l,s),s}function Xy(l,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?n===l:l.has(n)}function Jy(l,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var a,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=n[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=n[Symbol.dispose],s&&(u=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");u&&(a=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:n,dispose:a,async:s})}else s&&l.stack.push({async:!0});return n}var Y_=typeof SuppressedError=="function"?SuppressedError:function(l,n,s){var a=new Error(s);return a.name="SuppressedError",a.error=l,a.suppressed=n,a};function Qy(l){function n(c){l.error=l.hasError?new Y_(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var s,a=0;function u(){for(;s=l.stack.pop();)try{if(!s.async&&a===1)return a=0,l.stack.push(s),Promise.resolve().then(u);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return a|=2,Promise.resolve(c).then(u,function(f){return n(f),u()})}else a|=1}catch(f){n(f)}if(a===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()}function Zy(l,n){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,a,u,c,f){return a?n?".jsx":".js":u&&(!c||!f)?s:u+c+"."+f.toLowerCase()+"js"}):l}const I_={__extends:Ry,__assign:uo,__rest:sr,__decorate:ky,__param:Cy,__esDecorate:jy,__runInitializers:xy,__propKey:Ny,__setFunctionName:Dy,__metadata:Uy,__awaiter:F,__generator:My,__createBinding:So,__exportStar:By,__values:co,__read:Ch,__spread:zy,__spreadArrays:qy,__spreadArray:Ly,__await:nr,__asyncGenerator:Hy,__asyncDelegator:$y,__asyncValues:Vy,__makeTemplateObject:Gy,__importStar:Py,__importDefault:Yy,__classPrivateFieldGet:Iy,__classPrivateFieldSet:Ky,__classPrivateFieldIn:Xy,__addDisposableResource:Jy,__disposeResources:Qy,__rewriteRelativeImportExtension:Zy},K_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Jy,get __assign(){return uo},__asyncDelegator:$y,__asyncGenerator:Hy,__asyncValues:Vy,__await:nr,__awaiter:F,__classPrivateFieldGet:Iy,__classPrivateFieldIn:Xy,__classPrivateFieldSet:Ky,__createBinding:So,__decorate:ky,__disposeResources:Qy,__esDecorate:jy,__exportStar:By,__extends:Ry,__generator:My,__importDefault:Yy,__importStar:Py,__makeTemplateObject:Gy,__metadata:Uy,__param:Cy,__propKey:Ny,__read:Ch,__rest:sr,__rewriteRelativeImportExtension:Zy,__runInitializers:xy,__setFunctionName:Dy,__spread:zy,__spreadArray:Ly,__spreadArrays:qy,__values:co,default:I_},Symbol.toStringTag,{value:"Module"})),X_=l=>l?(...n)=>l(...n):(...n)=>fetch(...n);let wo=class extends Error{constructor(n,s="FunctionsError",a){super(n),this.name=s,this.context=a}},Fy=class extends wo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},ah=class extends wo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},lh=class extends wo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var ho;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(ho||(ho={}));class J_{constructor(n,{headers:s={},customFetch:a,region:u=ho.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=X_(a)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return F(this,arguments,void 0,function*(s,a={}){var u;let c,f;try{const{headers:p,method:g,body:y,signal:m,timeout:S}=a;let _={},{region:E}=a;E||(E=this.region);const w=new URL(`${this.url}/${s}`);E&&E!=="any"&&(_["x-region"]=E,w.searchParams.set("forceFunctionRegion",E));let R;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",R=y):typeof y=="string"?(_["Content-Type"]="text/plain",R=y):typeof FormData<"u"&&y instanceof FormData?R=y:(_["Content-Type"]="application/json",R=JSON.stringify(y)):R=y;let k=m;S&&(f=new AbortController,c=setTimeout(()=>f.abort(),S),m?(k=f.signal,m.addEventListener("abort",()=>f.abort())):k=f.signal);const D=yield this.fetch(w.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:R,signal:k}).catch(J=>{throw new Fy(J)}),G=D.headers.get("x-relay-error");if(G&&G==="true")throw new ah(D);if(!D.ok)throw new lh(D);let B=((u=D.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),P;return B==="application/json"?P=yield D.json():B==="application/octet-stream"||B==="application/pdf"?P=yield D.blob():B==="text/event-stream"?P=D:B==="multipart/form-data"?P=yield D.formData():P=yield D.text(),{data:P,error:null,response:D}}catch(p){return{data:null,error:p,response:p instanceof lh||p instanceof ah?p.context:void 0}}finally{c&&clearTimeout(c)}})}}const Q_=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ho},FunctionsClient:J_,FunctionsError:wo,FunctionsFetchError:Fy,FunctionsHttpError:lh,FunctionsRelayError:ah},Symbol.toStringTag,{value:"Module"})),Wy=va(Q_);var Rt={};const rr=va(K_);var $l={},Vl={},Gl={},Pl={},Yl={},Il={},$g;function em(){if($g)return Il;$g=1,Object.defineProperty(Il,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Il.default=l,Il}var Vg;function tm(){if(Vg)return Yl;Vg=1,Object.defineProperty(Yl,"__esModule",{value:!0});const n=rr.__importDefault(em());let s=class{constructor(u){var c,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,m,S,_;let E=null,w=null,R=null,k=g.status,D=g.statusText;if(g.ok){if(this.method!=="HEAD"){const J=await g.text();J===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?w=J:w=JSON.parse(J))}const B=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(S=g.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");B&&P&&P.length>1&&(R=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(E={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,R=null,k=406,D="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const B=await g.text();try{E=JSON.parse(B),Array.isArray(E)&&g.status===404&&(w=[],E=null,k=200,D="OK")}catch{g.status===404&&B===""?(k=204,D="No Content"):E={message:B}}if(E&&this.isMaybeSingle&&(!((_=E?.details)===null||_===void 0)&&_.includes("0 rows"))&&(E=null,k=200,D="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:w,count:R,status:k,statusText:D}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,m,S,_,E,w;let R="";const k=g?.cause;if(k){const D=(y=k?.message)!==null&&y!==void 0?y:"",G=(m=k?.code)!==null&&m!==void 0?m:"";R=`${(S=g?.name)!==null&&S!==void 0?S:"FetchError"}: ${g?.message}`,R+=`

Caused by: ${(_=k?.name)!==null&&_!==void 0?_:"Error"}: ${D}`,G&&(R+=` (${G})`),k?.stack&&(R+=`
${k.stack}`)}else R=(E=g?.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(w=g?.name)!==null&&w!==void 0?w:"FetchError"}: ${g?.message}`,details:R,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}};return Yl.default=s,Yl}var Gg;function nm(){if(Gg)return Pl;Gg=1,Object.defineProperty(Pl,"__esModule",{value:!0});const n=rr.__importDefault(tm());let s=class extends n.default{select(u){let c=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",m=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${m?`${m},`:""}${u}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,c,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(y,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var m;const S=[u?"analyze":null,c?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${_}"; options=${S};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}};return Pl.default=s,Pl}var Pg;function jh(){if(Pg)return Gl;Pg=1,Object.defineProperty(Gl,"__esModule",{value:!0});const n=rr.__importDefault(nm()),s=new RegExp("[,()]");let a=class extends n.default{eq(c,f){return this.url.searchParams.append(c,`eq.${f}`),this}neq(c,f){return this.url.searchParams.append(c,`neq.${f}`),this}gt(c,f){return this.url.searchParams.append(c,`gt.${f}`),this}gte(c,f){return this.url.searchParams.append(c,`gte.${f}`),this}lt(c,f){return this.url.searchParams.append(c,`lt.${f}`),this}lte(c,f){return this.url.searchParams.append(c,`lte.${f}`),this}like(c,f){return this.url.searchParams.append(c,`like.${f}`),this}likeAllOf(c,f){return this.url.searchParams.append(c,`like(all).{${f.join(",")}}`),this}likeAnyOf(c,f){return this.url.searchParams.append(c,`like(any).{${f.join(",")}}`),this}ilike(c,f){return this.url.searchParams.append(c,`ilike.${f}`),this}ilikeAllOf(c,f){return this.url.searchParams.append(c,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(c,f){return this.url.searchParams.append(c,`ilike(any).{${f.join(",")}}`),this}regexMatch(c,f){return this.url.searchParams.append(c,`match.${f}`),this}regexIMatch(c,f){return this.url.searchParams.append(c,`imatch.${f}`),this}is(c,f){return this.url.searchParams.append(c,`is.${f}`),this}isDistinct(c,f){return this.url.searchParams.append(c,`isdistinct.${f}`),this}in(c,f){const p=Array.from(new Set(f)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cs.{${f.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(f)}`),this}containedBy(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cd.{${f.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(f)}`),this}rangeGt(c,f){return this.url.searchParams.append(c,`sr.${f}`),this}rangeGte(c,f){return this.url.searchParams.append(c,`nxl.${f}`),this}rangeLt(c,f){return this.url.searchParams.append(c,`sl.${f}`),this}rangeLte(c,f){return this.url.searchParams.append(c,`nxr.${f}`),this}rangeAdjacent(c,f){return this.url.searchParams.append(c,`adj.${f}`),this}overlaps(c,f){return typeof f=="string"?this.url.searchParams.append(c,`ov.${f}`):this.url.searchParams.append(c,`ov.{${f.join(",")}}`),this}textSearch(c,f,{config:p,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const m=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${y}fts${m}.${f}`),this}match(c){return Object.entries(c).forEach(([f,p])=>{this.url.searchParams.append(f,`eq.${p}`)}),this}not(c,f,p){return this.url.searchParams.append(c,`not.${f}.${p}`),this}or(c,{foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,f,p){return this.url.searchParams.append(c,`${f}.${p}`),this}};return Gl.default=a,Gl}var Yg;function im(){if(Yg)return Vl;Yg=1,Object.defineProperty(Vl,"__esModule",{value:!0});const n=rr.__importDefault(jh());let s=class{constructor(u,{headers:c={},schema:f,fetch:p}){this.url=u,this.headers=new Headers(c),this.schema=f,this.fetch=p}select(u,c){const{head:f=!1,count:p}=c??{},g=f?"HEAD":"GET";let y=!1;const m=(u??"*").split("").map(S=>/\s/.test(S)&&!y?"":(S==='"'&&(y=!y),S)).join("");return this.url.searchParams.set("select",m),p&&this.headers.append("Prefer",`count=${p}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:f=!0}={}){var p;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const y=u.reduce((m,S)=>m.concat(Object.keys(S)),[]);if(y.length>0){const m=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",m.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var y;const m="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const S=u.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(S.length>0){const _=[...new Set(S)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(u,{count:c}={}){var f;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var c;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Vl.default=s,Vl}var Ig;function Z_(){if(Ig)return $l;Ig=1,Object.defineProperty($l,"__esModule",{value:!0});const l=rr,n=l.__importDefault(im()),s=l.__importDefault(jh());let a=class sm{constructor(c,{headers:f={},schema:p,fetch:g}={}){this.url=c,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new sm(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:p=!1,get:g=!1,count:y}={}){var m;let S;const _=new URL(`${this.url}/rpc/${c}`);let E;p||g?(S=p?"HEAD":"GET",Object.entries(f).filter(([R,k])=>k!==void 0).map(([R,k])=>[R,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([R,k])=>{_.searchParams.append(R,k)})):(S="POST",E=f);const w=new Headers(this.headers);return y&&w.set("Prefer",`count=${y}`),new s.default({method:S,url:_,headers:w,schema:this.schemaName,body:E,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return $l.default=a,$l}var Kg;function rm(){if(Kg)return Rt;Kg=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PostgrestError=Rt.PostgrestBuilder=Rt.PostgrestTransformBuilder=Rt.PostgrestFilterBuilder=Rt.PostgrestQueryBuilder=Rt.PostgrestClient=void 0;const l=rr,n=l.__importDefault(Z_());Rt.PostgrestClient=n.default;const s=l.__importDefault(im());Rt.PostgrestQueryBuilder=s.default;const a=l.__importDefault(jh());Rt.PostgrestFilterBuilder=a.default;const u=l.__importDefault(nm());Rt.PostgrestTransformBuilder=u.default;const c=l.__importDefault(tm());Rt.PostgrestBuilder=c.default;const f=l.__importDefault(em());return Rt.PostgrestError=f.default,Rt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:f.default},Rt}class am{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,u=parseInt(a.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const a=this.getWebSocketConstructor();return new a(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const F_="2.87.1",W_=`realtime-js/${F_}`,lm="1.0.0",eb="2.0.0",Xg=lm,oh=1e4,tb=1e3,nb=100;var is;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(is||(is={}));var ht;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(ht||(ht={}));var gn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(gn||(gn={}));var uh;(function(l){l.websocket="websocket"})(uh||(uh={}));var ss;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(ss||(ss={}));class ib{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let a=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,a;const u=(a=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var s,a;const u=(a=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,a){var u,c;const f=n.topic,p=(u=n.ref)!==null&&u!==void 0?u:"",g=(c=n.join_ref)!==null&&c!==void 0?c:"",y=n.payload.event,m=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(m).length===0?"":JSON.stringify(m);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+f.length+y.length+S.length,E=new ArrayBuffer(this.HEADER_LENGTH+_);let w=new DataView(E),R=0;w.setUint8(R++,this.KINDS.userBroadcastPush),w.setUint8(R++,g.length),w.setUint8(R++,p.length),w.setUint8(R++,f.length),w.setUint8(R++,y.length),w.setUint8(R++,S.length),w.setUint8(R++,s),Array.from(g,D=>w.setUint8(R++,D.charCodeAt(0))),Array.from(p,D=>w.setUint8(R++,D.charCodeAt(0))),Array.from(f,D=>w.setUint8(R++,D.charCodeAt(0))),Array.from(y,D=>w.setUint8(R++,D.charCodeAt(0))),Array.from(S,D=>w.setUint8(R++,D.charCodeAt(0)));var k=new Uint8Array(E.byteLength+a.byteLength);return k.set(new Uint8Array(E),0),k.set(new Uint8Array(a),E.byteLength),k.buffer}decode(n,s){if(this._isArrayBuffer(n)){let a=this._binaryDecode(n);return s(a)}if(typeof n=="string"){const a=JSON.parse(n),[u,c,f,p,g]=a;return s({join_ref:u,ref:c,topic:f,event:p,payload:g})}return s({})}_binaryDecode(n){const s=new DataView(n),a=s.getUint8(0),u=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,u)}}_decodeUserBroadcast(n,s,a){const u=s.getUint8(1),c=s.getUint8(2),f=s.getUint8(3),p=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=a.decode(n.slice(g,g+u));g=g+u;const m=a.decode(n.slice(g,g+c));g=g+c;const S=a.decode(n.slice(g,g+f));g=g+f;const _=n.slice(g,n.byteLength),E=p===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,w={type:this.BROADCAST_EVENT,event:m,payload:E};return f>0&&(w.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([a])=>s.includes(a)))}}class om{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ge||(Ge={}));const Jg=(l,n,s={})=>{var a;const u=(a=s.skipTypes)!==null&&a!==void 0?a:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=sb(f,l,n,u),c),{}):{}},sb=(l,n,s,a)=>{const u=n.find(p=>p.name===l),c=u?.type,f=s[l];return c&&!a.includes(c)?um(c,f):ch(f)},um=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return ob(n,s)}switch(l){case Ge.bool:return rb(n);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return ab(n);case Ge.json:case Ge.jsonb:return lb(n);case Ge.timestamp:return ub(n);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return ch(n);default:return ch(n)}},ch=l=>l,rb=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},ab=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},lb=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},ob=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,a=l[s];if(l[0]==="{"&&a==="}"){let c;const f=l.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>um(n,p))}return l},ub=l=>typeof l=="string"?l.replace(" ","T"):l,cm=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Yc{constructor(n,s,a={},u=oh){this.channel=n,this.event=s,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var a;return this._hasReceived(n)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(a=>a.status===n).forEach(a=>a.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var hh;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(hh||(hh={}));let hm=class Wl{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wl.syncState(this.state,u,c,f),this.pendingDiffs.forEach(g=>{this.state=Wl.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},u=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Wl.syncDiff(this.state,u,c,f),p())}),this.onJoin((u,c,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:f})}),this.onLeave((u,c,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,a,u){const c=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(c,(y,m)=>{f[y]||(g[y]=m)}),this.map(f,(y,m)=>{const S=c[y];if(S){const _=m.map(k=>k.presence_ref),E=S.map(k=>k.presence_ref),w=m.filter(k=>E.indexOf(k.presence_ref)<0),R=S.filter(k=>_.indexOf(k.presence_ref)<0);w.length>0&&(p[y]=w),R.length>0&&(g[y]=R)}else p[y]=m}),this.syncDiff(c,{joins:p,leaves:g},a,u)}static syncDiff(n,s,a,u){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(c,(p,g)=>{var y;const m=(y=n[p])!==null&&y!==void 0?y:[];if(n[p]=this.cloneDeep(g),m.length>0){const S=n[p].map(E=>E.presence_ref),_=m.filter(E=>S.indexOf(E.presence_ref)<0);n[p].unshift(..._)}a(p,m,g)}),this.map(f,(p,g)=>{let y=n[p];if(!y)return;const m=g.map(S=>S.presence_ref);y=y.filter(S=>m.indexOf(S.presence_ref)<0),n[p]=y,u(p,y,g),y.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(a=>s(a,n[a]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,a)=>{const u=n[a];return"metas"in u?s[a]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var fh;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(fh||(fh={}));var er;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(er||(er={}));var Sn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Sn||(Sn={}));const cb=ht;let fm=class fa{constructor(n,s={config:{}},a){var u,c;if(this.topic=n,this.params=s,this.socket=a,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Yc(this,gn.join,this.params,this.timeout),this.rejoinTimer=new om(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new hm(this),this.broadcastEndpointURL=cm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var a,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,y=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(E=>E.filter))!==null&&u!==void 0?u:[],m=!!this.bindings[er.PRESENCE]&&this.bindings[er.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,S={},_={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:m}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(Sn.CHANNEL_ERROR,E)),this._onClose(()=>n?.(Sn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},S)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:E})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n?.(Sn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,k=(w=R?.length)!==null&&w!==void 0?w:0,D=[];for(let G=0;G<k;G++){const B=R[G],{filter:{event:P,schema:J,table:V,filter:$}}=B,ue=E&&E[G];if(ue&&ue.event===P&&fa.isFilterValueEqual(ue.schema,J)&&fa.isFilterValueEqual(ue.table,V)&&fa.isFilterValueEqual(ue.filter,$))D.push(Object.assign(Object.assign({},B),{id:ue.id}));else{this.unsubscribe(),this.state=ht.errored,n?.(Sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,n&&n(Sn.SUBSCRIBED);return}}).receive("error",E=>{this.state=ht.errored,n?.(Sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(Sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,a){return this.state===ht.joined&&n===er.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,a)}async httpSend(n,s,a={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=a.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const y=await p.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(n,s={}){var a,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,g;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ht.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new Yc(this,gn.leave,{},n),a.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(n,s,a){const u=new AbortController,c=setTimeout(()=>u.abort(),a),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),f}_push(n,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Yc(this,n,s,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>nb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,a){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,a){var u,c;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:y,join:m}=gn;if(a&&[p,g,y,m].indexOf(f)>=0&&a!==this._joinRef())return;let _=this._onMessage(f,s,a);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(E=>{var w,R,k;return((w=E.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(R=E.filter)===null||R===void 0?void 0:R.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===f}).map(E=>E.callback(_,a)):(c=this.bindings[f])===null||c===void 0||c.filter(E=>{var w,R,k,D,G,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const P=E.id,J=(w=E.filter)===null||w===void 0?void 0:w.event;return P&&((R=s.ids)===null||R===void 0?void 0:R.includes(P))&&(J==="*"||J?.toLocaleLowerCase()===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const P=(G=(D=E?.filter)===null||D===void 0?void 0:D.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return P==="*"||P===((B=s?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof _=="object"&&"ids"in _){const w=_.data,{schema:R,table:k,commit_timestamp:D,type:G,errors:B}=w;_=Object.assign(Object.assign({},{schema:R,table:k,commit_timestamp:D,eventType:G,new:{},old:{},errors:B}),this._getPayloadRecords(w))}E.callback(_,a)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,a){const u=n.toLocaleLowerCase(),c={type:u,filter:s,callback:a};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,s){const a=n.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&fa.isEqual(u.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const a in n)if(n[a]!==s[a])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(gn.close,{},n)}_onError(n){this._on(gn.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Jg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Jg(n.columns,n.old_record)),s}};const Ic=()=>{},Kl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hb=[1e3,2e3,5e3,1e4],fb=1e4,db=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let pb=class{constructor(n,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oh,this.transport=null,this.heartbeatIntervalMs=Kl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ic,this.ref=0,this.reconnectTimer=null,this.vsn=Xg,this.logger=Ic,this.conn=null,this.sendBuffer=[],this.serializer=new ib,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${uh.websocket}`,this.httpEndpoint=cm(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=am.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,a){this.logger(n,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return ss.Connecting;case is.open:return ss.Open;case is.closing:return ss.Closing;default:return ss.Closed}}isConnected(){return this.connectionState()===ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const a=`realtime:${n}`,u=this.getChannels().find(c=>c.topic===a);if(u)return u;{const c=new fm(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:a,payload:u,ref:c}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${a} (${c})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(tb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Kl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(a=>a.topic===n&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:u,payload:c,ref:f}=s,p=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${a} ${u} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(u,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===is.open||this.conn.readyState===is.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(gn.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const a=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${a}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const a=new Blob([db],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,a=!1;if(n)s=n,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:W_};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(gn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(a=>{try{a(s)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(a){this.log("error",`error triggering ${n} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new om(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,a,u,c,f,p,g,y,m,S,_,E;switch(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=n?.timeout)!==null&&a!==void 0?a:oh,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Kl.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Ic,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:Xg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(w=>hb[w-1]||fb),this.vsn){case lm:this.encode=(m=n?.encode)!==null&&m!==void 0?m:((w,R)=>R(JSON.stringify(w))),this.decode=(S=n?.decode)!==null&&S!==void 0?S:((w,R)=>R(JSON.parse(w)));break;case eb:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(E=n?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};const gb=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:cb,get REALTIME_LISTEN_TYPES(){return er},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return fh},get REALTIME_PRESENCE_LISTEN_EVENTS(){return hh},get REALTIME_SUBSCRIBE_STATES(){return Sn},RealtimeChannel:fm,RealtimeClient:pb,RealtimePresence:hm,WebSocketFactory:am},Symbol.toStringTag,{value:"Module"})),dm=va(gb);class _a extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Je(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class pm extends _a{constructor(n,s,a){super(n),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fo extends _a{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const xh=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),yb=()=>Response,dh=l=>{if(Array.isArray(l))return l.map(s=>dh(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,a])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=dh(a)}),n},mb=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},vb=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),Kc=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},_b=(l,n,s)=>F(void 0,void 0,void 0,function*(){const a=yield yb();l instanceof a&&!s?.noResolveJson?l.json().then(u=>{const c=l.status||500,f=u?.statusCode||c+"";n(new pm(Kc(u),c,f))}).catch(u=>{n(new fo(Kc(u),u))}):n(new fo(Kc(l),l))}),bb=(l,n,s,a)=>{const u={method:l,headers:n?.headers||{}};return l==="GET"||!a?u:(mb(a)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(a)):u.body=a,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),s))};function ba(l,n,s,a,u,c){return F(this,void 0,void 0,function*(){return new Promise((f,p)=>{l(s,bb(n,a,u,c)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>_b(g,p,a))})})}function ya(l,n,s,a){return F(this,void 0,void 0,function*(){return ba(l,"GET",n,s,a)})}function pn(l,n,s,a,u){return F(this,void 0,void 0,function*(){return ba(l,"POST",n,a,u,s)})}function ph(l,n,s,a,u){return F(this,void 0,void 0,function*(){return ba(l,"PUT",n,a,u,s)})}function Sb(l,n,s,a){return F(this,void 0,void 0,function*(){return ba(l,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function Nh(l,n,s,a,u){return F(this,void 0,void 0,function*(){return ba(l,"DELETE",n,a,u,s)})}class wb{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}var gm;class Eb{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[gm]="BlobDownloadBuilder",this.promise=null}asStream(){return new wb(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}gm=Symbol.toStringTag;const Tb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ab{constructor(n,s={},a,u){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=a,this.fetch=xh(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,a,u){return F(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Qg),u);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=a,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const y=this._removeEmptyFolders(s),m=this._getFinalPath(y),S=yield(n=="PUT"?ph:pn)(this.fetch,`${this.url}/object/${m}`,c,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:S.Id,fullPath:S.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}upload(n,s,a){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,a)})}uploadToSignedUrl(n,s,a,u){return F(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:Qg.upsert},u),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",y.cacheControl)):(g=a,m["cache-control"]=`max-age=${y.cacheControl}`,m["content-type"]=y.contentType);const S=yield ph(this.fetch,p.toString(),g,{headers:m});return{data:{path:c,fullPath:S.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Je(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return F(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield pn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:u}),f=new URL(this.url+c.url),p=f.searchParams.get("token");if(!p)throw new _a("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}update(n,s,a){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,a)})}move(n,s,a){return F(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}copy(n,s,a){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}createSignedUrl(n,s,a){return F(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield pn(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const f=a?.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}createSignedUrls(n,s,a){return F(this,void 0,void 0,function*(){try{const u=yield pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}download(n,s){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),f=c?`?${c}`:"",p=this._getFinalPath(n),g=()=>ya(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new Eb(g,this.shouldThrowOnError)}info(n){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const a=yield ya(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:dh(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}exists(n){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Sb(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a)&&a instanceof fo){const u=a.originalError;if([400,404].includes(u?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(n,s){const a=this._getFinalPath(n),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&u.push(g);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${a}${y}`)}}}remove(n){return F(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}list(n,s,a){return F(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Tb),s),{prefix:n||""});return{data:yield pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},a),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}listV2(n,s){return F(this,void 0,void 0,function*(){try{const a=Object.assign({},n);return{data:yield pn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const ym="2.87.1",mm={"X-Client-Info":`storage-js/${ym}`};class Ob{constructor(n,s={},a,u){this.shouldThrowOnError=!1;const c=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mm),s),this.fetch=xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return F(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield ya(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}getBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield ya(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createBucket(n){return F(this,arguments,void 0,function*(s,a={public:!1}){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}updateBucket(n,s){return F(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}emptyBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var ma=class extends Error{constructor(l,n){super(l),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Rb(l,n,s){const a=new URL(n,l);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&a.searchParams.set(u,c);return a.toString()}async function kb(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Cb(l){const n=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:u,body:c,headers:f}){const p=Rb(l.baseUrl,a,u),g=await kb(l.auth),y=await n(p,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...g,...f},body:c?JSON.stringify(c):void 0}),m=await y.text(),S=(y.headers.get("content-type")||"").includes("application/json"),_=S&&m?JSON.parse(m):m;if(!y.ok){const E=S?_:void 0,w=E?.error;throw new ma(w?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:w?.type,icebergCode:w?.code,details:E})}return{status:y.status,headers:y.headers,data:_}}}}function Xl(l){return l.join("")}var jb=class{constructor(l,n=""){this.client=l,this.prefix=n}async listNamespaces(l){const n=l?{parent:Xl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(l,n){const s={namespace:l.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xl(l.namespace)}`}),!0}catch(n){if(n instanceof ma&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(l,n){try{return await this.createNamespace(l,n)}catch(s){if(s instanceof ma&&s.status===409)return;throw s}}};function Xs(l){return l.join("")}var xb=class{constructor(l,n="",s){this.client=l,this.prefix=n,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables`})).data.identifiers}async createTable(l,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(l,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables/${l.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(l){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables/${l.name}`,headers:n})).data.metadata}async tableExists(l){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables/${l.name}`,headers:n}),!0}catch(s){if(s instanceof ma&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,n){try{return await this.createTable(l,n)}catch(s){if(s instanceof ma&&s.status===409)return await this.loadTable({namespace:l.namespace,name:n.name});throw s}}},Nb=class{constructor(l){let n="v1";l.catalogName&&(n+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Cb({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new jb(this.client,n),this.tableOps=new xb(this.client,n,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,n){return this.namespaceOps.createNamespace(l,n)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,n){return this.tableOps.createTable(l,n)}async updateTable(l,n){return this.tableOps.updateTable(l,n)}async dropTable(l,n){await this.tableOps.dropTable(l,n)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,n){return this.namespaceOps.createNamespaceIfNotExists(l,n)}async createTableIfNotExists(l,n){return this.tableOps.createTableIfNotExists(l,n)}};class vm{constructor(n,s={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mm),s),this.fetch=xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listBuckets(n){return F(this,void 0,void 0,function*(){try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const a=s.toString(),u=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ya(this.fetch,u,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}from(n){if(!vb(n))throw new _a("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Nb({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>F(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(c,f){const p=c[f];return typeof p!="function"?p:(...g)=>F(this,void 0,void 0,function*(){try{return{data:yield p.apply(c,g),error:null}}catch(y){if(a)throw y;return{data:null,error:y}}})}})}}const Dh={"X-Client-Info":`storage-js/${ym}`,"Content-Type":"application/json"};class Uh extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Lt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class eo extends Uh{constructor(n,s,a){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _m extends Uh{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var gh;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gh||(gh={}));const Eo=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),Db=()=>Response,bm=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Ub=l=>Array.from(new Float32Array(l)),Mb=(l,n)=>{if(n!==void 0&&l.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${l.float32.length}`)},Zg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Bb=(l,n,s)=>F(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!s?.noResolveJson){const u=l.status||500,c=l;if(typeof c.json=="function")c.json().then(f=>{const p=f?.statusCode||f?.code||u+"";n(new eo(Zg(f),u,p))}).catch(()=>{const f=u+"",p=c.statusText||`HTTP ${u} error`;n(new eo(p,u,f))});else{const f=u+"",p=c.statusText||`HTTP ${u} error`;n(new eo(p,u,f))}}else n(new _m(Zg(l),l))}),zb=(l,n,s,a)=>{const u={method:l,headers:n?.headers||{}};return a?(bm(a)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(a)):u.body=a,Object.assign(Object.assign({},u),s)):u};function qb(l,n,s,a,u,c){return F(this,void 0,void 0,function*(){return new Promise((f,p)=>{l(s,zb(n,a,u,c)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Bb(g,p,a))})})}function Kt(l,n,s,a,u){return F(this,void 0,void 0,function*(){return qb(l,"POST",n,a,u,s)})}class Sm{constructor(n,s={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dh),s),this.fetch=Eo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return F(this,void 0,void 0,function*(){try{return{data:(yield Kt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getIndex(n,s){return F(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lt(a))return{data:null,error:a};throw a}})}listIndexes(n){return F(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return F(this,void 0,void 0,function*(){try{return{data:(yield Kt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lt(a))return{data:null,error:a};throw a}})}}class wm{constructor(n,s={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dh),s),this.fetch=Eo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return F(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Kt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getVectors(n){return F(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}listVectors(n){return F(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Kt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}queryVectors(n){return F(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteVectors(n){return F(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Kt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}}class Em{constructor(n,s={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dh),s),this.fetch=Eo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return F(this,void 0,void 0,function*(){try{return{data:(yield Kt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}listBuckets(){return F(this,arguments,void 0,function*(n={}){try{return{data:yield Kt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:(yield Kt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}}class Tm extends Em{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new Am(this.url,this.headers,n,this.fetch)}createBucket(n){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return F(this,void 0,void 0,function*(){return s.createBucket.call(this,n)})}getBucket(n){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return F(this,void 0,void 0,function*(){return s.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return F(this,arguments,void 0,function*(s={}){return n.listBuckets.call(this,s)})}deleteBucket(n){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return F(this,void 0,void 0,function*(){return s.deleteBucket.call(this,n)})}}class Am extends Sm{constructor(n,s,a,u){super(n,s,u),this.vectorBucketName=a}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Om(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Om extends wm{constructor(n,s,a,u,c){super(n,s,c),this.vectorBucketName=a,this.indexName=u}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Lb extends Ob{constructor(n,s={},a,u){super(n,s,a,u)}from(n){return new Ab(this.url,this.headers,n,this.fetch)}get vectors(){return new Tm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vm(this.url+"/iceberg",this.headers,this.fetch)}}const Hb=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:vm,StorageApiError:pm,StorageClient:Lb,StorageError:_a,StorageUnknownError:fo,StorageVectorsApiError:eo,StorageVectorsClient:Tm,StorageVectorsError:Uh,get StorageVectorsErrorCode(){return gh},StorageVectorsUnknownError:_m,VectorBucketApi:Em,VectorBucketScope:Am,VectorDataApi:wm,VectorIndexApi:Sm,VectorIndexScope:Om,isPlainObject:bm,isStorageError:Je,isStorageVectorsError:Lt,normalizeToFloat32:Ub,resolveFetch:Eo,resolveResponse:Db,validateVectorDimension:Mb},Symbol.toStringTag,{value:"Module"})),$b=va(Hb);var Xc={},oa={},Fg;function Vb(){return Fg||(Fg=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.version=void 0,oa.version="2.87.1"),oa}var Wg;function Gb(){return Wg||(Wg=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_REALTIME_OPTIONS=l.DEFAULT_AUTH_OPTIONS=l.DEFAULT_DB_OPTIONS=l.DEFAULT_GLOBAL_OPTIONS=l.DEFAULT_HEADERS=void 0;const n=Vb();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",l.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${n.version}`},l.DEFAULT_GLOBAL_OPTIONS={headers:l.DEFAULT_HEADERS},l.DEFAULT_DB_OPTIONS={schema:"public"},l.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l.DEFAULT_REALTIME_OPTIONS={}})(Xc)),Xc}var Jc={},ey;function Pb(){return ey||(ey=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.fetchWithAuth=l.resolveHeadersConstructor=l.resolveFetch=void 0;const n=u=>u?(...c)=>u(...c):(...c)=>fetch(...c);l.resolveFetch=n;const s=()=>Headers;l.resolveHeadersConstructor=s;const a=(u,c,f)=>{const p=(0,l.resolveFetch)(f),g=(0,l.resolveHeadersConstructor)();return async(y,m)=>{var S;const _=(S=await c())!==null&&S!==void 0?S:u;let E=new g(m?.headers);return E.has("apikey")||E.set("apikey",u),E.has("Authorization")||E.set("Authorization",`Bearer ${_}`),p(y,Object.assign(Object.assign({},m),{headers:E}))}};l.fetchWithAuth=a})(Jc)),Jc}var Kn={},ty;function Yb(){if(ty)return Kn;ty=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.isBrowser=void 0,Kn.uuid=l,Kn.ensureTrailingSlash=n,Kn.applySettingDefaults=a,Kn.validateSupabaseUrl=u;function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var f=Math.random()*16|0,p=c=="x"?f:f&3|8;return p.toString(16)})}function n(c){return c.endsWith("/")?c:c+"/"}const s=()=>typeof window<"u";Kn.isBrowser=s;function a(c,f){var p,g;const{db:y,auth:m,realtime:S,global:_}=c,{db:E,auth:w,realtime:R,global:k}=f,D={db:Object.assign(Object.assign({},E),y),auth:Object.assign(Object.assign({},w),m),realtime:Object.assign(Object.assign({},R),S),storage:{},global:Object.assign(Object.assign(Object.assign({},k),_),{headers:Object.assign(Object.assign({},(p=k?.headers)!==null&&p!==void 0?p:{}),(g=_?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return c.accessToken?D.accessToken=c.accessToken:delete D.accessToken,D}function u(c){const f=c?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Kn}var ua={};const Rm="2.87.1",Fs=30*1e3,yh=3,Qc=yh*Fs,Ib="http://localhost:9999",Kb="supabase.auth.token",Xb={"X-Client-Info":`gotrue-js/${Rm}`},mh="X-Supabase-Api-Version",km={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qb=600*1e3;let ir=class extends Error{constructor(n,s,a){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}};function ne(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}let Cm=class extends ir{constructor(n,s,a){super(n,s,a),this.name="AuthApiError",this.status=s,this.code=a}};function jm(l){return ne(l)&&l.name==="AuthApiError"}let Ei=class extends ir{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}},Jn=class extends ir{constructor(n,s,a,u){super(n,a,u),this.name=s,this.status=a}},qt=class extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function xm(l){return ne(l)&&l.name==="AuthSessionMissingError"}let es=class extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},da=class extends Jn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},pa=class extends Jn{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Nm(l){return ne(l)&&l.name==="AuthImplicitGrantRedirectError"}let vh=class extends Jn{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},po=class extends Jn{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}};function to(l){return ne(l)&&l.name==="AuthRetryableFetchError"}let _h=class extends Jn{constructor(n,s,a){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}};function Zb(l){return ne(l)&&l.name==="AuthWeakPasswordError"}let go=class extends Jn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ny=` 	
\r=`.split(""),Fb=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<ny.length;n+=1)l[ny[n].charCodeAt(0)]=-2;for(let n=0;n<yo.length;n+=1)l[yo[n].charCodeAt(0)]=n;return l})();function iy(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const a=n.queue>>n.queuedBits-6&63;s(yo[a]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const a=n.queue>>n.queuedBits-6&63;s(yo[a]),n.queuedBits-=6}}function Dm(l,n,s){const a=Fb[l];if(a>-1)for(n.queue=n.queue<<6|a,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function sy(l){const n=[],s=f=>{n.push(String.fromCodePoint(f))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=f=>{tS(f,a,s)};for(let f=0;f<l.length;f+=1)Dm(l.charCodeAt(f),u,c);return n.join("")}function Wb(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function eS(l,n){for(let s=0;s<l.length;s+=1){let a=l.charCodeAt(s);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(l.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Wb(a,n)}}function tS(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let a=1;a<6;a+=1)if((l>>7-a&1)===0){n.utf8seq=a;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function tr(l){const n=[],s={queue:0,queuedBits:0},a=u=>{n.push(u)};for(let u=0;u<l.length;u+=1)Dm(l.charCodeAt(u),s,a);return new Uint8Array(n)}function nS(l){const n=[];return eS(l,s=>n.push(s)),new Uint8Array(n)}function rs(l){const n=[],s={queue:0,queuedBits:0},a=u=>{n.push(u)};return l.forEach(u=>iy(u,s,a)),iy(null,s,a),n.join("")}function iS(l){return Math.round(Date.now()/1e3)+l}function sS(){return Symbol("auth-callback")}const Tt=()=>typeof window<"u"&&typeof document<"u",Fi={tested:!1,writable:!1},Um=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fi.tested)return Fi.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Fi.tested=!0,Fi.writable=!0}catch{Fi.tested=!0,Fi.writable=!1}return Fi.writable};function rS(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return s.searchParams.forEach((a,u)=>{n[u]=a}),n}const Mm=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),aS=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ws=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},Wi=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},wt=async(l,n)=>{await l.removeItem(n)};class To{constructor(){this.promise=new To.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}To.promiseConstructor=Promise;function Zc(l){const n=l.split(".");if(n.length!==3)throw new go("Invalid JWT structure");for(let a=0;a<n.length;a++)if(!Jb.test(n[a]))throw new go("JWT not in base64url format");return{header:JSON.parse(sy(n[0])),payload:JSON.parse(sy(n[1])),signature:tr(n[2]),raw:{header:n[0],payload:n[1]}}}async function lS(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function oS(l,n){return new Promise((a,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await l(c);if(!n(c,null,f)){a(f);return}}catch(f){if(!n(c,f)){u(f);return}}})()})}function uS(l){return("0"+l.toString(16)).substr(-2)}function cS(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(n),Array.from(n,uS).join("")}async function hS(l){const s=new TextEncoder().encode(l),a=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(a);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function fS(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await hS(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Js(l,n,s=!1){const a=cS();let u=a;s&&(u+="/PASSWORD_RECOVERY"),await Ws(l,`${n}-code-verifier`,u);const c=await fS(a);return[c,a===c?"plain":"s256"]}const dS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pS(l){const n=l.headers.get(mh);if(!n||!n.match(dS))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function gS(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function yS(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(l){if(!mS.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fc(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vS(l,n){return new Proxy(l,{get:(s,a,u)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,u)}return!n.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,a,u)}})}function ry(l){return JSON.parse(JSON.stringify(l))}const ts=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),_S=[502,503,504];async function ay(l){var n;if(!aS(l))throw new po(ts(l),0);if(_S.includes(l.status))throw new po(ts(l),l.status);let s;try{s=await l.json()}catch(c){throw new Ei(ts(c),c)}let a;const u=pS(l);if(u&&u.getTime()>=km["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new _h(ts(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(a==="session_not_found")throw new qt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new _h(ts(s),l.status,s.weak_password.reasons);throw new Cm(ts(s),l.status||500,a)}const bS=(l,n,s,a)=>{const u={method:l,headers:n?.headers||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),s))};async function le(l,n,s,a){var u;const c=Object.assign({},a?.headers);c[mh]||(c[mh]=km["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const f=(u=a?.query)!==null&&u!==void 0?u:{};a?.redirectTo&&(f.redirect_to=a.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await SS(l,n,s+p,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function SS(l,n,s,a,u,c){const f=bS(n,a,u,c);let p;try{p=await l(s,Object.assign({},f))}catch(g){throw console.error(g),new po(ts(g),0)}if(p.ok||await ay(p),a?.noResolveJson)return p;try{return await p.json()}catch(g){await ay(g)}}function dn(l){var n;let s=null;TS(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=iS(l.expires_in)));const a=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:a},error:null}}function ly(l){const n=dn(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(n.data.weak_password=l.weak_password),n}function Ti(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function wS(l){return{data:l,error:null}}function ES(l){const{action_link:n,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c}=l,f=sr(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function oy(l){return l}function TS(l){return l.access_token&&l.refresh_token&&l.expires_in}const no=["global","local","others"];let Mh=class{constructor({url:n="",headers:s={},fetch:a}){this.url=n,this.headers=s,this.fetch=Mm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=no[0]){if(no.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${no.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ne(a))return{data:null,error:a};throw a}}async inviteUserByEmail(n,s={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ti})}catch(a){if(ne(a))return{data:{user:null},error:a};throw a}}async generateLink(n){try{const{options:s}=n,a=sr(n,["options"]),u=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(u.new_email=a?.newEmail,delete u.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:ES,redirectTo:s?.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ti})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,a,u,c,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},m=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:oy});if(m.error)throw m.error;const S=await m.json(),_=(f=m.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(p=m.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(w=>{const R=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);y[`${k}Page`]=R}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ne(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){Qs(n);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ti})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Qs(n);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Ti})}catch(a){if(ne(a))return{data:{user:null},error:a};throw a}}async deleteUser(n,s=!1){Qs(n);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ti})}catch(a){if(ne(a))return{data:{user:null},error:a};throw a}}async _listFactors(n){Qs(n.userId);try{const{data:s,error:a}=await le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:a}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Qs(n.userId),Qs(n.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,a,u,c,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},m=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:oy});if(m.error)throw m.error;const S=await m.json(),_=(f=m.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(p=m.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(w=>{const R=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);y[`${k}Page`]=R}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ne(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ne(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(n){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}};function uy(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const ns={debug:!!(globalThis&&Um()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bh extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let Bm=class extends Bh{};class AS extends Bh{}async function zm(l,n,s){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const a=new globalThis.AbortController;return n>0&&setTimeout(()=>{a.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await s()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(n===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Bm(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ns.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const cy={};async function OS(l,n,s){var a;const u=(a=cy[l])!==null&&a!==void 0?a:Promise.resolve(),c=Promise.race([u.catch(()=>null),n>=0?new Promise((f,p)=>{setTimeout(()=>{p(new AS(`Acquring process lock with name "${l}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await s());return cy[l]=c.catch(async f=>{if(f&&f.isAcquireTimeout)return await u,null;throw f}),await c}function RS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qm(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function kS(l){return parseInt(l,16)}function CS(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,a=>a.toString(16).padStart(2,"0")).join("")}function jS(l){var n;const{chainId:s,domain:a,expirationTime:u,issuedAt:c=new Date,nonce:f,notBefore:p,requestId:g,resources:y,scheme:m,uri:S,version:_}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const E=qm(l.address),w=m?`${m}://${a}`:a,R=l.statement?`${l.statement}
`:"",k=`${w} wants you to sign in with your Ethereum account:
${E}

${R}`;let D=`URI: ${S}
Version: ${_}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(u&&(D+=`
Expiration Time: ${u.toISOString()}`),p&&(D+=`
Not Before: ${p.toISOString()}`),g&&(D+=`
Request ID: ${g}`),y){let G=`
Resources:`;for(const B of y){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);G+=`
- ${B}`}D+=G}return`${k}
${D}`}class ft extends Error{constructor({message:n,code:s,cause:a,name:u}){var c;super(n,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=u??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class mo extends ft{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function xS({error:l,options:n}){var s,a,u;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new ft({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Lm(f)){if(c.rp.id!==f)return new ft({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function NS({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new ft({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const a=window.location.hostname;if(Lm(a)){if(s.rpId!==a)return new ft({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class DS{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const US=new DS;function MS(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:a}=l,u=sr(l,["challenge","user","excludeCredentials"]),c=tr(n).buffer,f=Object.assign(Object.assign({},s),{id:tr(s.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:f});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const y=a[g];p.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:tr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function BS(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,a=sr(l,["challenge","allowCredentials"]),u=tr(n).buffer,c=Object.assign(Object.assign({},a),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];c.allowCredentials[f]=Object.assign(Object.assign({},p),{id:tr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function zS(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:rs(new Uint8Array(l.response.attestationObject)),clientDataJSON:rs(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function qS(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,a=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:rs(new Uint8Array(u.authenticatorData)),clientDataJSON:rs(new Uint8Array(u.clientDataJSON)),signature:rs(new Uint8Array(u.signature)),userHandle:u.userHandle?rs(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Lm(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function hy(){var l,n;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function LS(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new mo("Browser returned unexpected credential type",n)}:{data:null,error:new mo("Empty credential response",n)}}catch(n){return{data:null,error:xS({error:n,options:l})}}}async function HS(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new mo("Browser returned unexpected credential type",n)}:{data:null,error:new mo("Empty credential response",n)}}catch(n){return{data:null,error:NS({error:n,options:l})}}}const $S={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vo(...l){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),a={};for(const u of l)if(u)for(const c in u){const f=u[c];if(f!==void 0)if(Array.isArray(f))a[c]=f;else if(s(f))a[c]=f;else if(n(f)){const p=a[c];n(p)?a[c]=vo(p,f):a[c]=vo(f)}else a[c]=f}return a}function GS(l,n){return vo($S,l,n||{})}function PS(l,n){return vo(VS,l,n||{})}class YS{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:a,signal:u},c){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:p};const g=u??US.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=GS(f.webauthn.credential_options.publicKey,c?.create),{data:m,error:S}=await LS({publicKey:y,signal:g});return m?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:m}},error:null}:{data:null,error:S}}case"request":{const y=PS(f.webauthn.credential_options.publicKey,c?.request),{data:m,error:S}=await HS(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return m?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:m}},error:null}:{data:null,error:S}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Ei("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:a})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new ir("rpId is required for WebAuthn authentication")};try{if(!hy())return{data:null,error:new Ei("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:a},signal:u},{request:c});if(!f)return{data:null,error:p};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:a,credential_response:g.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Ei("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new ir("rpId is required for WebAuthn registration")};try{if(!hy())return{data:null,error:new Ei("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(m=>{var S;return(S=m.data)===null||S===void 0?void 0:S.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:p};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:u},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Ei("Unexpected error in register",f)}}}}RS();const IS={url:Ib,storageKey:Kb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function fy(l,n,s){return await s()}const Zs={};let zh=class bh{get jwks(){var n,s;return(s=(n=Zs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Zs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{cachedAt:n})}constructor(n){var s,a,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},IS),n);if(this.storageKey=c.storageKey,this.instanceID=(s=bh.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,bh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Tt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Mh({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Mm(c.fetch),this.lock=c.lock||fy,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Tt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=zm:this.lock=fy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Um()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uy(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=uy(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},a="none";if(Tt()&&(s=rS(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),Tt()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Nm(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?this._returnResult({error:s}):this._returnResult({error:new Ei("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,a,u;try{const c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:dn}),{data:f,error:p}=c;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var s,a,u;try{let c;if("email"in n){const{email:m,password:S,options:_}=n;let E=null,w=null;this.flowType==="pkce"&&([E,w]=await Js(this.storage,this.storageKey)),c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:m,password:S,data:(s=_?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:E,code_challenge_method:w},xform:dn})}else if("phone"in n){const{phone:m,password:S,options:_}=n;c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:S,data:(a=_?.data)!==null&&a!==void 0?a:{},channel:(u=_?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:dn})}else throw new da("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:p}=n;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ly})}else if("phone"in n){const{phone:c,password:f,options:p}=n;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ly})}else throw new da("You must provide either an email or phone number and a password");const{data:a,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const c=new es;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,a,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=n.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,a,u,c,f,p,g,y,m,S,_;let E,w;if("message"in n)E=n.message,w=n.signature;else{const{chain:R,wallet:k,statement:D,options:G}=n;let B;if(Tt())if(typeof k=="object")B=k;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")B=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=k}const P=new URL((s=G?.url)!==null&&s!==void 0?s:window.location.href),J=await B.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=qm(J[0]);let $=(a=G?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!$){const fe=await B.request({method:"eth_chainId"});$=kS(fe)}const ue={domain:P.host,address:V,statement:D,uri:P.href,version:"1",chainId:$,nonce:(u=G?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(c=G?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=G?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=G?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=G?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(m=G?.signInWithEthereum)===null||m===void 0?void 0:m.resources};E=jS(ue),w=await B.request({method:"personal_sign",params:[CS(E),V]})}try{const{data:R,error:k}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:w},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:dn});if(k)throw k;if(!R||!R.session||!R.user){const D=new es;return this._returnResult({data:{user:null,session:null},error:D})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:k})}catch(R){if(ne(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var s,a,u,c,f,p,g,y,m,S,_,E;let w,R;if("message"in n)w=n.message,R=n.signature;else{const{chain:k,wallet:D,statement:G,options:B}=n;let P;if(Tt())if(typeof D=="object")P=D;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))P=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=D}const J=new URL((s=B?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in P&&P.signIn){const V=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),G?{statement:G}:null));let $;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")$=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)$=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)w=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),R=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${J.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(u=(a=B?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=B?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((p=B?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((y=B?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((S=(m=B?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||S===void 0)&&S.length?["Resources",...B.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const V=await P.signMessage(new TextEncoder().encode(w),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=V}}try{const{data:k,error:D}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:rs(R)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:dn});if(D)throw D;if(!k||!k.session||!k.user){const G=new es;return this._returnResult({data:{user:null,session:null},error:G})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:D})}catch(k){if(ne(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(n){const s=await Wi(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(s??"").split("/");try{const{data:c,error:f}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:a},xform:dn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const p=new es;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:f})}catch(c){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:s,provider:a,token:u,access_token:c,nonce:f}=n,p=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:dn}),{data:g,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const m=new es;return this._returnResult({data:{user:null,session:null},error:m})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,a,u,c,f;try{if("email"in n){const{email:p,options:g}=n;let y=null,m=null;this.flowType==="pkce"&&([y,m]=await Js(this.storage,this.storageKey));const{error:S}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:m},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:p,options:g}=n,{data:y,error:m}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:m})}throw new da("You must provide either an email or phone number.")}catch(p){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var s,a;try{let u,c;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(a=n.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:p}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:dn});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var s,a,u,c,f;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Js(this.storage,this.storageKey));const y=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:wS});return!((c=y.data)===null||c===void 0)&&c.url&&Tt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)throw a;if(!s)throw new qt;const{error:u}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:a,type:u,options:c}=n,{error:f}=await le(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:a,type:u,options:c}=n,{data:f,error:p}=await le(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new da("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const a=n.expires_at?n.expires_at*1e3-Date.now()<Qc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",n.expires_at),!a){if(this.userStorage){const f=await Wi(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Fc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=vS(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ti}):await this._useSession(async s=>{var a,u,c;const{data:f,error:p}=s;if(p)throw p;return!(!((a=f.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Ti})})}catch(s){if(ne(s))return xm(s)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async a=>{const{data:u,error:c}=a;if(c)throw c;if(!u.session)throw new qt;const f=u.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await Js(this.storage,this.storageKey));const{data:y,error:m}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:Ti});if(m)throw m;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new qt;const s=Date.now()/1e3;let a=s,u=!0,c=null;const{payload:f}=Zc(n.access_token);if(f.exp&&(a=f.exp,u=a<=s),u){const{data:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var a;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(a=f.session)!==null&&a!==void 0?a:void 0}if(!n?.refresh_token)throw new qt;const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!Tt())throw new pa("No browser detected.");if(n.error||n.error_description||n.error_code)throw new pa(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new vh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pa("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new vh("No code detected.");const{data:G,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:c,refresh_token:f,expires_in:p,expires_at:g,token_type:y}=n;if(!c||!p||!f||!y)throw new pa("No session defined in URL");const m=Math.round(Date.now()/1e3),S=parseInt(p);let _=m+S;g&&(_=parseInt(g));const E=_-m;E*1e3<=Fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${S}s`);const w=_-S;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,_,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,_,m);const{data:R,error:k}=await this._getUser(c);if(k)throw k;const D={provider_token:a,provider_refresh_token:u,access_token:c,expires_in:S,expires_at:_,refresh_token:f,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:n.type},error:null})}catch(a){if(ne(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Wi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const f=(a=u.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(jm(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=sS(),a={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(n){return await this._useSession(async s=>{var a,u;try{const{data:{session:c},error:f}=s;if(f)throw f;await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await Js(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:a,error:u}=await this._useSession(async c=>{var f,p,g,y,m;const{data:S,error:_}=c;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",E,{headers:this.headers,jwt:(m=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&m!==void 0?m:void 0})});if(u)throw u;return Tt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:n.provider,url:a?.url},error:null})}catch(a){if(ne(a))return this._returnResult({data:{provider:n.provider,url:null},error:a});throw a}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var a;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:f,provider:p,token:g,access_token:y,nonce:m}=n,S=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:g,access_token:y,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:dn}),{data:_,error:E}=S;return E?this._returnResult({data:{user:null,session:null},error:E}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new es}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:E}))}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var a,u;const{data:c,error:f}=s;if(f)throw f;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await oS(async u=>(u>0&&await lS(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:dn})),(u,c)=>{const f=200*Math.pow(2,u);return c&&to(c)&&Date.now()+f-a<Fs})}catch(a){if(this._debug(s,"error",a),ne(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",a),Tt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:n,url:a},error:null}}async _recoverAndRefresh(){var n,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Wi(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Ws(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:Fc()}else if(u&&!u.user&&!u.user){const f=await Wi(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await wt(this.storage,this.storageKey+"-user"),await Ws(this.storage,this.storageKey,u)):u.user=Fc()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Qc;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Qc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),to(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(a,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(n){var s,a;if(!n)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new To;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new qt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),ne(c)){const f={data:null,error:c};return to(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,a=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Ws(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=ry(u);await Ws(this.storage,this.storageKey,c)}else{const u=ry(s);await Ws(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Fs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-n)/Fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Fs}ms, refresh threshold is ${yh} ticks`),u<=yh&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Bh)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,a){const u=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,f]=await Js(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);u.push(c.toString())}return a?.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var a,u;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:y}=await le(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?zS(n.webauthn.credential_response):qS(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:g}=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:MS(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:BS(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:a}=await this._challenge({factorId:n.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s?.factors)!==null&&n!==void 0?n:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:a},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Zc(a.access_token);let f=null;c.aal&&(f=c.aal);let p=f;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new qt})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new qt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Tt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(a){if(ne(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(n,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new qt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Tt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(a){if(ne(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new qt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let a=s.keys.find(p=>p.kid===n);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(p=>p.kid===n),a&&this.jwks_cached_at+Qb>u)return a;const{data:c,error:f}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,a=c.keys.find(p=>p.kid===n),!a)?null:a}async getClaims(n,s={}){try{let a=n;if(!a){const{data:E,error:w}=await this.getSession();if(w||!E.session)return this._returnResult({data:null,error:w});a=E.session.access_token}const{header:u,payload:c,signature:f,raw:{header:p,payload:g}}=Zc(a);s?.allowExpired||gS(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:E}=await this.getUser(a);if(E)throw E;return{data:{claims:c,header:u,signature:f},error:null}}const m=yS(u.alg),S=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,S,f,nS(`${p}.${g}`)))throw new go("Invalid JWT signature");return{data:{claims:c,header:u,signature:f},error:null}}catch(a){if(ne(a))return this._returnResult({data:null,error:a});throw a}}};zh.nextInstanceID={};const KS=Mh,XS=zh,JS=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:KS,AuthApiError:Cm,AuthClient:XS,AuthError:ir,AuthImplicitGrantRedirectError:pa,AuthInvalidCredentialsError:da,AuthInvalidJwtError:go,AuthInvalidTokenResponseError:es,AuthPKCEGrantCodeExchangeError:vh,AuthRetryableFetchError:po,AuthSessionMissingError:qt,AuthUnknownError:Ei,AuthWeakPasswordError:_h,CustomAuthError:Jn,GoTrueAdminApi:Mh,GoTrueClient:zh,NavigatorLockAcquireTimeoutError:Bm,SIGN_OUT_SCOPES:no,isAuthApiError:jm,isAuthError:ne,isAuthImplicitGrantRedirectError:Nm,isAuthRetryableFetchError:to,isAuthSessionMissingError:xm,isAuthWeakPasswordError:Zb,lockInternals:ns,navigatorLock:zm,processLock:OS},Symbol.toStringTag,{value:"Module"})),Hm=va(JS);var dy;function QS(){if(dy)return ua;dy=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.SupabaseAuthClient=void 0;const l=Hm;let n=class extends l.AuthClient{constructor(a){super(a)}};return ua.SupabaseAuthClient=n,ua}var py;function gy(){if(py)return Hl;py=1,Object.defineProperty(Hl,"__esModule",{value:!0});const l=Wy,n=rm(),s=dm,a=$b,u=Gb(),c=Pb(),f=Yb(),p=QS();class g{constructor(m,S,_){var E,w,R;this.supabaseUrl=m,this.supabaseKey=S;const k=(0,f.validateSupabaseUrl)(m);if(!S)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const D=`sb-${k.hostname.split(".")[0]}-auth-token`,G={db:u.DEFAULT_DB_OPTIONS,realtime:u.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},u.DEFAULT_AUTH_OPTIONS),{storageKey:D}),global:u.DEFAULT_GLOBAL_OPTIONS},B=(0,f.applySettingDefaults)(_??{},G);this.storageKey=(E=B.auth.storageKey)!==null&&E!==void 0?E:"",this.headers=(w=B.global.headers)!==null&&w!==void 0?w:{},B.accessToken?(this.accessToken=B.accessToken,this.auth=new Proxy({},{get:(P,J)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(J)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((R=B.auth)!==null&&R!==void 0?R:{},this.headers,B.global.fetch),this.fetch=(0,c.fetchWithAuth)(S,this._getAccessToken.bind(this),B.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},B.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new n.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:B.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,_?.storage),B.accessToken||this._listenForAuthEvents()}get functions(){return new l.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,S={},_={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,S,_)}channel(m,S={config:{}}){return this.realtime.channel(m,S)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,S;if(this.accessToken)return await this.accessToken();const{data:_}=await this.auth.getSession();return(S=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&S!==void 0?S:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:S,detectSessionInUrl:_,storage:E,userStorage:w,storageKey:R,flowType:k,lock:D,debug:G,throwOnError:B},P,J){const V={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},V),P),storageKey:R,autoRefreshToken:m,persistSession:S,detectSessionInUrl:_,storage:E,userStorage:w,flowType:k,lock:D,debug:G,throwOnError:B,fetch:J,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((S,_)=>{this._handleTokenChanged(S,"CLIENT",_?.access_token)})}_handleTokenChanged(m,S,_){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==_?(this.changedAccessToken=_,this.realtime.setAuth(_)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),S=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Hl.default=g,Hl}var yy;function ZS(){return yy||(yy=1,(function(l){var n=In&&In.__createBinding||(Object.create?(function(m,S,_,E){E===void 0&&(E=_);var w=Object.getOwnPropertyDescriptor(S,_);(!w||("get"in w?!S.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(m,E,w)}):(function(m,S,_,E){E===void 0&&(E=_),m[E]=S[_]})),s=In&&In.__exportStar||function(m,S){for(var _ in m)_!=="default"&&!Object.prototype.hasOwnProperty.call(S,_)&&n(S,m,_)},a=In&&In.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0}),l.createClient=l.SupabaseClient=l.FunctionRegion=l.FunctionsError=l.FunctionsRelayError=l.FunctionsFetchError=l.FunctionsHttpError=l.PostgrestError=void 0;const u=a(gy());s(Hm,l);var c=rm();Object.defineProperty(l,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var f=Wy;Object.defineProperty(l,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(l,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(l,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(l,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(l,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),s(dm,l);var p=gy();Object.defineProperty(l,"SupabaseClient",{enumerable:!0,get:function(){return a(p).default}});const g=(m,S,_)=>new u.default(m,S,_);l.createClient=g;function y(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const S=m.match(/^v(\d+)\./);return S?parseInt(S[1],10)<=18:!1}y()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(In)),In}var $m=ZS();const Vm=h_($m),FS=c_({__proto__:null,default:Vm},[$m]),{PostgrestError:DE,FunctionsHttpError:UE,FunctionsFetchError:ME,FunctionsRelayError:BE,FunctionsError:zE,FunctionRegion:qE,SupabaseClient:LE,createClient:WS,GoTrueAdminApi:HE,GoTrueClient:$E,AuthAdminApi:VE,AuthClient:GE,navigatorLock:PE,NavigatorLockAcquireTimeoutError:YE,lockInternals:IE,processLock:KE,SIGN_OUT_SCOPES:XE,AuthError:JE,AuthApiError:QE,AuthUnknownError:ZE,CustomAuthError:FE,AuthSessionMissingError:WE,AuthInvalidTokenResponseError:e1,AuthInvalidCredentialsError:t1,AuthImplicitGrantRedirectError:n1,AuthPKCEGrantCodeExchangeError:i1,AuthRetryableFetchError:s1,AuthWeakPasswordError:r1,AuthInvalidJwtError:a1,isAuthError:l1,isAuthApiError:o1,isAuthSessionMissingError:u1,isAuthImplicitGrantRedirectError:c1,isAuthRetryableFetchError:h1,isAuthWeakPasswordError:f1,RealtimePresence:d1,RealtimeChannel:p1,RealtimeClient:g1,REALTIME_LISTEN_TYPES:y1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:m1,REALTIME_PRESENCE_LISTEN_EVENTS:v1,REALTIME_SUBSCRIBE_STATES:_1,REALTIME_CHANNEL_STATES:b1}=Vm||FS,ew="https://jrhcxnurojglpdtkaslf.supabase.co",tw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpyaGN4bnVyb2pnbHBkdGthc2xmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjA0NDMsImV4cCI6MjA4MDY5NjQ0M30.RuwYXc6kkISZa28EfHA6-_XsbiS98xutaqCdy_oZEIk",_o=WS(ew,tw),nw=({isOpen:l,onClose:n,onSuccess:s})=>{const[a,u]=Z.useState(""),[c,f]=Z.useState(""),[p,g]=Z.useState(!1),[y,m]=Z.useState(!1),[S,_]=Z.useState(null);if(!l)return null;const E=async w=>{w.preventDefault(),m(!0),_(null);try{if(p){const{error:R}=await _o.auth.signUp({email:a,password:c});if(R)throw R;alert("Account created! You are now logged in."),s()}else{const{error:R}=await _o.auth.signInWithPassword({email:a,password:c});if(R)throw R;s()}n()}catch(R){_(R.message||"An error occurred")}finally{m(!1)}};return b.jsx("div",{className:"auth-overlay",children:b.jsxs("div",{className:"auth-content",children:[b.jsx("button",{className:"close-btn",onClick:n,children:""}),b.jsx("h2",{children:p?"Create Account":"Sign In"}),b.jsx("p",{className:"auth-description",children:p?"Create an account to save your rating permanently.":"Sign in to sync your rating across devices."}),S&&b.jsx("div",{className:"auth-error",children:S}),b.jsxs("form",{onSubmit:E,children:[b.jsx("input",{type:"email",placeholder:"Email",value:a,onChange:w=>u(w.target.value),required:!0}),b.jsx("input",{type:"password",placeholder:"Password",value:c,onChange:w=>f(w.target.value),required:!0,minLength:6}),b.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:y,children:y?"Processing...":p?"Sign Up":"Sign In"})]}),b.jsx("div",{className:"auth-toggle",children:b.jsx("button",{onClick:()=>g(!p),children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})},En=Object.create(null);En.open="0";En.close="1";En.ping="2";En.pong="3";En.message="4";En.upgrade="5";En.noop="6";const io=Object.create(null);Object.keys(En).forEach(l=>{io[En[l]]=l});const Sh={type:"error",data:"parser error"},Gm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Pm=typeof ArrayBuffer=="function",Ym=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,qh=({type:l,data:n},s,a)=>Gm&&n instanceof Blob?s?a(n):my(n,a):Pm&&(n instanceof ArrayBuffer||Ym(n))?s?a(n):my(new Blob([n]),a):a(En[l]+(n||"")),my=(l,n)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];n("b"+(a||""))},s.readAsDataURL(l)};function vy(l){return l instanceof Uint8Array?l:l instanceof ArrayBuffer?new Uint8Array(l):new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}let Wc;function iw(l,n){if(Gm&&l.data instanceof Blob)return l.data.arrayBuffer().then(vy).then(n);if(Pm&&(l.data instanceof ArrayBuffer||Ym(l.data)))return n(vy(l.data));qh(l,!1,s=>{Wc||(Wc=new TextEncoder),n(Wc.encode(s))})}const _y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ga=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let l=0;l<_y.length;l++)ga[_y.charCodeAt(l)]=l;const sw=l=>{let n=l.length*.75,s=l.length,a,u=0,c,f,p,g;l[l.length-1]==="="&&(n--,l[l.length-2]==="="&&n--);const y=new ArrayBuffer(n),m=new Uint8Array(y);for(a=0;a<s;a+=4)c=ga[l.charCodeAt(a)],f=ga[l.charCodeAt(a+1)],p=ga[l.charCodeAt(a+2)],g=ga[l.charCodeAt(a+3)],m[u++]=c<<2|f>>4,m[u++]=(f&15)<<4|p>>2,m[u++]=(p&3)<<6|g&63;return y},rw=typeof ArrayBuffer=="function",Lh=(l,n)=>{if(typeof l!="string")return{type:"message",data:Im(l,n)};const s=l.charAt(0);return s==="b"?{type:"message",data:aw(l.substring(1),n)}:io[s]?l.length>1?{type:io[s],data:l.substring(1)}:{type:io[s]}:Sh},aw=(l,n)=>{if(rw){const s=sw(l);return Im(s,n)}else return{base64:!0,data:l}},Im=(l,n)=>{switch(n){case"blob":return l instanceof Blob?l:new Blob([l]);case"arraybuffer":default:return l instanceof ArrayBuffer?l:l.buffer}},Km="",lw=(l,n)=>{const s=l.length,a=new Array(s);let u=0;l.forEach((c,f)=>{qh(c,!1,p=>{a[f]=p,++u===s&&n(a.join(Km))})})},ow=(l,n)=>{const s=l.split(Km),a=[];for(let u=0;u<s.length;u++){const c=Lh(s[u],n);if(a.push(c),c.type==="error")break}return a};function uw(){return new TransformStream({transform(l,n){iw(l,s=>{const a=s.length;let u;if(a<126)u=new Uint8Array(1),new DataView(u.buffer).setUint8(0,a);else if(a<65536){u=new Uint8Array(3);const c=new DataView(u.buffer);c.setUint8(0,126),c.setUint16(1,a)}else{u=new Uint8Array(9);const c=new DataView(u.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(a))}l.data&&typeof l.data!="string"&&(u[0]|=128),n.enqueue(u),n.enqueue(s)})}})}let eh;function Jl(l){return l.reduce((n,s)=>n+s.length,0)}function Ql(l,n){if(l[0].length===n)return l.shift();const s=new Uint8Array(n);let a=0;for(let u=0;u<n;u++)s[u]=l[0][a++],a===l[0].length&&(l.shift(),a=0);return l.length&&a<l[0].length&&(l[0]=l[0].slice(a)),s}function cw(l,n){eh||(eh=new TextDecoder);const s=[];let a=0,u=-1,c=!1;return new TransformStream({transform(f,p){for(s.push(f);;){if(a===0){if(Jl(s)<1)break;const g=Ql(s,1);c=(g[0]&128)===128,u=g[0]&127,u<126?a=3:u===126?a=1:a=2}else if(a===1){if(Jl(s)<2)break;const g=Ql(s,2);u=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),a=3}else if(a===2){if(Jl(s)<8)break;const g=Ql(s,8),y=new DataView(g.buffer,g.byteOffset,g.length),m=y.getUint32(0);if(m>Math.pow(2,21)-1){p.enqueue(Sh);break}u=m*Math.pow(2,32)+y.getUint32(4),a=3}else{if(Jl(s)<u)break;const g=Ql(s,u);p.enqueue(Lh(c?g:eh.decode(g),n)),a=0}if(u===0||u>l){p.enqueue(Sh);break}}}})}const Xm=4;function dt(l){if(l)return hw(l)}function hw(l){for(var n in dt.prototype)l[n]=dt.prototype[n];return l}dt.prototype.on=dt.prototype.addEventListener=function(l,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(n),this};dt.prototype.once=function(l,n){function s(){this.off(l,s),n.apply(this,arguments)}return s.fn=n,this.on(l,s),this};dt.prototype.off=dt.prototype.removeListener=dt.prototype.removeAllListeners=dt.prototype.removeEventListener=function(l,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+l];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var a,u=0;u<s.length;u++)if(a=s[u],a===n||a.fn===n){s.splice(u,1);break}return s.length===0&&delete this._callbacks["$"+l],this};dt.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+l],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,u=s.length;a<u;++a)s[a].apply(this,n)}return this};dt.prototype.emitReserved=dt.prototype.emit;dt.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]};dt.prototype.hasListeners=function(l){return!!this.listeners(l).length};const Ao=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,s)=>s(n,0),on=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fw="arraybuffer";function Jm(l,...n){return n.reduce((s,a)=>(l.hasOwnProperty(a)&&(s[a]=l[a]),s),{})}const dw=on.setTimeout,pw=on.clearTimeout;function Oo(l,n){n.useNativeTimers?(l.setTimeoutFn=dw.bind(on),l.clearTimeoutFn=pw.bind(on)):(l.setTimeoutFn=on.setTimeout.bind(on),l.clearTimeoutFn=on.clearTimeout.bind(on))}const gw=1.33;function yw(l){return typeof l=="string"?mw(l):Math.ceil((l.byteLength||l.size)*gw)}function mw(l){let n=0,s=0;for(let a=0,u=l.length;a<u;a++)n=l.charCodeAt(a),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(a++,s+=4);return s}function Qm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vw(l){let n="";for(let s in l)l.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(l[s]));return n}function _w(l){let n={},s=l.split("&");for(let a=0,u=s.length;a<u;a++){let c=s[a].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class bw extends Error{constructor(n,s,a){super(n),this.description=s,this.context=a,this.type="TransportError"}}class Hh extends dt{constructor(n){super(),this.writable=!1,Oo(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,s,a){return super.emitReserved("error",new bw(n,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const s=Lh(n,this.socket.binaryType);this.onPacket(s)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,s={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const s=vw(n);return s.length?"?"+s:""}}class Sw extends Hh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const s=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};ow(n,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,lw(n,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Qm()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(n,s)}}let Zm=!1;try{Zm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ww=Zm;function Ew(){}class Tw extends Sw{constructor(n){if(super(n),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||a!==n.port}}doWrite(n,s){const a=this.request({method:"POST",data:n});a.on("success",s),a.on("error",(u,c)=>{this.onError("xhr post error",u,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=n}}class wn extends dt{constructor(n,s,a){super(),this.createRequest=n,Oo(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var n;const s=Jm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let u in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(u)&&a.setRequestHeader(u,this._opts.extraHeaders[u])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var u;a.readyState===3&&((u=this._opts.cookieJar)===null||u===void 0||u.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(u){this.setTimeoutFn(()=>{this._onError(u)},0);return}typeof document<"u"&&(this._index=wn.requestsCount++,wn.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ew,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete wn.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}wn.requestsCount=0;wn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",by);else if(typeof addEventListener=="function"){const l="onpagehide"in on?"pagehide":"unload";addEventListener(l,by,!1)}}function by(){for(let l in wn.requests)wn.requests.hasOwnProperty(l)&&wn.requests[l].abort()}const Aw=(function(){const l=Fm({xdomain:!1});return l&&l.responseType!==null})();class Ow extends Tw{constructor(n){super(n);const s=n&&n.forceBase64;this.supportsBinary=Aw&&!s}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new wn(Fm,this.uri(),n)}}function Fm(l){const n=l.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||ww))return new XMLHttpRequest}catch{}if(!n)try{return new on[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Wm=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Rw extends Hh{get name(){return"websocket"}doOpen(){const n=this.uri(),s=this.opts.protocols,a=Wm?{}:Jm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,s,a)}catch(u){return this.emitReserved("error",u)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const a=n[s],u=s===n.length-1;qh(a,this.supportsBinary,c=>{try{this.doWrite(a,c)}catch{}u&&Ao(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Qm()),this.supportsBinary||(s.b64=1),this.createUri(n,s)}}const th=on.WebSocket||on.MozWebSocket;class kw extends Rw{createSocket(n,s,a){return Wm?new th(n,s,a):s?new th(n,s):new th(n)}doWrite(n,s){this.ws.send(s)}}class Cw extends Hh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const s=cw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=n.readable.pipeThrough(s).getReader(),u=uw();u.readable.pipeTo(n.writable),this._writer=u.writable.getWriter();const c=()=>{a.read().then(({done:p,value:g})=>{p||(this.onPacket(g),c())}).catch(p=>{})};c();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const a=n[s],u=s===n.length-1;this._writer.write(a).then(()=>{u&&Ao(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const jw={websocket:kw,webtransport:Cw,polling:Ow},xw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wh(l){if(l.length>8e3)throw"URI too long";const n=l,s=l.indexOf("["),a=l.indexOf("]");s!=-1&&a!=-1&&(l=l.substring(0,s)+l.substring(s,a).replace(/:/g,";")+l.substring(a,l.length));let u=xw.exec(l||""),c={},f=14;for(;f--;)c[Nw[f]]=u[f]||"";return s!=-1&&a!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=Dw(c,c.path),c.queryKey=Uw(c,c.query),c}function Dw(l,n){const s=/\/{2,9}/g,a=n.replace(s,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&a.splice(0,1),n.slice(-1)=="/"&&a.splice(a.length-1,1),a}function Uw(l,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,u,c){u&&(s[u]=c)}),s}const Eh=typeof addEventListener=="function"&&typeof removeEventListener=="function",so=[];Eh&&addEventListener("offline",()=>{so.forEach(l=>l())},!1);class Ri extends dt{constructor(n,s){if(super(),this.binaryType=fw,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(s=n,n=null),n){const a=wh(n);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=wh(s.host).host);Oo(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const u=a.prototype.name;this.transports.push(u),this._transportsByName[u]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_w(this.opts.query)),Eh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},so.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const s=Object.assign({},this.opts.query);s.EIO=Xm,s.transport=n,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Ri.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(n);s.open(),this.setTransport(s)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Ri.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=n.data,this._onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const u=this.writeBuffer[a].data;if(u&&(s+=yw(u)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,Ao(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,s,a){return this._sendPacket("message",n,s,a),this}send(n,s,a){return this._sendPacket("message",n,s,a),this}_sendPacket(n,s,a,u){if(typeof s=="function"&&(u=s,s=void 0),typeof a=="function"&&(u=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const c={type:n,data:s,options:a};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),u&&this.once("flush",u),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():n()}):this.upgrading?a():n()),this}_onError(n){if(Ri.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Eh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=so.indexOf(this._offlineEventListener);a!==-1&&so.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this._prevBufferLen=0}}}Ri.protocol=Xm;class Mw extends Ri{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let s=this.createTransport(n),a=!1;Ri.priorWebsocketSuccess=!1;const u=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",S=>{if(!a)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Ri.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(m(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=s.name,this.emitReserved("upgradeError",_)}}))};function c(){a||(a=!0,m(),s.close(),s=null)}const f=S=>{const _=new Error("probe error: "+S);_.transport=s.name,c(),this.emitReserved("upgradeError",_)};function p(){f("transport closed")}function g(){f("socket closed")}function y(S){s&&S.name!==s.name&&c()}const m=()=>{s.removeListener("open",u),s.removeListener("error",f),s.removeListener("close",p),this.off("close",g),this.off("upgrading",y)};s.once("open",u),s.once("error",f),s.once("close",p),this.once("close",g),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const s=[];for(let a=0;a<n.length;a++)~this.transports.indexOf(n[a])&&s.push(n[a]);return s}}let Bw=class extends Mw{constructor(n,s={}){const a=typeof n=="object"?n:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(u=>jw[u]).filter(u=>!!u)),super(n,a)}};function zw(l,n="",s){let a=l;s=s||typeof location<"u"&&location,l==null&&(l=s.protocol+"//"+s.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=s.protocol+l:l=s.host+l),/^(https?|wss?):\/\//.test(l)||(typeof s<"u"?l=s.protocol+"//"+l:l="https://"+l),a=wh(l)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const c=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+c+":"+a.port+n,a.href=a.protocol+"://"+c+(s&&s.port===a.port?"":":"+a.port),a}const qw=typeof ArrayBuffer=="function",Lw=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,ev=Object.prototype.toString,Hw=typeof Blob=="function"||typeof Blob<"u"&&ev.call(Blob)==="[object BlobConstructor]",$w=typeof File=="function"||typeof File<"u"&&ev.call(File)==="[object FileConstructor]";function $h(l){return qw&&(l instanceof ArrayBuffer||Lw(l))||Hw&&l instanceof Blob||$w&&l instanceof File}function ro(l,n){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let s=0,a=l.length;s<a;s++)if(ro(l[s]))return!0;return!1}if($h(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return ro(l.toJSON(),!0);for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s)&&ro(l[s]))return!0;return!1}function Vw(l){const n=[],s=l.data,a=l;return a.data=Th(s,n),a.attachments=n.length,{packet:a,buffers:n}}function Th(l,n){if(!l)return l;if($h(l)){const s={_placeholder:!0,num:n.length};return n.push(l),s}else if(Array.isArray(l)){const s=new Array(l.length);for(let a=0;a<l.length;a++)s[a]=Th(l[a],n);return s}else if(typeof l=="object"&&!(l instanceof Date)){const s={};for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=Th(l[a],n));return s}return l}function Gw(l,n){return l.data=Ah(l.data,n),delete l.attachments,l}function Ah(l,n){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<n.length)return n[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let s=0;s<l.length;s++)l[s]=Ah(l[s],n);else if(typeof l=="object")for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&(l[s]=Ah(l[s],n));return l}const Pw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Yw=5;var Ae;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(Ae||(Ae={}));class Iw{constructor(n){this.replacer=n}encode(n){return(n.type===Ae.EVENT||n.type===Ae.ACK)&&ro(n)?this.encodeAsBinary({type:n.type===Ae.EVENT?Ae.BINARY_EVENT:Ae.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let s=""+n.type;return(n.type===Ae.BINARY_EVENT||n.type===Ae.BINARY_ACK)&&(s+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(s+=n.nsp+","),n.id!=null&&(s+=n.id),n.data!=null&&(s+=JSON.stringify(n.data,this.replacer)),s}encodeAsBinary(n){const s=Vw(n),a=this.encodeAsString(s.packet),u=s.buffers;return u.unshift(a),u}}function Sy(l){return Object.prototype.toString.call(l)==="[object Object]"}class Vh extends dt{constructor(n){super(),this.reviver=n}add(n){let s;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(n);const a=s.type===Ae.BINARY_EVENT;a||s.type===Ae.BINARY_ACK?(s.type=a?Ae.EVENT:Ae.ACK,this.reconstructor=new Kw(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if($h(n)||n.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(n),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let s=0;const a={type:Number(n.charAt(0))};if(Ae[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Ae.BINARY_EVENT||a.type===Ae.BINARY_ACK){const c=s+1;for(;n.charAt(++s)!=="-"&&s!=n.length;);const f=n.substring(c,s);if(f!=Number(f)||n.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(f)}if(n.charAt(s+1)==="/"){const c=s+1;for(;++s&&!(n.charAt(s)===","||s===n.length););a.nsp=n.substring(c,s)}else a.nsp="/";const u=n.charAt(s+1);if(u!==""&&Number(u)==u){const c=s+1;for(;++s;){const f=n.charAt(s);if(f==null||Number(f)!=f){--s;break}if(s===n.length)break}a.id=Number(n.substring(c,s+1))}if(n.charAt(++s)){const c=this.tryParse(n.substr(s));if(Vh.isPayloadValid(a.type,c))a.data=c;else throw new Error("invalid payload")}return a}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,s){switch(n){case Ae.CONNECT:return Sy(s);case Ae.DISCONNECT:return s===void 0;case Ae.CONNECT_ERROR:return typeof s=="string"||Sy(s);case Ae.EVENT:case Ae.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Pw.indexOf(s[0])===-1);case Ae.ACK:case Ae.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Kw{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const s=Gw(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Xw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Vh,Encoder:Iw,get PacketType(){return Ae},protocol:Yw},Symbol.toStringTag,{value:"Module"}));function yn(l,n,s){return l.on(n,s),function(){l.off(n,s)}}const Jw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tv extends dt{constructor(n,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[yn(n,"open",this.onopen.bind(this)),yn(n,"packet",this.onpacket.bind(this)),yn(n,"error",this.onerror.bind(this)),yn(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...s){var a,u,c;if(Jw.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(s.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const f={type:Ae.EVENT,data:s};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const m=this.ids++,S=s.pop();this._registerAckCallback(m,S),f.id=m}const p=(u=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||u===void 0?void 0:u.writable,g=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!p||(g?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(n,s){var a;const u=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(u===void 0){this.acks[n]=s;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===n&&this.sendBuffer.splice(p,1);s.call(this,new Error("operation has timed out"))},u),f=(...p)=>{this.io.clearTimeoutFn(c),s.apply(this,p)};f.withError=!0,this.acks[n]=f}emitWithAck(n,...s){return new Promise((a,u)=>{const c=(f,p)=>f?u(f):a(p);c.withError=!0,s.push(c),this.emit(n,...s)})}_addToQueue(n){let s;typeof n[n.length-1]=="function"&&(s=n.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((u,...c)=>a!==this._queue[0]?void 0:(u!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(u)):(this._queue.shift(),s&&s(null,...c)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!n||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Ae.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(a=>String(a.id)===n)){const a=this.acks[n];delete this.acks[n],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Ae.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ae.EVENT:case Ae.BINARY_EVENT:this.onevent(n);break;case Ae.ACK:case Ae.BINARY_ACK:this.onack(n);break;case Ae.DISCONNECT:this.ondisconnect();break;case Ae.CONNECT_ERROR:this.destroy();const a=new Error(n.data.message);a.data=n.data.data,this.emitReserved("connect_error",a);break}}onevent(n){const s=n.data||[];n.id!=null&&s.push(this.ack(n.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const s=this;let a=!1;return function(...u){a||(a=!0,s.packet({type:Ae.ACK,id:n,data:u}))}}onack(n){const s=this.acks[n.id];typeof s=="function"&&(delete this.acks[n.id],s.withError&&n.data.unshift(null),s.apply(this,n.data))}onconnect(n,s){this.id=n,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(n===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(n===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,n.data)}}}function ar(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}ar.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*l);l=(Math.floor(n*10)&1)==0?l-s:l+s}return Math.min(l,this.max)|0};ar.prototype.reset=function(){this.attempts=0};ar.prototype.setMin=function(l){this.ms=l};ar.prototype.setMax=function(l){this.max=l};ar.prototype.setJitter=function(l){this.jitter=l};class Oh extends dt{constructor(n,s){var a;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(s=n,n=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Oo(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new ar({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=n;const u=s.parser||Xw;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var s;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(s=this.backoff)===null||s===void 0||s.setMin(n),this)}randomizationFactor(n){var s;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(s=this.backoff)===null||s===void 0||s.setJitter(n),this)}reconnectionDelayMax(n){var s;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(s=this.backoff)===null||s===void 0||s.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Bw(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const u=yn(s,"open",function(){a.onopen(),n&&n()}),c=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),n?n(p):this.maybeReconnectOnOpen()},f=yn(s,"error",c);if(this._timeout!==!1){const p=this._timeout,g=this.setTimeoutFn(()=>{u(),c(new Error("timeout")),s.close()},p);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(u),this.subs.push(f),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(yn(n,"ping",this.onping.bind(this)),yn(n,"data",this.ondata.bind(this)),yn(n,"error",this.onerror.bind(this)),yn(n,"close",this.onclose.bind(this)),yn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(s){this.onclose("parse error",s)}}ondecoded(n){Ao(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,s){let a=this.nsps[n];return a?this._autoConnect&&!a.active&&a.connect():(a=new tv(this,n,s),this.nsps[n]=a),a}_destroy(n){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(n){const s=this.encoder.encode(n);for(let a=0;a<s.length;a++)this.engine.write(s[a],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(u=>{u?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",u)):n.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const ca={};function ao(l,n){typeof l=="object"&&(n=l,l=void 0),n=n||{};const s=zw(l,n.path||"/socket.io"),a=s.source,u=s.id,c=s.path,f=ca[u]&&c in ca[u].nsps,p=n.forceNew||n["force new connection"]||n.multiplex===!1||f;let g;return p?g=new Oh(a,n):(ca[u]||(ca[u]=new Oh(a,n)),g=ca[u]),s.query&&!n.query&&(n.query=s.queryKey),g.socket(s.path,n)}Object.assign(ao,{Manager:Oh,Socket:tv,io:ao,connect:ao});const Et=[];for(let l=0;l<256;++l)Et.push((l+256).toString(16).slice(1));function Qw(l,n=0){return(Et[l[n+0]]+Et[l[n+1]]+Et[l[n+2]]+Et[l[n+3]]+"-"+Et[l[n+4]]+Et[l[n+5]]+"-"+Et[l[n+6]]+Et[l[n+7]]+"-"+Et[l[n+8]]+Et[l[n+9]]+"-"+Et[l[n+10]]+Et[l[n+11]]+Et[l[n+12]]+Et[l[n+13]]+Et[l[n+14]]+Et[l[n+15]]).toLowerCase()}let nh;const Zw=new Uint8Array(16);function Fw(){if(!nh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");nh=crypto.getRandomValues.bind(crypto)}return nh(Zw)}const Ww=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wy={randomUUID:Ww};function eE(l,n,s){l=l||{};const a=l.random??l.rng?.()??Fw();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Qw(a)}function tE(l,n,s){return wy.randomUUID&&!l?wy.randomUUID():eE(l)}const Zl=()=>{const l="xy_poker_browser_id";let n=localStorage.getItem(l);if(!n||n.length<10){const s=tE();return localStorage.setItem(l,s),s}return n},nv="https://xy-poker.onrender.com";console.log("[Socket.IO] Connecting to:",nv);const oe=ao(nv,{autoConnect:!1,path:"/socket.io/",transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});oe.on("connect",()=>console.log("[Socket.IO] Connected! ID:",oe.id));oe.on("disconnect",l=>console.log("[Socket.IO] Disconnected. Reason:",l));oe.on("connect_error",l=>console.error("[Socket.IO] Connection error:",l));oe.on("reconnect_attempt",()=>console.log("[Socket.IO] Reconnecting..."));const nE=()=>{oe.connected||(console.log("[Socket.IO] Initiating connection..."),oe.connect())};function iE(l,n){const s=l.players[n],a=l.players[0],u=s.hand,c=s.board,f=s.dice,g=f.reduce((w,R)=>w+R,0)/5>=3.5,y=g?1.2:.8,m=g?.8:1.2,S=[];for(let w=0;w<5;w++)c[2][w]===null&&S.push(w);if(S.length===0)return{cardId:u[0]?.id||"",colIndex:0,isHidden:!1};S.sort(()=>Math.random()-.5);let _={cardId:u[0].id,colIndex:S[0],isHidden:!1},E=-1/0;for(const w of u)for(const R of S){const k=[c[0][R],c[1][R],c[2][R]],D=k.findIndex(J=>J===null);if(D===-1)continue;const G=[...k];G[D]=w;const B=f[R];let P=sE(G,R,B)*y;if(D===0&&(P+=120),B<=2&&(P*=.7,D===2&&a.board[2][R]===null&&(P+=100)),D===2){const J=bo();let V=rE(c,w,R)*J.xHandFocus;P+=V*m}P+=aE(a,R),P+=Math.random()*5,P>E&&(E=P,_={cardId:w.id,colIndex:R,isHidden:!1})}return _.isHidden=lE(_,u,s,c,l.turnCount),_}function sE(l,n,s,a){const u=l.filter(V=>V!==null);if(u.length===0)return 0;const c=bo();let f=0;const p=u.length,g=u.map(V=>V.rank),y=[...g].sort((V,$)=>V-$),m=y[y.length-1],S=g.reduce((V,$)=>V+$,0)/g.length;s>=4&&(m>=11?f+=50*s:m<=8&&p===1&&(f-=30*s));let _=!1,E=!1;if(p>=2){let V=!0;for(let $=1;$<y.length;$++)if(y[$]!==y[$-1]+1){V=!1;break}_=V,!_&&p===2&&y[1]===y[0]+2&&(E=!0)}const w=_&&s>=4?1.5:1,R=new Set(g),k=p===3&&R.size===1,D=p>=2&&R.size<p;k?f+=500*s*c.tripPreference:D&&(f+=200*s*c.tripPreference);const G=u.map(V=>V.suit),P=new Set(G).size===1&&p>=2;if(P){let V=150*s*c.flushPreference;p===3&&(V+=150),_&&s>=5&&(V*=1.3),f+=V}_?f+=180*s*c.straightPreference*w:E&&(f+=80*s);const J=D||P||_||E;return p>=2&&!J&&(y[y.length-1]-y[0]>4?f-=100*s:f-=20*s,y[0]<=8&&y[1]>=11&&(f-=150)),f+=S*2,f}function rE(l,n,s){const a=[...l[2]];a[s]=n;const u=a.filter(_=>_!==null);if(u.length<2)return 0;let c=0;const f=u.map(_=>_.rank),p=new Map;f.forEach(_=>p.set(_,(p.get(_)||0)+1));const g=Math.max(...p.values());g>=2&&(c+=g*60);const y=u.map(_=>_.suit);new Set(y).size===1&&u.length>=3&&(c+=100);const S=[...new Set(f)].sort((_,E)=>_-E);if(S.length>=3){let _=1,E=1;for(let w=1;w<S.length;w++)S[w]===S[w-1]+1?(E++,_=Math.max(_,E)):E=1;_>=3&&(c+=_*50)}return n.rank>=12&&(c+=80),c}function aE(l,n,s,a){const c=[l.board[0][n],l.board[1][n],l.board[2][n]].filter(S=>S!==null);if(c.length<2)return 0;const f=c.map(S=>S.rank),p=c.map(S=>S.suit);let g=0;return new Set(f).size===1&&(g+=30),new Set(p).size===1&&c.length>=2&&(g+=25),g}function lE(l,n,s,a,u){if(s.hiddenCardsCount>=3)return!1;let c=0;for(let _=0;_<3;_++){const E=a[_][l.colIndex];E&&E.isHidden&&c++}if(c>=2)return!1;const f=n.find(_=>_.id===l.cardId);if(!f)return!1;const p=bo(),g=l.colIndex,y=s.dice[g],m=u<=8;let S=0;return f.rank>=11&&y>=4?S=.4:f.rank>=10&&(S=.25),m&&(S*=1.5),Math.random()<S*p.hidingStrategy/.3}const Ey=["Brave","Swift","Clever","Mighty","Silent","Noble","Fierce","Bold","Wise","Lucky","Wild","Sharp","Quick","Steady","Bright","Cool","Epic","Grand","Strong","Sleek"],Ty=["Tiger","Eagle","Dragon","Wolf","Phoenix","Falcon","Panther","Lion","Hawk","Bear","Fox","Shark","Viper","Raven","Cobra","Lynx","Puma","Cheetah","Jaguar","Orca"];function Ay(){let l="";for(let n=0;n<50;n++){const s=Ey[Math.floor(Math.random()*Ey.length)],a=Ty[Math.floor(Math.random()*Ty.length)];let u=`${s}${a}`;if(u.length<=10){const c=10-u.length;if(c>=1&&Math.random()>.3){const f=Math.pow(10,c)-1;if(f>0){const p=Math.floor(Math.random()*(f+1));u+=p}}l=u;break}}return l||"Player"+Math.floor(Math.random()*9999)}function oE(){const[l,n]=Z.useReducer(O_,Xn),[s,a]=Z.useState(null),[u,c]=Z.useState(!1),[f,p]=Z.useState(!1),[g,y]=Z.useState(!1),[m,S]=Z.useState("local"),[_,E]=Z.useState(null),[w,R]=Z.useState(null),[k,D]=Z.useState(!1),[G,B]=Z.useState(oe.connected),[P,J]=Z.useState(!1),[V,$]=Z.useState(!1),[ue,fe]=Z.useState(!1),[ye,_e]=Z.useState(-1),[Le,Oe]=Z.useState(null),[nt,Qe]=Z.useState(null),[M,Y]=Z.useState(!1),[ie,ce]=Z.useState(null),[Ee,O]=Z.useState(!1),[H,X]=Z.useState(60),ee=Z.useRef(null),[re,ge]=Z.useState(()=>localStorage.getItem("xypoker_playerName_v2")||Ay()),[Re,He]=Z.useState("Player 2"),Pe=Z.useRef(m),Qn=Z.useRef(_),as=10800*1e3,[lr,or]=Z.useState(!1),[un,ur]=Z.useState(()=>cs("xypoker_unlockedSkins","xypoker_skinUnlockTimes",["white"])),[ki,Sa]=Z.useState(()=>hs("xypoker_selectedSkin","white",un)),[ls,cr]=Z.useState(()=>cs("xypoker_unlockedCardSkins","xypoker_cardUnlockTimes",["classic"])),[os,us]=Z.useState(()=>hs("xypoker_selectedCardSkin","classic",ls)),[hr,Ro]=Z.useState(()=>cs("xypoker_unlockedBoardSkins","xypoker_boardUnlockTimes",["classic-green"])),[At,wa]=Z.useState(()=>hs("xypoker_selectedBoardSkin","classic-green",hr));function cs(I,Q,K){const be=localStorage.getItem(I),Ze=localStorage.getItem(Q);let Ke=be?JSON.parse(be):K,gt=Ze?JSON.parse(Ze):{};const Fe=Date.now();let We=!1,it=[],st={...gt};return Ke.forEach($e=>{if(K.includes($e)){it.push($e);return}st[$e]||(st[$e]=Fe,We=!0),Fe-st[$e]<as?it.push($e):(console.log(`Skin expired: ${$e}`),delete st[$e],We=!0)}),K.forEach($e=>{it.includes($e)||it.push($e)}),We&&(localStorage.setItem(I,JSON.stringify(it)),localStorage.setItem(Q,JSON.stringify(st))),it}function hs(I,Q,K){const be=localStorage.getItem(I);return be&&K.includes(be)?be:Q}const fs=I=>{fr(I,un,ur,"xypoker_unlockedSkins","xypoker_skinUnlockTimes",Sa,"xypoker_selectedSkin")},ko=I=>{fr(I,ls,cr,"xypoker_unlockedCardSkins","xypoker_cardUnlockTimes",us,"xypoker_selectedCardSkin")},Ea=I=>{fr(I,hr,Ro,"xypoker_unlockedBoardSkins","xypoker_boardUnlockTimes",wa,"xypoker_selectedBoardSkin")};function fr(I,Q,K,be,Ze,Ke,gt){const Fe=Date.now(),We=Array.from(new Set([...Q,I]));K(We),localStorage.setItem(be,JSON.stringify(We));const it=localStorage.getItem(Ze),$e={...it?JSON.parse(it):{},[I]:Fe};localStorage.setItem(Ze,JSON.stringify($e)),Ke(I),localStorage.setItem(gt,I)}const Co=I=>{Sa(I),localStorage.setItem("xypoker_selectedSkin",I)},Ci=I=>{us(I),localStorage.setItem("xypoker_selectedCardSkin",I)},kt=I=>{wa(I),localStorage.setItem("xypoker_selectedBoardSkin",I)};Z.useEffect(()=>{Pe.current=m},[m]),Z.useEffect(()=>{Qn.current=_},[_]);const Xt=Z.useRef(w);Z.useEffect(()=>{Xt.current=w},[w]);const Ct=Z.useRef(V);Z.useEffect(()=>{Ct.current=V},[V]);const xt=Z.useRef(null);Z.useEffect(()=>{!V&&xt.current&&(clearTimeout(xt.current),xt.current=null)},[V]),Z.useEffect(()=>{nE();const I=()=>B(!0),Q=()=>B(!1);return oe.on("connect",I),oe.on("disconnect",Q),oe.on("quick_match_joined",(K={})=>{K.rating&&Oe(K.rating),$(!0)}),oe.on("player_joined",({roomId:K,role:be})=>{E(K),R(be),D(!0),S("online")}),oe.on("sync_state",K=>{n({type:"SYNC_STATE",payload:K}),D(!0)}),oe.on("auto_start_game",()=>{console.log("Auto-starting Quick Match game"),$(!1),D(!0),ha(),n({type:"START_GAME"}),p(!0),J(!1)}),oe.on("opponent_joined",({name:K})=>{He(K),ha()}),oe.on("game_start",({roomId:K,initialDice:be,p1Name:Ze,p2Name:Ke,p1Id:gt,p2Id:Fe,isRanked:We})=>{E(K),$(!1),fe(!!We),D(!0),ha(),oe.id===gt?(R("host"),He(Ke||"Player 2")):oe.id===Fe&&(R("guest"),He(Ze||"Player 1")),n({type:"START_GAME",payload:{initialDice:be}}),p(!0),J(!1)}),oe.on("player_data",K=>{K&&K.rating&&Oe(K.rating)}),oe.on("rating_update",K=>{console.log("Rating updates received:",K),Qe(K),Xt.current==="host"?Oe(K.p1.new):Xt.current==="guest"&&Oe(K.p2.new)}),oe.on("game_action",K=>{n(K)}),oe.on("game_end_surrender",({winner:K})=>{Pe.current!=="local"&&(console.log("[SURRENDER] Received game_end_surrender event, winner:",K),setTimeout(()=>{console.log("[SURRENDER] Returning to lobby - resetting ALL state"),S(()=>"online"),E(()=>null),R(()=>null),D(()=>!1),$(()=>!1),He(()=>"Player 2"),Qe(null),n({type:"SYNC_STATE",payload:Xn}),console.log("[SURRENDER] State reset complete - should show lobby")},1e3))}),oe.on("player_left",()=>{if(Pe.current==="local"){console.log("Ignored player_left event because we are in local mode");return}console.log("Opponent left the room"),S("online"),E(null),R(null),D(!1),$(!1),Qe(null),n({type:"SYNC_STATE",payload:Xn})}),()=>{oe.off("connect",I),oe.off("disconnect",Q),oe.off("quick_match_joined"),oe.off("game_start"),oe.off("player_data"),oe.off("rating_update"),oe.off("player_joined"),oe.off("sync_state"),oe.off("auto_start_game"),oe.off("opponent_joined"),oe.off("game_action"),oe.off("game_end_surrender"),oe.off("player_left")}},[]),Z.useEffect(()=>{k&&w==="host"&&_&&oe.emit("sync_state",{roomId:_,state:l})},[l,k,w,_]),Z.useEffect(()=>{k&&ue&&w==="host"&&_&&l.phase==="ended"&&l.winner!==null&&oe.emit("report_game_end",{roomId:_,winner:l.winner,p1Score:l.players[0].score,p2Score:l.players[1].score})},[l.phase,l.winner,k,w,_]);const{currentPlayerIndex:mt,players:ji,phase:Ne}=l,xi=ji[mt],Zn=m==="online"&&!k&&!V,Tn=Zn||m==="local"&&Ne==="setup",ds=k&&w==="guest"?Re:re,Ni=k&&w==="guest"?re:Re;Z.useEffect(()=>{if(m==="local"&&Ne==="playing"&&mt===1){const I=M?2e3+Math.random()*3e3:1e3,Q=setTimeout(()=>{const K=iE(l,1);n({type:"PLACE_AND_DRAW",payload:{cardId:K.cardId,colIndex:K.colIndex,isHidden:K.isHidden}}),Me()},I);return()=>clearTimeout(Q)}},[l,m,M]),Z.useEffect(()=>{if(Ne==="ended"){let I=0;_e(0);const{players:Q}=l,K=Q[0],be=Q[1],Ze=K.dice,Ke=je=>je.replace(/([A-Z])/g," $1").trim().replace(/ Of /g," of ").replace(/ A /g," a "),gt=Array.from({length:5},(je,mr)=>{const Qt=4-mr,On=[K.board[0][Qt],K.board[1][Qt],K.board[2][Qt]],Fn=[be.board[0][Qt],be.board[1][Qt],be.board[2][Qt]],Wn=Ai(On,Ze[Qt]),Rn=Ai(Fn,Ze[Qt]);if(Wn.rankValue>Rn.rankValue)return{winner:"p1",type:Wn.type};if(Rn.rankValue>Wn.rankValue)return{winner:"p2",type:Rn.type};for(let Ui=0;Ui<Math.max(Wn.kickers.length,Rn.kickers.length);Ui++){const ka=Wn.kickers[Ui]||0,Mi=Rn.kickers[Ui]||0;if(ka>Mi)return{winner:"p1",type:Wn.type};if(Mi>ka)return{winner:"p2",type:Rn.type}}return{winner:"draw",type:null}}),Fe=Oi(K.board[2]),We=Oi(be.board[2]),{p1Score:it,p2Score:st}=lo(Fe,We);let $e={winner:"draw",type:null};it>st?$e={winner:"p1",type:Fe.type}:st>it&&($e={winner:"p2",type:We.type});const Jt=gt[0];Jt.winner!=="draw"&&Jt.type&&Hg(Ke(Jt.type)),Me();const An=setInterval(()=>{if(I++,I<=5){_e(I),Me();let je=null;I<=4?je=gt[I]:I===5&&(je=$e),je&&je.winner!=="draw"&&je.type&&Hg(Ke(je.type))}else clearInterval(An),setTimeout(()=>{J(!0)},1e3)},800);if(m==="local"){const{winner:je}=l;C_(je==="p2",je===null)}return()=>clearInterval(An)}else _e(-1)},[Ne,m,l]),Z.useEffect(()=>{localStorage.setItem("xypoker_playerName_v2",re)},[re]),Z.useEffect(()=>{_o.auth.getSession().then(({data:{session:Q}})=>{ce(Q)});const{data:{subscription:I}}=_o.auth.onAuthStateChange((Q,K)=>{ce(K)});return()=>I.unsubscribe()},[]),Z.useEffect(()=>{if(G){const I=Zl(),Q=ie?.user?.id;oe.emit("get_player_data",{browserId:I,userId:Q})}},[G,ie]),Z.useEffect(()=>{m==="local"?M||He("AI"):m==="online"&&!k&&He("Player 2")},[m,k,M]),Z.useEffect(()=>{if(Ne!=="playing"||f)return;X(60);const I=setInterval(()=>{X(Q=>Q<=1?(clearInterval(I),jo(),0):Q-1)},1e3);return ee.current=I,()=>clearInterval(I)},[mt,Ne,f]);const jo=()=>{if(Ne!=="playing")return;let I=0;if(k&&(I=w==="host"?0:1),k&&mt!==I){console.log("Timer expired for opponent - waiting for their move...");return}console.log("Timer expired - Auto-playing random move");const Q=l.players[mt];if(Q.hand.length===0)return;const K=Math.floor(Math.random()*Q.hand.length),be=Q.hand[K],Ze=[];for(let Fe=0;Fe<5;Fe++)(!Q.board[0][Fe]||!Q.board[1][Fe]||!Q.board[2][Fe])&&(Q.board[0][Fe]||Ze.push(Fe));if(Ze.length===0)return;const Ke=Ze[Math.floor(Math.random()*Ze.length)],gt={type:"PLACE_AND_DRAW",payload:{cardId:be.id,colIndex:Ke,isHidden:!1}};n(gt),Me(),k&&_&&oe.emit("game_action",{roomId:_,action:gt})},dr=()=>{Me(),m==="local"&&(Y(!1),He("AI")),n({type:"START_GAME"}),p(!0),J(!1)},pr=()=>{console.log("Quick Match Timeout: Starting Bot Match");const I=Qn.current;I?(console.log(`Cancelling matchmaking for roomId: ${I}`),oe.emit("cancel_matchmaking",{roomId:I})):console.log("No roomId found to cancel matchmaking."),$(!1),S("local"),E(null),R(null),D(!1),He(Ay()),Y(!0),n({type:"SYNC_STATE",payload:Xn}),setTimeout(()=>{ha(),n({type:"START_GAME"}),p(!0)},500)},Di=()=>{const I=Zl(),Q=ie?.user?.id;oe.emit("create_room",{playerName:re,browserId:I,userId:Q},K=>{E(K.roomId),R("host")})},xo=I=>{const Q=Zl(),K=ie?.user?.id;oe.emit("join_room",{roomId:I,playerName:re,browserId:Q,userId:K},be=>{be.success?(E(I),R("guest"),be.opponentName&&He(be.opponentName)):alert(be.message)})},Ta=()=>{$(!0),xt.current&&clearTimeout(xt.current),xt.current=setTimeout(()=>{pr()},15e3);const I=Zl(),Q=ie?.user?.id;oe.emit("quick_match",{playerName:re,browserId:I,userId:Q},K=>{K.success?(E(K.roomId),R(K.role),D(!0),K.opponentName&&He(K.opponentName)):($(!1),xt.current&&(clearTimeout(xt.current),xt.current=null))})},ps=()=>{Me(),xt.current&&(clearTimeout(xt.current),xt.current=null),oe.emit("cancel_matchmaking",{roomId:_}),E(null),R(null),$(!1),D(!1)},Aa=()=>{Me(),window.confirm("Surrender? This will end the game.")&&(m==="local"?n({type:"SYNC_STATE",payload:Xn}):oe.emit("surrender",{roomId:_}))},gr=()=>{const{players:I}=l,Q=I[0],K=I[1],be=Q.dice;return Array.from({length:5},(Ze,Ke)=>{const gt=[Q.board[0][Ke],Q.board[1][Ke],Q.board[2][Ke]],Fe=[K.board[0][Ke],K.board[1][Ke],K.board[2][Ke]],We=Ai(gt,be[Ke]),it=Ai(Fe,be[Ke]);if(We.rankValue>it.rankValue)return"p1";if(it.rankValue>We.rankValue)return"p2";for(let st=0;st<Math.max(We.kickers.length,it.kickers.length);st++){const $e=We.kickers[st]||0,Jt=it.kickers[st]||0;if($e>Jt)return"p1";if(Jt>$e)return"p2"}return"draw"})},yr=()=>{const{players:I}=l,Q=I[0],K=I[1],be=Oi(Q.board[2]),Ze=Oi(K.board[2]),{p1Score:Ke,p2Score:gt}=lo(be,Ze);return Ke>gt?"p1":gt>Ke?"p2":"draw"},Oa=I=>{let Q=0;k&&(Q=w==="host"?0:1),mt===Q&&a(s===I?null:I)},Ra=I=>{if(Ne!=="playing"||!s)return;let Q=0;if(k&&(Q=w==="host"?0:1),mt!==Q)return;const K={type:"PLACE_AND_DRAW",payload:{cardId:s,colIndex:I,isHidden:u}};n(K),k&&_&&oe.emit("game_action",{roomId:_,action:K}),a(null),c(!1)};return b.jsxs("div",{className:`app ${Zn?"view-lobby":"view-game"} phase-${Ne}`,children:[b.jsxs("header",{className:`app-header ${Ne==="playing"||Ne==="scoring"?"battle-mode":""}`,children:[b.jsxs("div",{className:"header-title-row",children:[b.jsx("h1",{children:"XY Poker"}),Tn&&b.jsx("span",{className:"version",children:"12112359"})]}),!1,(m==="local"&&Ne==="setup"||m==="online"&&!k)&&b.jsxs("div",{className:"mode-switch",children:[b.jsx("button",{className:m==="local"?"active":"",onClick:()=>{Me(),S("local"),D(!1),E(null),R(null),Y(!1),He("AI"),n({type:"SYNC_STATE",payload:Xn})},children:"Local (vs AI)"}),b.jsx("button",{className:m==="online"?"active":"",onClick:()=>{Me(),S("online")},children:"Online"})]})]}),!f&&Ne!=="setup"&&b.jsx(U_,{gameState:l,isOnlineMode:m==="online",playerRole:w,playerName:re,opponentName:Re,onSurrender:Aa}),!f&&b.jsx(b.Fragment,{children:m==="online"&&V?b.jsx("div",{className:"setup-screen",children:b.jsxs("div",{className:"waiting-message",children:[b.jsx("h3",{children:" Quick Match"}),b.jsx("h2",{children:"Waiting for opponent..."}),b.jsx("div",{className:"loading-spinner"}),b.jsx("p",{children:"Your game will start automatically when an opponent joins"}),b.jsx("button",{className:"btn-cancel",onClick:ps,children:"Cancel"})]})}):Zn?b.jsx(B_,{onCreateRoom:Di,onJoinRoom:xo,onQuickMatch:Ta,onCancelMatchmaking:ps,roomId:_,isConnected:G,playerRole:w,playerName:re,onPlayerNameChange:ge,rating:Le,onShowRules:()=>{Me(),y(!0)}}):b.jsxs(b.Fragment,{children:[b.jsx(nw,{isOpen:Ee,onClose:()=>O(!1),onSuccess:()=>O(!1)}),b.jsx(H_,{isOpen:lr,onClose:()=>or(!1),unlockedSkins:un,selectedSkin:ki,onUnlock:fs,onSelect:Co,unlockedCardSkins:ls,selectedCardSkin:os,onUnlockCard:ko,onSelectCard:Ci,unlockedBoardSkins:hr,selectedBoardSkin:At,onUnlockBoard:Ea,onSelectBoard:kt}),!f&&Ne==="playing"&&b.jsx(G_,{timeLeft:H,totalTime:60,currentPlayerIndex:mt,isMyTurn:!k||w==="host"&&mt===0||w==="guest"&&mt===1}),b.jsxs("main",{className:"game-board",children:[Ne==="setup"&&b.jsx("div",{className:"setup-screen",children:V?b.jsxs("div",{className:"waiting-message",children:[b.jsx("h3",{children:" Quick Match"}),b.jsx("h2",{children:"Waiting for opponent..."}),b.jsx("div",{className:"loading-spinner"}),b.jsx("p",{children:"Your game will start automatically when an opponent joins"}),b.jsx("button",{className:"btn-cancel",onClick:ps,children:"Cancel"})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"logo-area",children:[b.jsx("h1",{children:"XY Poker"}),b.jsx("p",{children:"Strategic Card & Dice Battle"})]}),b.jsxs("div",{className:"setup-actions",children:[b.jsx("button",{className:"btn-primary",onClick:dr,children:"Start Game"}),b.jsx("button",{className:"btn-secondary",style:{marginTop:"1rem",padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{Me(),or(!0)},children:" Skin Shop"}),b.jsx("button",{className:"btn-secondary",style:{marginTop:"1rem",marginLeft:"10px",padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{Me(),y(!0)},children:" Rules"})]})]})}),(Ne==="playing"||Ne==="scoring"||Ne==="ended")&&b.jsx("div",{className:"play-area",children:b.jsx(N_,{playerBoard:ji[k&&w==="guest"?1:0].board,opponentBoard:ji[k&&w==="guest"?0:1].board,dice:ji[mt].dice,onColumnClick:Ra,isCurrentPlayer:mt===(k&&w==="guest"?1:0),revealAll:Ne==="ended",winningColumns:Ne==="ended"?gr():void 0,xWinner:Ne==="ended"?yr():void 0,bottomPlayerId:k&&w==="guest"?"p2":"p1",selectedSkin:ki,selectedCardSkin:os,selectedBoardSkin:At,scoringStep:ye})})]}),b.jsxs("footer",{className:"controls",children:[Ne==="playing"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"hand-container",children:b.jsx(D_,{hand:ji[k&&w==="guest"?1:0].hand,selectedCardId:s,onCardSelect:Oa,isHidden:!1,isCurrentPlayer:mt===(k&&w==="guest"?1:0)})}),mt===(k&&w==="guest"?1:0)&&b.jsx("div",{className:"action-bar",children:b.jsx("div",{className:"place-controls",children:b.jsxs("label",{className:"toggle-hidden",children:[b.jsx("input",{type:"checkbox",checked:u,onChange:I=>c(I.target.checked),disabled:!s||xi.hiddenCardsCount>=3}),"Place Face Down (",3-xi.hiddenCardsCount," left)"]})})})]}),Ne==="scoring"&&b.jsx("button",{className:"btn-primary",onClick:()=>n({type:"CALCULATE_SCORE"}),children:"Reveal & Calculate Scores"}),Ne==="ended"&&!P&&b.jsxs("div",{className:"end-game-controls",style:{display:"flex",gap:"10px"},children:[b.jsx("button",{className:"btn-primary",onClick:()=>J(!0),children:"Show Results"}),b.jsx("button",{className:"btn-secondary",onClick:()=>{Me(),S("online"),E(null),R(null),D(!1),$(!1),Qe(null),n({type:"SYNC_STATE",payload:Xn})},children:"Back to Lobby"})]}),Ne==="ended"&&P&&b.jsx(M_,{gameState:l,onRestart:dr,onClose:()=>{J(!1),S("online"),E(null),R(null),D(!1),$(!1),Qe(null),n({type:"SYNC_STATE",payload:Xn})},onViewBoard:()=>{J(!1)},p1Name:ds,p2Name:Ni,ratingUpdates:nt})]})]})}),f&&b.jsx($_,{targetValues:l.players[mt].dice,onComplete:()=>p(!1),selectedSkin:ki}),g&&b.jsx(V_,{onClose:()=>{Me(),y(!1)}})]})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(l){for(let n of l)n.unregister()});S_.createRoot(document.getElementById("root")).render(b.jsx(Z.StrictMode,{children:b.jsx(oE,{})}));
