function c_(l,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in l)){const c=Object.getOwnPropertyDescriptor(a,u);c&&Object.defineProperty(l,u,c.get?c:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function h_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Wr(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var s=function a(){var u=!1;try{u=this instanceof a}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(a){var u=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(s,a,u.get?u:{enumerable:!0,get:function(){return l[a]}})}),s}var wc={exports:{}},Hr={};var Sg;function f_(){if(Sg)return Hr;Sg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(a,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var d in u)d!=="key"&&(c[d]=u[d])}else c=u;return u=c.ref,{$$typeof:l,type:a,key:f,ref:u!==void 0?u:null,props:c}}return Hr.Fragment=n,Hr.jsx=s,Hr.jsxs=s,Hr}var Eg;function d_(){return Eg||(Eg=1,wc.exports=f_()),wc.exports}var S=d_(),Sc={exports:{}},oe={};var Tg;function p_(){if(Tg)return oe;Tg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),b=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function D(O,$,K){this.props=O,this.context=$,this.refs=A,this.updater=K||E}D.prototype.isReactComponent={},D.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=D.prototype;function M(O,$,K){this.props=O,this.context=$,this.refs=A,this.updater=K||E}var G=M.prototype=new H;G.constructor=M,R(G,D.prototype),G.isPureReactComponent=!0;var Q=Array.isArray;function P(){}var V={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function pe(O,$,K){var I=K.ref;return{$$typeof:l,type:O,key:$,ref:I!==void 0?I:null,props:K}}function Ee(O,$){return pe(O.type,$,O.props)}function Te(O){return typeof O=="object"&&O!==null&&O.$$typeof===l}function qe(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(K){return $[K]})}var ke=/\/+/g;function Ve(O,$){return typeof O=="object"&&O!==null&&O.key!=null?qe(""+O.key):$.toString(36)}function Tt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(P,P):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function z(O,$,K,I,ae){var fe=typeof O;(fe==="undefined"||fe==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(fe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case l:case n:we=!0;break;case m:return we=O._init,z(we(O._payload),$,K,I,ae)}}if(we)return ae=ae(O),we=I===""?"."+Ve(O,0):I,Q(ae)?(K="",we!=null&&(K=we.replace(ke,"$&/")+"/"),z(ae,$,K,"",function(at){return at})):ae!=null&&(Te(ae)&&(ae=Ee(ae,K+(ae.key==null||O&&O.key===ae.key?"":(""+ae.key).replace(ke,"$&/")+"/")+we)),$.push(ae)),1;we=0;var ht=I===""?".":I+":";if(Q(O))for(var Se=0;Se<O.length;Se++)I=O[Se],fe=ht+Ve(I,Se),we+=z(I,$,K,fe,ae);else if(Se=_(O),typeof Se=="function")for(O=Se.call(O),Se=0;!(I=O.next()).done;)I=I.value,fe=ht+Ve(I,Se++),we+=z(I,$,K,fe,ae);else if(fe==="object"){if(typeof O.then=="function")return z(Tt(O),$,K,I,ae);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(O,$,K){if(O==null)return O;var I=[],ae=0;return z(O,I,"","",function(fe){return $.call(K,fe,ae++)}),I}function ie(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(K){(O._status===0||O._status===-1)&&(O._status=1,O._result=K)},function(K){(O._status===0||O._status===-1)&&(O._status=2,O._result=K)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Re=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},xe={map:Y,forEach:function(O,$,K){Y(O,function(){$.apply(this,arguments)},K)},count:function(O){var $=0;return Y(O,function(){$++}),$},toArray:function(O){return Y(O,function($){return $})||[]},only:function(O){if(!Te(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return oe.Activity=w,oe.Children=xe,oe.Component=D,oe.Fragment=s,oe.Profiler=u,oe.PureComponent=M,oe.StrictMode=a,oe.Suspense=g,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return V.H.useMemoCache(O)}},oe.cache=function(O){return function(){return O.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(O,$,K){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var I=R({},O.props),ae=O.key;if($!=null)for(fe in $.key!==void 0&&(ae=""+$.key),$)!de.call($,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&$.ref===void 0||(I[fe]=$[fe]);var fe=arguments.length-2;if(fe===1)I.children=K;else if(1<fe){for(var we=Array(fe),ht=0;ht<fe;ht++)we[ht]=arguments[ht+2];I.children=we}return pe(O.type,ae,I)},oe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},oe.createElement=function(O,$,K){var I,ae={},fe=null;if($!=null)for(I in $.key!==void 0&&(fe=""+$.key),$)de.call($,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ae[I]=$[I]);var we=arguments.length-2;if(we===1)ae.children=K;else if(1<we){for(var ht=Array(we),Se=0;Se<we;Se++)ht[Se]=arguments[Se+2];ae.children=ht}if(O&&O.defaultProps)for(I in we=O.defaultProps,we)ae[I]===void 0&&(ae[I]=we[I]);return pe(O,fe,ae)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(O){return{$$typeof:d,render:O}},oe.isValidElement=Te,oe.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:ie}},oe.memo=function(O,$){return{$$typeof:y,type:O,compare:$===void 0?null:$}},oe.startTransition=function(O){var $=V.T,K={};V.T=K;try{var I=O(),ae=V.S;ae!==null&&ae(K,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(P,Re)}catch(fe){Re(fe)}finally{$!==null&&K.types!==null&&($.types=K.types),V.T=$}},oe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},oe.use=function(O){return V.H.use(O)},oe.useActionState=function(O,$,K){return V.H.useActionState(O,$,K)},oe.useCallback=function(O,$){return V.H.useCallback(O,$)},oe.useContext=function(O){return V.H.useContext(O)},oe.useDebugValue=function(){},oe.useDeferredValue=function(O,$){return V.H.useDeferredValue(O,$)},oe.useEffect=function(O,$){return V.H.useEffect(O,$)},oe.useEffectEvent=function(O){return V.H.useEffectEvent(O)},oe.useId=function(){return V.H.useId()},oe.useImperativeHandle=function(O,$,K){return V.H.useImperativeHandle(O,$,K)},oe.useInsertionEffect=function(O,$){return V.H.useInsertionEffect(O,$)},oe.useLayoutEffect=function(O,$){return V.H.useLayoutEffect(O,$)},oe.useMemo=function(O,$){return V.H.useMemo(O,$)},oe.useOptimistic=function(O,$){return V.H.useOptimistic(O,$)},oe.useReducer=function(O,$,K){return V.H.useReducer(O,$,K)},oe.useRef=function(O){return V.H.useRef(O)},oe.useState=function(O){return V.H.useState(O)},oe.useSyncExternalStore=function(O,$,K){return V.H.useSyncExternalStore(O,$,K)},oe.useTransition=function(){return V.H.useTransition()},oe.version="19.2.1",oe}var Ag;function uh(){return Ag||(Ag=1,Sc.exports=p_()),Sc.exports}var ee=uh(),Ec={exports:{}},$r={},Tc={exports:{}},Ac={};var Og;function g_(){return Og||(Og=1,(function(l){function n(z,Y){var ie=z.length;z.push(Y);e:for(;0<ie;){var Re=ie-1>>>1,xe=z[Re];if(0<u(xe,Y))z[Re]=Y,z[ie]=xe,ie=Re;else break e}}function s(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var Y=z[0],ie=z.pop();if(ie!==Y){z[0]=ie;e:for(var Re=0,xe=z.length,O=xe>>>1;Re<O;){var $=2*(Re+1)-1,K=z[$],I=$+1,ae=z[I];if(0>u(K,ie))I<xe&&0>u(ae,K)?(z[Re]=ae,z[I]=ie,Re=I):(z[Re]=K,z[$]=ie,Re=$);else if(I<xe&&0>u(ae,ie))z[Re]=ae,z[I]=ie,Re=I;else break e}}return Y}function u(z,Y){var ie=z.sortIndex-Y.sortIndex;return ie!==0?ie:z.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var f=Date,d=f.now();l.unstable_now=function(){return f.now()-d}}var g=[],y=[],m=1,w=null,b=3,_=!1,E=!1,R=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function G(z){for(var Y=s(y);Y!==null;){if(Y.callback===null)a(y);else if(Y.startTime<=z)a(y),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=s(y)}}function Q(z){if(R=!1,G(z),!E)if(s(g)!==null)E=!0,P||(P=!0,qe());else{var Y=s(y);Y!==null&&Tt(Q,Y.startTime-z)}}var P=!1,V=-1,de=5,pe=-1;function Ee(){return A?!0:!(l.unstable_now()-pe<de)}function Te(){if(A=!1,P){var z=l.unstable_now();pe=z;var Y=!0;try{e:{E=!1,R&&(R=!1,H(V),V=-1),_=!0;var ie=b;try{t:{for(G(z),w=s(g);w!==null&&!(w.expirationTime>z&&Ee());){var Re=w.callback;if(typeof Re=="function"){w.callback=null,b=w.priorityLevel;var xe=Re(w.expirationTime<=z);if(z=l.unstable_now(),typeof xe=="function"){w.callback=xe,G(z),Y=!0;break t}w===s(g)&&a(g),G(z)}else a(g);w=s(g)}if(w!==null)Y=!0;else{var O=s(y);O!==null&&Tt(Q,O.startTime-z),Y=!1}}break e}finally{w=null,b=ie,_=!1}Y=void 0}}finally{Y?qe():P=!1}}}var qe;if(typeof M=="function")qe=function(){M(Te)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ve=ke.port2;ke.port1.onmessage=Te,qe=function(){Ve.postMessage(null)}}else qe=function(){D(Te,0)};function Tt(z,Y){V=D(function(){z(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(z){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var ie=b;b=Y;try{return z()}finally{b=ie}},l.unstable_requestPaint=function(){A=!0},l.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=b;b=z;try{return Y()}finally{b=ie}},l.unstable_scheduleCallback=function(z,Y,ie){var Re=l.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Re+ie:Re):ie=Re,z){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ie+xe,z={id:m++,callback:Y,priorityLevel:z,startTime:ie,expirationTime:xe,sortIndex:-1},ie>Re?(z.sortIndex=ie,n(y,z),s(g)===null&&z===s(y)&&(R?(H(V),V=-1):R=!0,Tt(Q,ie-Re))):(z.sortIndex=xe,n(g,z),E||_||(E=!0,P||(P=!0,qe()))),z},l.unstable_shouldYield=Ee,l.unstable_wrapCallback=function(z){var Y=b;return function(){var ie=b;b=Y;try{return z.apply(this,arguments)}finally{b=ie}}}})(Ac)),Ac}var Rg;function y_(){return Rg||(Rg=1,Tc.exports=g_()),Tc.exports}var Oc={exports:{}},wt={};var jg;function m_(){if(jg)return wt;jg=1;var l=uh();function n(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)y+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(g,y,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:g,containerInfo:y,implementation:m}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wt.createPortal=function(g,y){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(g,y,null,m)},wt.flushSync=function(g){var y=f.T,m=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=m,a.d.f()}},wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},wt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var m=y.as,w=d(m,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;m==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:_}):m==="script"&&a.d.X(g,{crossOrigin:w,integrity:b,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var m=d(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var m=y.as,w=d(m,y.crossOrigin);a.d.L(g,m,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var m=d(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},wt.requestFormReset=function(g){a.d.r(g)},wt.unstable_batchedUpdates=function(g,y){return g(y)},wt.useFormState=function(g,y,m){return f.H.useFormState(g,y,m)},wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},wt.version="19.2.1",wt}var Cg;function v_(){if(Cg)return Oc.exports;Cg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Oc.exports=m_(),Oc.exports}var kg;function __(){if(kg)return $r;kg=1;var l=y_(),n=uh(),s=v_();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var h=o.alternate;if(h===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===i)return g(o),e;if(h===r)return g(o),t;h=h.sibling}throw Error(a(188))}if(i.return!==r.return)i=o,r=h;else{for(var p=!1,v=o.child;v;){if(v===i){p=!0,i=o,r=h;break}if(v===r){p=!0,r=o,i=h;break}v=v.sibling}if(!p){for(v=h.child;v;){if(v===i){p=!0,i=h,r=o;break}if(v===r){p=!0,r=h,i=o;break}v=v.sibling}if(!p)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),M=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case D:return"Profiler";case A:return"StrictMode";case Q:return"Suspense";case P:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case M:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var Tt=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Re=[],xe=-1;function O(e){return{current:e}}function $(e){0>xe||(e.current=Re[xe],Re[xe]=null,xe--)}function K(e,t){xe++,Re[xe]=e.current,e.current=t}var I=O(null),ae=O(null),fe=O(null),we=O(null);function ht(e,t){switch(K(fe,t),K(ae,e),K(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Yp(t),e=Kp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(I),K(I,e)}function Se(){$(I),$(ae),$(fe)}function at(e){e.memoizedState!==null&&K(we,e);var t=I.current,i=Kp(t,e.type);t!==i&&(K(ae,e),K(I,i))}function en(e){ae.current===e&&($(I),$(ae)),we.current===e&&($(we),Br._currentValue=ie)}var je,Ps;function tn(e){if(je===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);je=t&&t[1]||"",Ps=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+e+Ps}var Ys=!1;function Ks(e,t){if(!e||Ys)return"";Ys=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(U){var N=U}Reflect.construct(e,[],L)}else{try{L.call()}catch(U){N=U}e.call(L.prototype)}}else{try{throw Error()}catch(U){N=U}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(U){if(U&&N&&typeof U.stack=="string")return[U.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),p=h[0],v=h[1];if(p&&v){var T=p.split(`
`),x=v.split(`
`);for(o=r=0;r<T.length&&!T[r].includes("DetermineComponentFrameRoot");)r++;for(;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;if(r===T.length||o===x.length)for(r=T.length-1,o=x.length-1;1<=r&&0<=o&&T[r]!==x[o];)o--;for(;1<=r&&0<=o;r--,o--)if(T[r]!==x[o]){if(r!==1||o!==1)do if(r--,o--,0>o||T[r]!==x[o]){var B=`
`+T[r].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=r&&0<=o);break}}}finally{Ys=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?tn(i):""}function io(e,t){switch(e.tag){case 26:case 27:case 5:return tn(e.type);case 16:return tn("Lazy");case 13:return e.child!==t&&t!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Ks(e.type,!1);case 11:return Ks(e.type.render,!1);case 1:return Ks(e.type,!0);case 31:return tn("Activity");default:return""}}function na(e){try{var t="",i=null;do t+=io(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var $i=Object.prototype.hasOwnProperty,Is=l.unstable_scheduleCallback,Xs=l.unstable_cancelCallback,so=l.unstable_shouldYield,ro=l.unstable_requestPaint,bt=l.unstable_now,ao=l.unstable_getCurrentPriorityLevel,ia=l.unstable_ImmediatePriority,sa=l.unstable_UserBlockingPriority,Vi=l.unstable_NormalPriority,lo=l.unstable_LowPriority,le=l.unstable_IdlePriority,ue=l.log,te=l.unstable_setDisableYieldValue,Qe=null,Ke=null;function Ge(e){if(typeof ue=="function"&&te(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Qe,e)}catch{}}var Ie=Math.clz32?Math.clz32:Pi,Ut=Math.log,Gi=Math.LN2;function Pi(e){return e>>>=0,e===0?32:31-(Ut(e)/Gi|0)|0}var mn=256,di=262144,pi=4194304;function gi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ra(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,h=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~h,r!==0?o=gi(r):(p&=v,p!==0?o=gi(p):i||(i=v&~e,i!==0&&(o=gi(i))))):(v=r&~h,v!==0?o=gi(v):p!==0?o=gi(p):i||(i=r&~e,i!==0&&(o=gi(i)))),o===0?0:t!==0&&t!==o&&(t&h)===0&&(h=o&-o,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:o}function Js(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Zm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ah(){var e=pi;return pi<<=1,(pi&62914560)===0&&(pi=4194304),e}function oo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Qs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fm(e,t,i,r,o,h){var p=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,x=e.hiddenUpdates;for(i=p&~i;0<i;){var B=31-Ie(i),L=1<<B;v[B]=0,T[B]=-1;var N=x[B];if(N!==null)for(x[B]=null,B=0;B<N.length;B++){var U=N[B];U!==null&&(U.lane&=-536870913)}i&=~L}r!==0&&Oh(e,r,0),h!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=h&~(p&~t))}function Oh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ie(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function Rh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Ie(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function jh(e,t){var i=t&-t;return i=(i&42)!==0?1:uo(i),(i&(e.suspendedLanes|t))!==0?0:i}function uo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function co(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ch(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:gg(e.type))}function kh(e,t){var i=Y.p;try{return Y.p=e,t()}finally{Y.p=i}}var Hn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Hn,At="__reactProps$"+Hn,Yi="__reactContainer$"+Hn,ho="__reactEvents$"+Hn,Wm="__reactListeners$"+Hn,ev="__reactHandles$"+Hn,xh="__reactResources$"+Hn,Zs="__reactMarker$"+Hn;function fo(e){delete e[ft],delete e[At],delete e[ho],delete e[Wm],delete e[ev]}function Ki(e){var t=e[ft];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Yi]||i[ft]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Wp(e);e!==null;){if(i=e[ft])return i;e=Wp(e)}return t}e=i,i=e.parentNode}return null}function Ii(e){if(e=e[ft]||e[Yi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Xi(e){var t=e[xh];return t||(t=e[xh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Zs]=!0}var Nh=new Set,Dh={};function yi(e,t){Ji(e,t),Ji(e+"Capture",t)}function Ji(e,t){for(Dh[e]=t,e=0;e<t.length;e++)Nh.add(t[e])}var tv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uh={},Mh={};function nv(e){return $i.call(Mh,e)?!0:$i.call(Uh,e)?!1:tv.test(e)?Mh[e]=!0:(Uh[e]=!0,!1)}function aa(e,t,i){if(nv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function la(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function vn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iv(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){i=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function po(e){if(!e._valueTracker){var t=Bh(e)?"checked":"value";e._valueTracker=iv(e,t,""+e[t])}}function zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Bh(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sv=/[\n"\\]/g;function Pt(e){return e.replace(sv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function go(e,t,i,r,o,h,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?yo(e,p,Gt(t)):i!=null?yo(e,p,Gt(i)):r!=null&&e.removeAttribute("value"),o==null&&h!=null&&(e.defaultChecked=!!h),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Gt(v):e.removeAttribute("name")}function qh(e,t,i,r,o,h,p,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){po(e);return}i=i!=null?""+Gt(i):"",t=t!=null?""+Gt(t):i,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),po(e)}function yo(e,t,i){t==="number"&&oa(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Qi(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Lh(e,t,i){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Gt(i):""}function Hh(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(a(92));if(Tt(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Gt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),po(e)}function Zi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var rv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $h(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||rv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Vh(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&$h(e,o,r)}else for(var h in t)t.hasOwnProperty(h)&&$h(e,h,t[h])}function mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return lv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var vo=null;function _o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Wi=null;function Gh(e){var t=Ii(e);if(t&&(e=t.stateNode)){var i=e[At]||null;e:switch(e=t.stateNode,t.type){case"input":if(go(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[At]||null;if(!o)throw Error(a(90));go(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&zh(r)}break e;case"textarea":Lh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Qi(e,!!i.multiple,t,!1)}}}var bo=!1;function Ph(e,t,i){if(bo)return e(t,i);bo=!0;try{var r=e(t);return r}finally{if(bo=!1,(Fi!==null||Wi!==null)&&(Qa(),Fi&&(t=Fi,e=Wi,Wi=Fi=null,Gh(t),e)))for(t=0;t<e.length;t++)Gh(e[t])}}function Ws(e,t){var i=e.stateNode;if(i===null)return null;var r=i[At]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=!1;if(bn)try{var er={};Object.defineProperty(er,"passive",{get:function(){wo=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{wo=!1}var $n=null,So=null,ca=null;function Yh(){if(ca)return ca;var e,t=So,i=t.length,r,o="value"in $n?$n.value:$n.textContent,h=o.length;for(e=0;e<i&&t[e]===o[e];e++);var p=i-e;for(r=1;r<=p&&t[i-r]===o[h-r];r++);return ca=o.slice(e,1<r?1-r:void 0)}function ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fa(){return!0}function Kh(){return!1}function Ot(e){function t(i,r,o,h,p){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?fa:Kh,this.isPropagationStopped=Kh,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Ot(mi),tr=w({},mi,{view:0,detail:0}),ov=Ot(tr),Eo,To,nr,pa=w({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nr&&(nr&&e.type==="mousemove"?(Eo=e.screenX-nr.screenX,To=e.screenY-nr.screenY):To=Eo=0,nr=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:To}}),Ih=Ot(pa),uv=w({},pa,{dataTransfer:0}),cv=Ot(uv),hv=w({},tr,{relatedTarget:0}),Ao=Ot(hv),fv=w({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),dv=Ot(fv),pv=w({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gv=Ot(pv),yv=w({},mi,{data:0}),Xh=Ot(yv),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_v[e])?!!t[e]:!1}function Oo(){return bv}var wv=w({},tr,{key:function(e){if(e.key){var t=mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sv=Ot(wv),Ev=w({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=Ot(Ev),Tv=w({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),Av=Ot(Tv),Ov=w({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Ot(Ov),jv=w({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=Ot(jv),kv=w({},mi,{newState:0,oldState:0}),xv=Ot(kv),Nv=[9,13,27,32],Ro=bn&&"CompositionEvent"in window,ir=null;bn&&"documentMode"in document&&(ir=document.documentMode);var Dv=bn&&"TextEvent"in window&&!ir,Qh=bn&&(!Ro||ir&&8<ir&&11>=ir),Zh=" ",Fh=!1;function Wh(e,t){switch(e){case"keyup":return Nv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function Uv(e,t){switch(e){case"compositionend":return ef(t);case"keypress":return t.which!==32?null:(Fh=!0,Zh);case"textInput":return e=t.data,e===Zh&&Fh?null:e;default:return null}}function Mv(e,t){if(es)return e==="compositionend"||!Ro&&Wh(e,t)?(e=Yh(),ca=So=$n=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qh&&t.locale!=="ko"?null:t.data;default:return null}}var Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bv[e.type]:t==="textarea"}function nf(e,t,i,r){Fi?Wi?Wi.push(r):Wi=[r]:Fi=r,t=il(t,"onChange"),0<t.length&&(i=new da("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var sr=null,rr=null;function zv(e){Lp(e,0)}function ga(e){var t=Fs(e);if(zh(t))return e}function sf(e,t){if(e==="change")return t}var rf=!1;if(bn){var jo;if(bn){var Co="oninput"in document;if(!Co){var af=document.createElement("div");af.setAttribute("oninput","return;"),Co=typeof af.oninput=="function"}jo=Co}else jo=!1;rf=jo&&(!document.documentMode||9<document.documentMode)}function lf(){sr&&(sr.detachEvent("onpropertychange",of),rr=sr=null)}function of(e){if(e.propertyName==="value"&&ga(rr)){var t=[];nf(t,rr,e,_o(e)),Ph(zv,t)}}function qv(e,t,i){e==="focusin"?(lf(),sr=t,rr=i,sr.attachEvent("onpropertychange",of)):e==="focusout"&&lf()}function Lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ga(rr)}function Hv(e,t){if(e==="click")return ga(t)}function $v(e,t){if(e==="input"||e==="change")return ga(t)}function Vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:Vv;function ar(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!$i.call(t,o)||!Mt(e[o],t[o]))return!1}return!0}function uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,t){var i=uf(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=uf(i)}}function hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=oa(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=oa(e.document)}return t}function ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gv=bn&&"documentMode"in document&&11>=document.documentMode,ts=null,xo=null,lr=null,No=!1;function df(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;No||ts==null||ts!==oa(r)||(r=ts,"selectionStart"in r&&ko(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lr&&ar(lr,r)||(lr=r,r=il(xo,"onSelect"),0<r.length&&(t=new da("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=ts)))}function vi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ns={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Do={},pf={};bn&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function _i(e){if(Do[e])return Do[e];if(!ns[e])return e;var t=ns[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in pf)return Do[e]=t[i];return e}var gf=_i("animationend"),yf=_i("animationiteration"),mf=_i("animationstart"),Pv=_i("transitionrun"),Yv=_i("transitionstart"),Kv=_i("transitioncancel"),vf=_i("transitionend"),_f=new Map,Uo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uo.push("scrollEnd");function nn(e,t){_f.set(e,t),yi(t,[e])}var ya=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],is=0,Mo=0;function ma(){for(var e=is,t=Mo=is=0;t<e;){var i=Yt[t];Yt[t++]=null;var r=Yt[t];Yt[t++]=null;var o=Yt[t];Yt[t++]=null;var h=Yt[t];if(Yt[t++]=null,r!==null&&o!==null){var p=r.pending;p===null?o.next=o:(o.next=p.next,p.next=o),r.pending=o}h!==0&&bf(i,o,h)}}function va(e,t,i,r){Yt[is++]=e,Yt[is++]=t,Yt[is++]=i,Yt[is++]=r,Mo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Bo(e,t,i,r){return va(e,t,i,r),_a(e)}function bi(e,t){return va(e,null,null,t),_a(e)}function bf(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,h=e.return;h!==null;)h.childLanes|=i,r=h.alternate,r!==null&&(r.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(o=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,o&&t!==null&&(o=31-Ie(i),e=h.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),h):null}function _a(e){if(50<Cr)throw Cr=0,Yu=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ss={};function Iv(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,i,r){return new Iv(e,t,i,r)}function zo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wn(e,t){var i=e.alternate;return i===null?(i=Bt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function wf(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ba(e,t,i,r,o,h){var p=0;if(r=e,typeof e=="function")zo(e)&&(p=1);else if(typeof e=="string")p=F0(e,i,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=Bt(31,i,t,o),e.elementType=pe,e.lanes=h,e;case R:return wi(i.children,o,h,t);case A:p=8,o|=24;break;case D:return e=Bt(12,i,t,o|2),e.elementType=D,e.lanes=h,e;case Q:return e=Bt(13,i,t,o),e.elementType=Q,e.lanes=h,e;case P:return e=Bt(19,i,t,o),e.elementType=P,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:p=10;break e;case H:p=9;break e;case G:p=11;break e;case V:p=14;break e;case de:p=16,r=null;break e}p=29,i=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=Bt(p,i,t,o),t.elementType=e,t.type=r,t.lanes=h,t}function wi(e,t,i,r){return e=Bt(7,e,r,t),e.lanes=i,e}function qo(e,t,i){return e=Bt(6,e,null,t),e.lanes=i,e}function Sf(e){var t=Bt(18,null,null,0);return t.stateNode=e,t}function Lo(e,t,i){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ef=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var i=Ef.get(e);return i!==void 0?i:(t={value:e,source:t,stack:na(t)},Ef.set(e,t),t)}return{value:e,source:t,stack:na(t)}}var rs=[],as=0,wa=null,or=0,It=[],Xt=0,Vn=null,cn=1,hn="";function Sn(e,t){rs[as++]=or,rs[as++]=wa,wa=e,or=t}function Tf(e,t,i){It[Xt++]=cn,It[Xt++]=hn,It[Xt++]=Vn,Vn=e;var r=cn;e=hn;var o=32-Ie(r)-1;r&=~(1<<o),i+=1;var h=32-Ie(t)+o;if(30<h){var p=o-o%5;h=(r&(1<<p)-1).toString(32),r>>=p,o-=p,cn=1<<32-Ie(t)+o|i<<o|r,hn=h+e}else cn=1<<h|i<<o|r,hn=e}function Ho(e){e.return!==null&&(Sn(e,1),Tf(e,1,0))}function $o(e){for(;e===wa;)wa=rs[--as],rs[as]=null,or=rs[--as],rs[as]=null;for(;e===Vn;)Vn=It[--Xt],It[Xt]=null,hn=It[--Xt],It[Xt]=null,cn=It[--Xt],It[Xt]=null}function Af(e,t){It[Xt++]=cn,It[Xt++]=hn,It[Xt++]=Vn,cn=t.id,hn=t.overflow,Vn=e}var dt=null,He=null,_e=!1,Gn=null,Jt=!1,Vo=Error(a(519));function Pn(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ur(Kt(t,e)),Vo}function Of(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[ft]=e,t[At]=r,i){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(i=0;i<xr.length;i++)ye(xr[i],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),qh(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),Hh(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Gp(t.textContent,i)?(r.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),r.onScroll!=null&&ye("scroll",t),r.onScrollEnd!=null&&ye("scrollend",t),r.onClick!=null&&(t.onclick=_n),t=!0):t=!1,t||Pn(e,!0)}function Rf(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:dt=dt.return}}function ls(e){if(e!==dt)return!1;if(!_e)return Rf(e),_e=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ac(e.type,e.memoizedProps)),i=!i),i&&He&&Pn(e),Rf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));He=Fp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));He=Fp(e)}else t===27?(t=He,si(e.type)?(e=hc,hc=null,He=e):He=t):He=dt?Zt(e.stateNode.nextSibling):null;return!0}function Si(){He=dt=null,_e=!1}function Go(){var e=Gn;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Gn=null),e}function ur(e){Gn===null?Gn=[e]:Gn.push(e)}var Po=O(null),Ei=null,En=null;function Yn(e,t,i){K(Po,t._currentValue),t._currentValue=i}function Tn(e){e._currentValue=Po.current,$(Po)}function Yo(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Ko(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){var p=o.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=o;for(var T=0;T<t.length;T++)if(v.context===t[T]){h.lanes|=i,v=h.alternate,v!==null&&(v.lanes|=i),Yo(h.return,i,e),r||(p=null);break e}h=v.next}}else if(o.tag===18){if(p=o.return,p===null)throw Error(a(341));p.lanes|=i,h=p.alternate,h!==null&&(h.lanes|=i),Yo(p,i,e),p=null}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===e){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}}function os(e,t,i,r){e=null;for(var o=t,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var p=o.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var v=o.type;Mt(o.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(o===we.current){if(p=o.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}o=o.return}e!==null&&Ko(t,e,i,r),t.flags|=262144}function Sa(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Ei=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return jf(Ei,e)}function Ea(e,t){return Ei===null&&Ti(e),jf(e,t)}function jf(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},En===null){if(e===null)throw Error(a(308));En=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else En=En.next=t;return i}var Xv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Jv=l.unstable_scheduleCallback,Qv=l.unstable_NormalPriority,We={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Io(){return{controller:new Xv,data:new Map,refCount:0}}function cr(e){e.refCount--,e.refCount===0&&Jv(Qv,function(){e.controller.abort()})}var hr=null,Xo=0,us=0,cs=null;function Zv(e,t){if(hr===null){var i=hr=[];Xo=0,us=Zu(),cs={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Xo++,t.then(Cf,Cf),t}function Cf(){if(--Xo===0&&hr!==null){cs!==null&&(cs.status="fulfilled");var e=hr;hr=null,us=0,cs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fv(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var kf=z.S;z.S=function(e,t){dp=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zv(e,t),kf!==null&&kf(e,t)};var Ai=O(null);function Jo(){var e=Ai.current;return e!==null?e:ze.pooledCache}function Ta(e,t){t===null?K(Ai,Ai.current):K(Ai,t.pool)}function xf(){var e=Jo();return e===null?null:{parent:We._currentValue,pool:e}}var hs=Error(a(460)),Qo=Error(a(474)),Aa=Error(a(542)),Oa={then:function(){}};function Nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Df(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(_n,_n),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mf(e),e;default:if(typeof t.status=="string")t.then(_n,_n);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mf(e),e}throw Ri=t,hs}}function Oi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ri=i,hs):i}}var Ri=null;function Uf(){if(Ri===null)throw Error(a(459));var e=Ri;return Ri=null,e}function Mf(e){if(e===hs||e===Aa)throw Error(a(483))}var fs=null,fr=0;function Ra(e){var t=fr;return fr+=1,fs===null&&(fs=[]),Df(fs,e,t)}function dr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ja(e,t){throw t.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bf(e){function t(C,j){if(e){var k=C.deletions;k===null?(C.deletions=[j],C.flags|=16):k.push(j)}}function i(C,j){if(!e)return null;for(;j!==null;)t(C,j),j=j.sibling;return null}function r(C){for(var j=new Map;C!==null;)C.key!==null?j.set(C.key,C):j.set(C.index,C),C=C.sibling;return j}function o(C,j){return C=wn(C,j),C.index=0,C.sibling=null,C}function h(C,j,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<j?(C.flags|=67108866,j):k):(C.flags|=67108866,j)):(C.flags|=1048576,j)}function p(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function v(C,j,k,q){return j===null||j.tag!==6?(j=qo(k,C.mode,q),j.return=C,j):(j=o(j,k),j.return=C,j)}function T(C,j,k,q){var W=k.type;return W===R?B(C,j,k.props.children,q,k.key):j!==null&&(j.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===de&&Oi(W)===j.type)?(j=o(j,k.props),dr(j,k),j.return=C,j):(j=ba(k.type,k.key,k.props,null,C.mode,q),dr(j,k),j.return=C,j)}function x(C,j,k,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=Lo(k,C.mode,q),j.return=C,j):(j=o(j,k.children||[]),j.return=C,j)}function B(C,j,k,q,W){return j===null||j.tag!==7?(j=wi(k,C.mode,q,W),j.return=C,j):(j=o(j,k),j.return=C,j)}function L(C,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=qo(""+j,C.mode,k),j.return=C,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return k=ba(j.type,j.key,j.props,null,C.mode,k),dr(k,j),k.return=C,k;case E:return j=Lo(j,C.mode,k),j.return=C,j;case de:return j=Oi(j),L(C,j,k)}if(Tt(j)||qe(j))return j=wi(j,C.mode,k,null),j.return=C,j;if(typeof j.then=="function")return L(C,Ra(j),k);if(j.$$typeof===M)return L(C,Ea(C,j),k);ja(C,j)}return null}function N(C,j,k,q){var W=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return W!==null?null:v(C,j,""+k,q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return k.key===W?T(C,j,k,q):null;case E:return k.key===W?x(C,j,k,q):null;case de:return k=Oi(k),N(C,j,k,q)}if(Tt(k)||qe(k))return W!==null?null:B(C,j,k,q,null);if(typeof k.then=="function")return N(C,j,Ra(k),q);if(k.$$typeof===M)return N(C,j,Ea(C,k),q);ja(C,k)}return null}function U(C,j,k,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return C=C.get(k)||null,v(j,C,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return C=C.get(q.key===null?k:q.key)||null,T(j,C,q,W);case E:return C=C.get(q.key===null?k:q.key)||null,x(j,C,q,W);case de:return q=Oi(q),U(C,j,k,q,W)}if(Tt(q)||qe(q))return C=C.get(k)||null,B(j,C,q,W,null);if(typeof q.then=="function")return U(C,j,k,Ra(q),W);if(q.$$typeof===M)return U(C,j,k,Ea(j,q),W);ja(j,q)}return null}function J(C,j,k,q){for(var W=null,Ae=null,Z=j,he=j=0,ve=null;Z!==null&&he<k.length;he++){Z.index>he?(ve=Z,Z=null):ve=Z.sibling;var Oe=N(C,Z,k[he],q);if(Oe===null){Z===null&&(Z=ve);break}e&&Z&&Oe.alternate===null&&t(C,Z),j=h(Oe,j,he),Ae===null?W=Oe:Ae.sibling=Oe,Ae=Oe,Z=ve}if(he===k.length)return i(C,Z),_e&&Sn(C,he),W;if(Z===null){for(;he<k.length;he++)Z=L(C,k[he],q),Z!==null&&(j=h(Z,j,he),Ae===null?W=Z:Ae.sibling=Z,Ae=Z);return _e&&Sn(C,he),W}for(Z=r(Z);he<k.length;he++)ve=U(Z,C,he,k[he],q),ve!==null&&(e&&ve.alternate!==null&&Z.delete(ve.key===null?he:ve.key),j=h(ve,j,he),Ae===null?W=ve:Ae.sibling=ve,Ae=ve);return e&&Z.forEach(function(ui){return t(C,ui)}),_e&&Sn(C,he),W}function ne(C,j,k,q){if(k==null)throw Error(a(151));for(var W=null,Ae=null,Z=j,he=j=0,ve=null,Oe=k.next();Z!==null&&!Oe.done;he++,Oe=k.next()){Z.index>he?(ve=Z,Z=null):ve=Z.sibling;var ui=N(C,Z,Oe.value,q);if(ui===null){Z===null&&(Z=ve);break}e&&Z&&ui.alternate===null&&t(C,Z),j=h(ui,j,he),Ae===null?W=ui:Ae.sibling=ui,Ae=ui,Z=ve}if(Oe.done)return i(C,Z),_e&&Sn(C,he),W;if(Z===null){for(;!Oe.done;he++,Oe=k.next())Oe=L(C,Oe.value,q),Oe!==null&&(j=h(Oe,j,he),Ae===null?W=Oe:Ae.sibling=Oe,Ae=Oe);return _e&&Sn(C,he),W}for(Z=r(Z);!Oe.done;he++,Oe=k.next())Oe=U(Z,C,he,Oe.value,q),Oe!==null&&(e&&Oe.alternate!==null&&Z.delete(Oe.key===null?he:Oe.key),j=h(Oe,j,he),Ae===null?W=Oe:Ae.sibling=Oe,Ae=Oe);return e&&Z.forEach(function(u_){return t(C,u_)}),_e&&Sn(C,he),W}function Be(C,j,k,q){if(typeof k=="object"&&k!==null&&k.type===R&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _:e:{for(var W=k.key;j!==null;){if(j.key===W){if(W=k.type,W===R){if(j.tag===7){i(C,j.sibling),q=o(j,k.props.children),q.return=C,C=q;break e}}else if(j.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===de&&Oi(W)===j.type){i(C,j.sibling),q=o(j,k.props),dr(q,k),q.return=C,C=q;break e}i(C,j);break}else t(C,j);j=j.sibling}k.type===R?(q=wi(k.props.children,C.mode,q,k.key),q.return=C,C=q):(q=ba(k.type,k.key,k.props,null,C.mode,q),dr(q,k),q.return=C,C=q)}return p(C);case E:e:{for(W=k.key;j!==null;){if(j.key===W)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){i(C,j.sibling),q=o(j,k.children||[]),q.return=C,C=q;break e}else{i(C,j);break}else t(C,j);j=j.sibling}q=Lo(k,C.mode,q),q.return=C,C=q}return p(C);case de:return k=Oi(k),Be(C,j,k,q)}if(Tt(k))return J(C,j,k,q);if(qe(k)){if(W=qe(k),typeof W!="function")throw Error(a(150));return k=W.call(k),ne(C,j,k,q)}if(typeof k.then=="function")return Be(C,j,Ra(k),q);if(k.$$typeof===M)return Be(C,j,Ea(C,k),q);ja(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(i(C,j.sibling),q=o(j,k),q.return=C,C=q):(i(C,j),q=qo(k,C.mode,q),q.return=C,C=q),p(C)):i(C,j)}return function(C,j,k,q){try{fr=0;var W=Be(C,j,k,q);return fs=null,W}catch(Z){if(Z===hs||Z===Aa)throw Z;var Ae=Bt(29,Z,null,C.mode);return Ae.lanes=q,Ae.return=C,Ae}finally{}}}var ji=Bf(!0),zf=Bf(!1),Kn=!1;function Zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ce&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=_a(e),bf(e,null,i),t}return va(e,r,t,i),_a(e)}function pr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Rh(e,i)}}function Wo(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?o=h=p:h=h.next=p,i=i.next}while(i!==null);h===null?o=h=t:h=h.next=t}else o=h=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var eu=!1;function gr(){if(eu){var e=cs;if(e!==null)throw e}}function yr(e,t,i,r){eu=!1;var o=e.updateQueue;Kn=!1;var h=o.firstBaseUpdate,p=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var T=v,x=T.next;T.next=null,p===null?h=x:p.next=x,p=T;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==p&&(v===null?B.firstBaseUpdate=x:v.next=x,B.lastBaseUpdate=T))}if(h!==null){var L=o.baseState;p=0,B=x=T=null,v=h;do{var N=v.lane&-536870913,U=N!==v.lane;if(U?(me&N)===N:(r&N)===N){N!==0&&N===us&&(eu=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var J=e,ne=v;N=t;var Be=i;switch(ne.tag){case 1:if(J=ne.payload,typeof J=="function"){L=J.call(Be,L,N);break e}L=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ne.payload,N=typeof J=="function"?J.call(Be,L,N):J,N==null)break e;L=w({},L,N);break e;case 2:Kn=!0}}N=v.callback,N!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[N]:U.push(N))}else U={lane:N,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(x=B=U,T=L):B=B.next=U,p|=N;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;U=v,v=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);B===null&&(T=L),o.baseState=T,o.firstBaseUpdate=x,o.lastBaseUpdate=B,h===null&&(o.shared.lanes=0),Wn|=p,e.lanes=p,e.memoizedState=L}}function qf(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Lf(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)qf(i[e],t)}var ds=O(null),Ca=O(0);function Hf(e,t){e=Dn,K(Ca,e),K(ds,t),Dn=e|t.baseLanes}function tu(){K(Ca,Dn),K(ds,ds.current)}function nu(){Dn=Ca.current,$(ds),$(Ca)}var zt=O(null),Qt=null;function Jn(e){var t=e.alternate;K(Ze,Ze.current&1),K(zt,e),Qt===null&&(t===null||ds.current!==null||t.memoizedState!==null)&&(Qt=e)}function iu(e){K(Ze,Ze.current),K(zt,e),Qt===null&&(Qt=e)}function $f(e){e.tag===22?(K(Ze,Ze.current),K(zt,e),Qt===null&&(Qt=e)):Qn()}function Qn(){K(Ze,Ze.current),K(zt,zt.current)}function qt(e){$(zt),Qt===e&&(Qt=null),$(Ze)}var Ze=O(0);function ka(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||uc(i)||cc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var An=0,ce=null,Ue=null,et=null,xa=!1,ps=!1,Ci=!1,Na=0,mr=0,gs=null,Wv=0;function Xe(){throw Error(a(321))}function su(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Mt(e[i],t[i]))return!1;return!0}function ru(e,t,i,r,o,h){return An=h,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Td:bu,Ci=!1,h=i(r,o),Ci=!1,ps&&(h=Gf(t,i,r,o)),Vf(e),h}function Vf(e){z.H=br;var t=Ue!==null&&Ue.next!==null;if(An=0,et=Ue=ce=null,xa=!1,mr=0,gs=null,t)throw Error(a(300));e===null||tt||(e=e.dependencies,e!==null&&Sa(e)&&(tt=!0))}function Gf(e,t,i,r){ce=e;var o=0;do{if(ps&&(gs=null),mr=0,ps=!1,25<=o)throw Error(a(301));if(o+=1,et=Ue=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=Ad,h=t(i,r)}while(ps);return h}function e0(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?vr(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ce.flags|=1024),t}function au(){var e=Na!==0;return Na=0,e}function lu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ou(e){if(xa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xa=!1}An=0,et=Ue=ce=null,ps=!1,mr=Na=0,gs=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ce.memoizedState=et=e:et=et.next=e,et}function Fe(){if(Ue===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=et===null?ce.memoizedState:et.next;if(t!==null)et=t,Ue=e;else{if(e===null)throw ce.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},et===null?ce.memoizedState=et=e:et=et.next=e}return et}function Da(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vr(e){var t=mr;return mr+=1,gs===null&&(gs=[]),e=Df(gs,e,t),t=ce,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Td:bu),e}function Ua(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vr(e);if(e.$$typeof===M)return pt(e)}throw Error(a(438,String(e)))}function uu(e){var t=null,i=ce.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Da(),ce.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=Ee;return t.index++,i}function On(e,t){return typeof t=="function"?t(e):t}function Ma(e){var t=Fe();return cu(t,Ue,e)}function cu(e,t,i){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var o=e.baseQueue,h=r.pending;if(h!==null){if(o!==null){var p=o.next;o.next=h.next,h.next=p}t.baseQueue=o=h,r.pending=null}if(h=e.baseState,o===null)e.memoizedState=h;else{t=o.next;var v=p=null,T=null,x=t,B=!1;do{var L=x.lane&-536870913;if(L!==x.lane?(me&L)===L:(An&L)===L){var N=x.revertLane;if(N===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),L===us&&(B=!0);else if((An&N)===N){x=x.next,N===us&&(B=!0);continue}else L={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},T===null?(v=T=L,p=h):T=T.next=L,ce.lanes|=N,Wn|=N;L=x.action,Ci&&i(h,L),h=x.hasEagerState?x.eagerState:i(h,L)}else N={lane:L,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},T===null?(v=T=N,p=h):T=T.next=N,ce.lanes|=L,Wn|=L;x=x.next}while(x!==null&&x!==t);if(T===null?p=h:T.next=v,!Mt(h,e.memoizedState)&&(tt=!0,B&&(i=cs,i!==null)))throw i;e.memoizedState=h,e.baseState=p,e.baseQueue=T,r.lastRenderedState=h}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function hu(e){var t=Fe(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,h=t.memoizedState;if(o!==null){i.pending=null;var p=o=o.next;do h=e(h,p.action),p=p.next;while(p!==o);Mt(h,t.memoizedState)||(tt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,r]}function Pf(e,t,i){var r=ce,o=Fe(),h=_e;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=t();var p=!Mt((Ue||o).memoizedState,i);if(p&&(o.memoizedState=i,tt=!0),o=o.queue,pu(If.bind(null,r,o,e),[e]),o.getSnapshot!==t||p||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,ys(9,{destroy:void 0},Kf.bind(null,r,o,i,t),null),ze===null)throw Error(a(349));h||(An&127)!==0||Yf(r,t,i)}return i}function Yf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ce.updateQueue,t===null?(t=Da(),ce.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Kf(e,t,i,r){t.value=i,t.getSnapshot=r,Xf(t)&&Jf(e)}function If(e,t,i){return i(function(){Xf(t)&&Jf(e)})}function Xf(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Mt(e,i)}catch{return!0}}function Jf(e){var t=bi(e,2);t!==null&&xt(t,e,2)}function fu(e){var t=Et();if(typeof e=="function"){var i=e;if(e=i(),Ci){Ge(!0);try{i()}finally{Ge(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:e},t}function Qf(e,t,i,r){return e.baseState=i,cu(e,Ue,typeof r=="function"?r:On)}function t0(e,t,i,r,o){if(qa(e))throw Error(a(485));if(e=t.action,e!==null){var h={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};z.T!==null?i(!0):h.isTransition=!1,r(h),i=t.pending,i===null?(h.next=t.pending=h,Zf(t,h)):(h.next=i.next,t.pending=i.next=h)}}function Zf(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var h=z.T,p={};z.T=p;try{var v=i(o,r),T=z.S;T!==null&&T(p,v),Ff(e,t,v)}catch(x){du(e,t,x)}finally{h!==null&&p.types!==null&&(h.types=p.types),z.T=h}}else try{h=i(o,r),Ff(e,t,h)}catch(x){du(e,t,x)}}function Ff(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Wf(e,t,r)},function(r){return du(e,t,r)}):Wf(e,t,i)}function Wf(e,t,i){t.status="fulfilled",t.value=i,ed(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Zf(e,i)))}function du(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,ed(t),t=t.next;while(t!==r)}e.action=null}function ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function td(e,t){return t}function nd(e,t){if(_e){var i=ze.formState;if(i!==null){e:{var r=ce;if(_e){if(He){t:{for(var o=He,h=Jt;o.nodeType!==8;){if(!h){o=null;break t}if(o=Zt(o.nextSibling),o===null){o=null;break t}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){He=Zt(o.nextSibling),r=o.data==="F!";break e}}Pn(r)}r=!1}r&&(t=i[0])}}return i=Et(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:t},i.queue=r,i=wd.bind(null,ce,r),r.dispatch=i,r=fu(!1),h=_u.bind(null,ce,!1,r.queue),r=Et(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=t0.bind(null,ce,o,h,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function id(e){var t=Fe();return sd(t,Ue,e)}function sd(e,t,i){if(t=cu(e,t,td)[0],e=Ma(On)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=vr(t)}catch(p){throw p===hs?Aa:p}else r=t;t=Fe();var o=t.queue,h=o.dispatch;return i!==t.memoizedState&&(ce.flags|=2048,ys(9,{destroy:void 0},n0.bind(null,o,i),null)),[r,h,e]}function n0(e,t){e.action=t}function rd(e){var t=Fe(),i=Ue;if(i!==null)return sd(t,i,e);Fe(),t=t.memoizedState,i=Fe();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function ys(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=ce.updateQueue,t===null&&(t=Da(),ce.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function ad(){return Fe().memoizedState}function Ba(e,t,i,r){var o=Et();ce.flags|=e,o.memoizedState=ys(1|t,{destroy:void 0},i,r===void 0?null:r)}function za(e,t,i,r){var o=Fe();r=r===void 0?null:r;var h=o.memoizedState.inst;Ue!==null&&r!==null&&su(r,Ue.memoizedState.deps)?o.memoizedState=ys(t,h,i,r):(ce.flags|=e,o.memoizedState=ys(1|t,h,i,r))}function ld(e,t){Ba(8390656,8,e,t)}function pu(e,t){za(2048,8,e,t)}function i0(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=Da(),ce.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function od(e){var t=Fe().memoizedState;return i0({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function ud(e,t){return za(4,2,e,t)}function cd(e,t){return za(4,4,e,t)}function hd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fd(e,t,i){i=i!=null?i.concat([e]):null,za(4,4,hd.bind(null,t,e),i)}function gu(){}function dd(e,t){var i=Fe();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&su(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function pd(e,t){var i=Fe();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&su(t,r[1]))return r[0];if(r=e(),Ci){Ge(!0);try{e()}finally{Ge(!1)}}return i.memoizedState=[r,t],r}function yu(e,t,i){return i===void 0||(An&1073741824)!==0&&(me&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=gp(),ce.lanes|=e,Wn|=e,i)}function gd(e,t,i,r){return Mt(i,t)?i:ds.current!==null?(e=yu(e,i,r),Mt(e,t)||(tt=!0),e):(An&42)===0||(An&1073741824)!==0&&(me&261930)===0?(tt=!0,e.memoizedState=i):(e=gp(),ce.lanes|=e,Wn|=e,t)}function yd(e,t,i,r,o){var h=Y.p;Y.p=h!==0&&8>h?h:8;var p=z.T,v={};z.T=v,_u(e,!1,t,i);try{var T=o(),x=z.S;if(x!==null&&x(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=Fv(T,r);_r(e,t,B,$t(e))}else _r(e,t,r,$t(e))}catch(L){_r(e,t,{then:function(){},status:"rejected",reason:L},$t())}finally{Y.p=h,p!==null&&v.types!==null&&(p.types=v.types),z.T=p}}function s0(){}function mu(e,t,i,r){if(e.tag!==5)throw Error(a(476));var o=md(e).queue;yd(e,o,t,ie,i===null?s0:function(){return vd(e),i(r)})}function md(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ie},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vd(e){var t=md(e);t.next===null&&(t=e.alternate.memoizedState),_r(e,t.next.queue,{},$t())}function vu(){return pt(Br)}function _d(){return Fe().memoizedState}function bd(){return Fe().memoizedState}function r0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=$t();e=In(i);var r=Xn(t,e,i);r!==null&&(xt(r,t,i),pr(r,t,i)),t={cache:Io()},e.payload=t;return}t=t.return}}function a0(e,t,i){var r=$t();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},qa(e)?Sd(t,i):(i=Bo(e,t,i,r),i!==null&&(xt(i,e,r),Ed(i,t,r)))}function wd(e,t,i){var r=$t();_r(e,t,i,r)}function _r(e,t,i,r){var o={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Sd(t,o);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,v=h(p,i);if(o.hasEagerState=!0,o.eagerState=v,Mt(v,p))return va(e,t,o,0),ze===null&&ma(),!1}catch{}finally{}if(i=Bo(e,t,o,r),i!==null)return xt(i,e,r),Ed(i,t,r),!0}return!1}function _u(e,t,i,r){if(r={lane:2,revertLane:Zu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qa(e)){if(t)throw Error(a(479))}else t=Bo(e,i,r,2),t!==null&&xt(t,e,2)}function qa(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Sd(e,t){ps=xa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ed(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Rh(e,i)}}var br={readContext:pt,use:Ua,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};br.useEffectEvent=Xe;var Td={readContext:pt,use:Ua,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:ld,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Ba(4194308,4,hd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){Ba(4,2,e,t)},useMemo:function(e,t){var i=Et();t=t===void 0?null:t;var r=e();if(Ci){Ge(!0);try{e()}finally{Ge(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=Et();if(i!==void 0){var o=i(t);if(Ci){Ge(!0);try{i(t)}finally{Ge(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=a0.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=fu(e);var t=e.queue,i=wd.bind(null,ce,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:gu,useDeferredValue:function(e,t){var i=Et();return yu(i,e,t)},useTransition:function(){var e=fu(!1);return e=yd.bind(null,ce,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=ce,o=Et();if(_e){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),ze===null)throw Error(a(349));(me&127)!==0||Yf(r,t,i)}o.memoizedState=i;var h={value:i,getSnapshot:t};return o.queue=h,ld(If.bind(null,r,h,e),[e]),r.flags|=2048,ys(9,{destroy:void 0},Kf.bind(null,r,h,i,t),null),i},useId:function(){var e=Et(),t=ze.identifierPrefix;if(_e){var i=hn,r=cn;i=(r&~(1<<32-Ie(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Na++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Wv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:vu,useFormState:nd,useActionState:nd,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=_u.bind(null,ce,!0,i),i.dispatch=t,[e,t]},useMemoCache:uu,useCacheRefresh:function(){return Et().memoizedState=r0.bind(null,ce)},useEffectEvent:function(e){var t=Et(),i={impl:e};return t.memoizedState=i,function(){if((Ce&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},bu={readContext:pt,use:Ua,useCallback:dd,useContext:pt,useEffect:pu,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:pd,useReducer:Ma,useRef:ad,useState:function(){return Ma(On)},useDebugValue:gu,useDeferredValue:function(e,t){var i=Fe();return gd(i,Ue.memoizedState,e,t)},useTransition:function(){var e=Ma(On)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:vr(e),t]},useSyncExternalStore:Pf,useId:_d,useHostTransitionStatus:vu,useFormState:id,useActionState:id,useOptimistic:function(e,t){var i=Fe();return Qf(i,Ue,e,t)},useMemoCache:uu,useCacheRefresh:bd};bu.useEffectEvent=od;var Ad={readContext:pt,use:Ua,useCallback:dd,useContext:pt,useEffect:pu,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:pd,useReducer:hu,useRef:ad,useState:function(){return hu(On)},useDebugValue:gu,useDeferredValue:function(e,t){var i=Fe();return Ue===null?yu(i,e,t):gd(i,Ue.memoizedState,e,t)},useTransition:function(){var e=hu(On)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:vr(e),t]},useSyncExternalStore:Pf,useId:_d,useHostTransitionStatus:vu,useFormState:rd,useActionState:rd,useOptimistic:function(e,t){var i=Fe();return Ue!==null?Qf(i,Ue,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:uu,useCacheRefresh:bd};Ad.useEffectEvent=od;function wu(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:w({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Su={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=$t(),o=In(r);o.payload=t,i!=null&&(o.callback=i),t=Xn(e,o,r),t!==null&&(xt(t,e,r),pr(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=$t(),o=In(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Xn(e,o,r),t!==null&&(xt(t,e,r),pr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=$t(),r=In(i);r.tag=2,t!=null&&(r.callback=t),t=Xn(e,r,i),t!==null&&(xt(t,e,i),pr(t,e,i))}};function Od(e,t,i,r,o,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,p):t.prototype&&t.prototype.isPureReactComponent?!ar(i,r)||!ar(o,h):!0}function Rd(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Su.enqueueReplaceState(t,t.state,null)}function ki(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=w({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function jd(e){ya(e)}function Cd(e){console.error(e)}function kd(e){ya(e)}function La(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function xd(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Eu(e,t,i){return i=In(i),i.tag=3,i.payload={element:null},i.callback=function(){La(e,t)},i}function Nd(e){return e=In(e),e.tag=3,e}function Dd(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var h=r.value;e.payload=function(){return o(h)},e.callback=function(){xd(t,i,r)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){xd(t,i,r),typeof o!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function l0(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&os(t,i,o,!0),i=zt.current,i!==null){switch(i.tag){case 31:case 13:return Qt===null?Za():i.alternate===null&&Je===0&&(Je=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Oa?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),Xu(e,r,o)),!1;case 22:return i.flags|=65536,r===Oa?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),Xu(e,r,o)),!1}throw Error(a(435,i.tag))}return Xu(e,r,o),Za(),!1}if(_e)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Vo&&(e=Error(a(422),{cause:r}),ur(Kt(e,i)))):(r!==Vo&&(t=Error(a(423),{cause:r}),ur(Kt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Kt(r,i),o=Eu(e.stateNode,r,o),Wo(e,o),Je!==4&&(Je=2)),!1;var h=Error(a(520),{cause:r});if(h=Kt(h,i),jr===null?jr=[h]:jr.push(h),Je!==4&&(Je=2),t===null)return!0;r=Kt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Eu(i.stateNode,r,e),Wo(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ei===null||!ei.has(h))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Nd(o),Dd(o,e,i,r),Wo(i,o),!1}i=i.return}while(i!==null);return!1}var Tu=Error(a(461)),tt=!1;function gt(e,t,i,r){t.child=e===null?zf(t,null,i,r):ji(t,e.child,i,r)}function Ud(e,t,i,r,o){i=i.render;var h=t.ref;if("ref"in r){var p={};for(var v in r)v!=="ref"&&(p[v]=r[v])}else p=r;return Ti(t),r=ru(e,t,i,p,h,o),v=au(),e!==null&&!tt?(lu(e,t,o),Rn(e,t,o)):(_e&&v&&Ho(t),t.flags|=1,gt(e,t,r,o),t.child)}function Md(e,t,i,r,o){if(e===null){var h=i.type;return typeof h=="function"&&!zo(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,Bd(e,t,h,r,o)):(e=ba(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Nu(e,o)){var p=h.memoizedProps;if(i=i.compare,i=i!==null?i:ar,i(p,r)&&e.ref===t.ref)return Rn(e,t,o)}return t.flags|=1,e=wn(h,r),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,i,r,o){if(e!==null){var h=e.memoizedProps;if(ar(h,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=h,Nu(e,o))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Rn(e,t,o)}return Au(e,t,i,r,o)}function zd(e,t,i,r){var o=r.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~h}else r=0,t.child=null;return qd(e,t,h,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ta(t,h!==null?h.cachePool:null),h!==null?Hf(t,h):tu(),$f(t);else return r=t.lanes=536870912,qd(e,t,h!==null?h.baseLanes|i:i,i,r)}else h!==null?(Ta(t,h.cachePool),Hf(t,h),Qn(),t.memoizedState=null):(e!==null&&Ta(t,null),tu(),Qn());return gt(e,t,o,i),t.child}function wr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qd(e,t,i,r,o){var h=Jo();return h=h===null?null:{parent:We._currentValue,pool:h},t.memoizedState={baseLanes:i,cachePool:h},e!==null&&Ta(t,null),tu(),$f(t),e!==null&&os(e,t,r,!0),t.childLanes=o,null}function Ha(e,t){return t=Va({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ld(e,t,i){return ji(t,e.child,null,i),e=Ha(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function o0(e,t,i){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(r.mode==="hidden")return e=Ha(t,r),t.lanes=536870912,wr(null,e);if(iu(t),(e=He)?(e=Zp(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:cn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},i=Sf(e),i.return=t,t.child=i,dt=t,He=null)):e=null,e===null)throw Pn(t);return t.lanes=536870912,null}return Ha(t,r)}var h=e.memoizedState;if(h!==null){var p=h.dehydrated;if(iu(t),o)if(t.flags&256)t.flags&=-257,t=Ld(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(tt||os(e,t,i,!1),o=(i&e.childLanes)!==0,tt||o){if(r=ze,r!==null&&(p=jh(r,i),p!==0&&p!==h.retryLane))throw h.retryLane=p,bi(e,p),xt(r,e,p),Tu;Za(),t=Ld(e,t,i)}else e=h.treeContext,He=Zt(p.nextSibling),dt=t,_e=!0,Gn=null,Jt=!1,e!==null&&Af(t,e),t=Ha(t,r),t.flags|=4096;return t}return e=wn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $a(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Au(e,t,i,r,o){return Ti(t),i=ru(e,t,i,r,void 0,o),r=au(),e!==null&&!tt?(lu(e,t,o),Rn(e,t,o)):(_e&&r&&Ho(t),t.flags|=1,gt(e,t,i,o),t.child)}function Hd(e,t,i,r,o,h){return Ti(t),t.updateQueue=null,i=Gf(t,r,i,o),Vf(e),r=au(),e!==null&&!tt?(lu(e,t,h),Rn(e,t,h)):(_e&&r&&Ho(t),t.flags|=1,gt(e,t,i,h),t.child)}function $d(e,t,i,r,o){if(Ti(t),t.stateNode===null){var h=ss,p=i.contextType;typeof p=="object"&&p!==null&&(h=pt(p)),h=new i(r,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Su,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=r,h.state=t.memoizedState,h.refs={},Zo(t),p=i.contextType,h.context=typeof p=="object"&&p!==null?pt(p):ss,h.state=t.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(wu(t,i,p,r),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&Su.enqueueReplaceState(h,h.state,null),yr(t,r,h,o),gr(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){h=t.stateNode;var v=t.memoizedProps,T=ki(i,v);h.props=T;var x=h.context,B=i.contextType;p=ss,typeof B=="object"&&B!==null&&(p=pt(B));var L=i.getDerivedStateFromProps;B=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||x!==p)&&Rd(t,h,r,p),Kn=!1;var N=t.memoizedState;h.state=N,yr(t,r,h,o),gr(),x=t.memoizedState,v||N!==x||Kn?(typeof L=="function"&&(wu(t,i,L,r),x=t.memoizedState),(T=Kn||Od(t,i,T,r,N,x,p))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),h.props=r,h.state=x,h.context=p,r=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,Fo(e,t),p=t.memoizedProps,B=ki(i,p),h.props=B,L=t.pendingProps,N=h.context,x=i.contextType,T=ss,typeof x=="object"&&x!==null&&(T=pt(x)),v=i.getDerivedStateFromProps,(x=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==L||N!==T)&&Rd(t,h,r,T),Kn=!1,N=t.memoizedState,h.state=N,yr(t,r,h,o),gr();var U=t.memoizedState;p!==L||N!==U||Kn||e!==null&&e.dependencies!==null&&Sa(e.dependencies)?(typeof v=="function"&&(wu(t,i,v,r),U=t.memoizedState),(B=Kn||Od(t,i,B,r,N,U,T)||e!==null&&e.dependencies!==null&&Sa(e.dependencies))?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,U,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,U,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=U),h.props=r,h.state=U,h.context=T,r=B):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return h=r,$a(e,t),r=(t.flags&128)!==0,h||r?(h=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&r?(t.child=ji(t,e.child,null,o),t.child=ji(t,null,i,o)):gt(e,t,i,o),t.memoizedState=h.state,e=t.child):e=Rn(e,t,o),e}function Vd(e,t,i,r){return Si(),t.flags|=256,gt(e,t,i,r),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(e){return{baseLanes:e,cachePool:xf()}}function ju(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ht),e}function Gd(e,t,i){var r=t.pendingProps,o=!1,h=(t.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),p&&(o=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?Jn(t):Qn(),(e=He)?(e=Zp(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:cn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},i=Sf(e),i.return=t,t.child=i,dt=t,He=null)):e=null,e===null)throw Pn(t);return cc(e)?t.lanes=32:t.lanes=536870912,null}var v=r.children;return r=r.fallback,o?(Qn(),o=t.mode,v=Va({mode:"hidden",children:v},o),r=wi(r,o,i,null),v.return=t,r.return=t,v.sibling=r,t.child=v,r=t.child,r.memoizedState=Ru(i),r.childLanes=ju(e,p,i),t.memoizedState=Ou,wr(null,r)):(Jn(t),Cu(t,v))}var T=e.memoizedState;if(T!==null&&(v=T.dehydrated,v!==null)){if(h)t.flags&256?(Jn(t),t.flags&=-257,t=ku(e,t,i)):t.memoizedState!==null?(Qn(),t.child=e.child,t.flags|=128,t=null):(Qn(),v=r.fallback,o=t.mode,r=Va({mode:"visible",children:r.children},o),v=wi(v,o,i,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,ji(t,e.child,null,i),r=t.child,r.memoizedState=Ru(i),r.childLanes=ju(e,p,i),t.memoizedState=Ou,t=wr(null,r));else if(Jn(t),cc(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var x=p.dgst;p=x,r=Error(a(419)),r.stack="",r.digest=p,ur({value:r,source:null,stack:null}),t=ku(e,t,i)}else if(tt||os(e,t,i,!1),p=(i&e.childLanes)!==0,tt||p){if(p=ze,p!==null&&(r=jh(p,i),r!==0&&r!==T.retryLane))throw T.retryLane=r,bi(e,r),xt(p,e,r),Tu;uc(v)||Za(),t=ku(e,t,i)}else uc(v)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,He=Zt(v.nextSibling),dt=t,_e=!0,Gn=null,Jt=!1,e!==null&&Af(t,e),t=Cu(t,r.children),t.flags|=4096);return t}return o?(Qn(),v=r.fallback,o=t.mode,T=e.child,x=T.sibling,r=wn(T,{mode:"hidden",children:r.children}),r.subtreeFlags=T.subtreeFlags&65011712,x!==null?v=wn(x,v):(v=wi(v,o,i,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,wr(null,r),r=t.child,v=e.child.memoizedState,v===null?v=Ru(i):(o=v.cachePool,o!==null?(T=We._currentValue,o=o.parent!==T?{parent:T,pool:T}:o):o=xf(),v={baseLanes:v.baseLanes|i,cachePool:o}),r.memoizedState=v,r.childLanes=ju(e,p,i),t.memoizedState=Ou,wr(e.child,r)):(Jn(t),i=e.child,e=i.sibling,i=wn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=i,t.memoizedState=null,i)}function Cu(e,t){return t=Va({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Va(e,t){return e=Bt(22,e,null,t),e.lanes=0,e}function ku(e,t,i){return ji(t,e.child,null,i),e=Cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pd(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yo(e.return,t,i)}function xu(e,t,i,r,o,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o,treeForkCount:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=i,p.tailMode=o,p.treeForkCount=h)}function Yd(e,t,i){var r=t.pendingProps,o=r.revealOrder,h=r.tail;r=r.children;var p=Ze.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,K(Ze,p),gt(e,t,r,i),r=_e?or:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pd(e,i,t);else if(e.tag===19)Pd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&ka(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),xu(t,!1,o,i,h,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ka(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}xu(t,!0,i,null,h,r);break;case"together":xu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Rn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(os(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=wn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=wn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Nu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Sa(e)))}function u0(e,t,i){switch(t.tag){case 3:ht(t,t.stateNode.containerInfo),Yn(t,We,e.memoizedState.cache),Si();break;case 27:case 5:at(t);break;case 4:ht(t,t.stateNode.containerInfo);break;case 10:Yn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,iu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Jn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Gd(e,t,i):(Jn(t),e=Rn(e,t,i),e!==null?e.sibling:null);Jn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(os(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return Yd(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(Ze,Ze.current),r)break;return null;case 22:return t.lanes=0,zd(e,t,i,t.pendingProps);case 24:Yn(t,We,e.memoizedState.cache)}return Rn(e,t,i)}function Kd(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Nu(e,i)&&(t.flags&128)===0)return tt=!1,u0(e,t,i);tt=(e.flags&131072)!==0}else tt=!1,_e&&(t.flags&1048576)!==0&&Tf(t,or,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Oi(t.elementType),t.type=e,typeof e=="function")zo(e)?(r=ki(e,r),t.tag=1,t=$d(null,t,e,r,i)):(t.tag=0,t=Au(null,t,e,r,i));else{if(e!=null){var o=e.$$typeof;if(o===G){t.tag=11,t=Ud(null,t,e,r,i);break e}else if(o===V){t.tag=14,t=Md(null,t,e,r,i);break e}}throw t=Ve(e)||e,Error(a(306,t,""))}}return t;case 0:return Au(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=ki(r,t.pendingProps),$d(e,t,r,o,i);case 3:e:{if(ht(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var h=t.memoizedState;o=h.element,Fo(e,t),yr(t,r,null,i);var p=t.memoizedState;if(r=p.cache,Yn(t,We,r),r!==h.cache&&Ko(t,[We],i,!0),gr(),r=p.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Vd(e,t,r,i);break e}else if(r!==o){o=Kt(Error(a(424)),t),ur(o),t=Vd(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Zt(e.firstChild),dt=t,_e=!0,Gn=null,Jt=!0,i=zf(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Si(),r===o){t=Rn(e,t,i);break e}gt(e,t,r,i)}t=t.child}return t;case 26:return $a(e,t),e===null?(i=ig(t.type,null,t.pendingProps,null))?t.memoizedState=i:_e||(i=t.type,e=t.pendingProps,r=sl(fe.current).createElement(i),r[ft]=t,r[At]=e,yt(r,i,e),ot(r),t.stateNode=r):t.memoizedState=ig(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return at(t),e===null&&_e&&(r=t.stateNode=eg(t.type,t.pendingProps,fe.current),dt=t,Jt=!0,o=He,si(t.type)?(hc=o,He=Zt(r.firstChild)):He=o),gt(e,t,t.pendingProps.children,i),$a(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=r=He)&&(r=L0(r,t.type,t.pendingProps,Jt),r!==null?(t.stateNode=r,dt=t,He=Zt(r.firstChild),Jt=!1,o=!0):o=!1),o||Pn(t)),at(t),o=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,r=h.children,ac(o,h)?r=null:p!==null&&ac(o,p)&&(t.flags|=32),t.memoizedState!==null&&(o=ru(e,t,e0,null,null,i),Br._currentValue=o),$a(e,t),gt(e,t,r,i),t.child;case 6:return e===null&&_e&&((e=i=He)&&(i=H0(i,t.pendingProps,Jt),i!==null?(t.stateNode=i,dt=t,He=null,e=!0):e=!1),e||Pn(t)),null;case 13:return Gd(e,t,i);case 4:return ht(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ji(t,null,r,i):gt(e,t,r,i),t.child;case 11:return Ud(e,t,t.type,t.pendingProps,i);case 7:return gt(e,t,t.pendingProps,i),t.child;case 8:return gt(e,t,t.pendingProps.children,i),t.child;case 12:return gt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,Yn(t,t.type,r.value),gt(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ti(t),o=pt(o),r=r(o),t.flags|=1,gt(e,t,r,i),t.child;case 14:return Md(e,t,t.type,t.pendingProps,i);case 15:return Bd(e,t,t.type,t.pendingProps,i);case 19:return Yd(e,t,i);case 31:return o0(e,t,i);case 22:return zd(e,t,i,t.pendingProps);case 24:return Ti(t),r=pt(We),e===null?(o=Jo(),o===null&&(o=ze,h=Io(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=i),o=h),t.memoizedState={parent:r,cache:o},Zo(t),Yn(t,We,o)):((e.lanes&i)!==0&&(Fo(e,t),yr(t,null,null,i),gr()),o=e.memoizedState,h=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Yn(t,We,r)):(r=h.cache,Yn(t,We,r),r!==o.cache&&Ko(t,[We],i,!0))),gt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function jn(e){e.flags|=4}function Du(e,t,i,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(_p())e.flags|=8192;else throw Ri=Oa,Qo}else e.flags&=-16777217}function Id(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!og(t))if(_p())e.flags|=8192;else throw Ri=Oa,Qo}function Ga(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ah():536870912,e.lanes|=t,bs|=t)}function Sr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function c0(e,t,i){var r=t.pendingProps;switch($o(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Tn(We),Se(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ls(t)?jn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Go())),$e(t),null;case 26:var o=t.type,h=t.memoizedState;return e===null?(jn(t),h!==null?($e(t),Id(t,h)):($e(t),Du(t,o,null,r,i))):h?h!==e.memoizedState?(jn(t),$e(t),Id(t,h)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&jn(t),$e(t),Du(t,o,e,r,i)),null;case 27:if(en(t),i=fe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&jn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return $e(t),null}e=I.current,ls(t)?Of(t):(e=eg(o,r,i),t.stateNode=e,jn(t))}return $e(t),null;case 5:if(en(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&jn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return $e(t),null}if(h=I.current,ls(t))Of(t);else{var p=sl(fe.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?p.createElement(o,{is:r.is}):p.createElement(o)}}h[ft]=t,h[At]=r;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=h;e:switch(yt(h,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&jn(t)}}return $e(t),Du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&jn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=fe.current,ls(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=dt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[ft]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Gp(e.nodeValue,i)),e||Pn(t,!0)}else e=sl(e).createTextNode(r),e[ft]=t,t.stateNode=e}return $e(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=ls(t),i!==null){if(e===null){if(!r)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ft]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else i=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return $e(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ls(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(a(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));o[ft]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else o=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==o&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Ga(t,t.updateQueue),$e(t),null);case 4:return Se(),e===null&&tc(t.stateNode.containerInfo),$e(t),null;case 10:return Tn(t.type),$e(t),null;case 19:if($(Ze),r=t.memoizedState,r===null)return $e(t),null;if(o=(t.flags&128)!==0,h=r.rendering,h===null)if(o)Sr(r,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=ka(e),h!==null){for(t.flags|=128,Sr(r,!1),e=h.updateQueue,t.updateQueue=e,Ga(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)wf(i,e),i=i.sibling;return K(Ze,Ze.current&1|2),_e&&Sn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&bt()>Xa&&(t.flags|=128,o=!0,Sr(r,!1),t.lanes=4194304)}else{if(!o)if(e=ka(h),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ga(t,e),Sr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!_e)return $e(t),null}else 2*bt()-r.renderingStartTime>Xa&&i!==536870912&&(t.flags|=128,o=!0,Sr(r,!1),t.lanes=4194304);r.isBackwards?(h.sibling=t.child,t.child=h):(e=r.last,e!==null?e.sibling=h:t.child=h,r.last=h)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=bt(),e.sibling=null,i=Ze.current,K(Ze,o?i&1|2:i&1),_e&&Sn(t,r.treeForkCount),e):($e(t),null);case 22:case 23:return qt(t),nu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),i=t.updateQueue,i!==null&&Ga(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&$(Ai),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Tn(We),$e(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function h0(e,t){switch($o(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(We),Se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return en(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(a(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(Ze),null;case 4:return Se(),null;case 10:return Tn(t.type),null;case 22:case 23:return qt(t),nu(),e!==null&&$(Ai),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Tn(We),null;case 25:return null;default:return null}}function Xd(e,t){switch($o(t),t.tag){case 3:Tn(We),Se();break;case 26:case 27:case 5:en(t);break;case 4:Se();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:$(Ze);break;case 10:Tn(t.type);break;case 22:case 23:qt(t),nu(),e!==null&&$(Ai);break;case 24:Tn(We)}}function Er(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var h=i.create,p=i.inst;r=h(),p.destroy=r}i=i.next}while(i!==o)}}catch(v){De(t,t.return,v)}}function Zn(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){var p=r.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,o=t;var T=i,x=v;try{x()}catch(B){De(o,T,B)}}}r=r.next}while(r!==h)}}catch(B){De(t,t.return,B)}}function Jd(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Lf(t,i)}catch(r){De(e,e.return,r)}}}function Qd(e,t,i){i.props=ki(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){De(e,t,r)}}function Tr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){De(e,t,o)}}function fn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){De(e,t,o)}else i.current=null}function Zd(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){De(e,e.return,o)}}function Uu(e,t,i){try{var r=e.stateNode;D0(r,e.type,i,t),r[At]=t}catch(o){De(e,e.return,o)}}function Fd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bu(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=_n));else if(r!==4&&(r===27&&si(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Bu(e,t,i),e=e.sibling;e!==null;)Bu(e,t,i),e=e.sibling}function Pa(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&si(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Pa(e,t,i),e=e.sibling;e!==null;)Pa(e,t,i),e=e.sibling}function Wd(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);yt(t,r,i),t[ft]=e,t[At]=i}catch(h){De(e,e.return,h)}}var Cn=!1,nt=!1,zu=!1,ep=typeof WeakSet=="function"?WeakSet:Set,ut=null;function f0(e,t){if(e=e.containerInfo,sc=hl,e=ff(e),ko(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var p=0,v=-1,T=-1,x=0,B=0,L=e,N=null;t:for(;;){for(var U;L!==i||o!==0&&L.nodeType!==3||(v=p+o),L!==h||r!==0&&L.nodeType!==3||(T=p+r),L.nodeType===3&&(p+=L.nodeValue.length),(U=L.firstChild)!==null;)N=L,L=U;for(;;){if(L===e)break t;if(N===i&&++x===o&&(v=p),N===h&&++B===r&&(T=p),(U=L.nextSibling)!==null)break;L=N,N=L.parentNode}L=U}i=v===-1||T===-1?null:{start:v,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(rc={focusedElem:e,selectionRange:i},hl=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,o=h.memoizedProps,h=h.memoizedState,r=i.stateNode;try{var J=ki(i.type,o);e=r.getSnapshotBeforeUpdate(J,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(ne){De(i,i.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)oc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function tp(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:xn(e,i),r&4&&Er(5,i);break;case 1:if(xn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(p){De(i,i.return,p)}else{var o=ki(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){De(i,i.return,p)}}r&64&&Jd(i),r&512&&Tr(i,i.return);break;case 3:if(xn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Lf(e,t)}catch(p){De(i,i.return,p)}}break;case 27:t===null&&r&4&&Wd(i);case 26:case 5:xn(e,i),t===null&&r&4&&Zd(i),r&512&&Tr(i,i.return);break;case 12:xn(e,i);break;case 31:xn(e,i),r&4&&sp(e,i);break;case 13:xn(e,i),r&4&&rp(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=w0.bind(null,i),$0(e,i))));break;case 22:if(r=i.memoizedState!==null||Cn,!r){t=t!==null&&t.memoizedState!==null||nt,o=Cn;var h=nt;Cn=r,(nt=t)&&!h?Nn(e,i,(i.subtreeFlags&8772)!==0):xn(e,i),Cn=o,nt=h}break;case 30:break;default:xn(e,i)}}function np(e){var t=e.alternate;t!==null&&(e.alternate=null,np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Rt=!1;function kn(e,t,i){for(i=i.child;i!==null;)ip(e,t,i),i=i.sibling}function ip(e,t,i){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Qe,i)}catch{}switch(i.tag){case 26:nt||fn(i,t),kn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:nt||fn(i,t);var r=Pe,o=Rt;si(i.type)&&(Pe=i.stateNode,Rt=!1),kn(e,t,i),Dr(i.stateNode),Pe=r,Rt=o;break;case 5:nt||fn(i,t);case 6:if(r=Pe,o=Rt,Pe=null,kn(e,t,i),Pe=r,Rt=o,Pe!==null)if(Rt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(i.stateNode)}catch(h){De(i,t,h)}else try{Pe.removeChild(i.stateNode)}catch(h){De(i,t,h)}break;case 18:Pe!==null&&(Rt?(e=Pe,Jp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),js(e)):Jp(Pe,i.stateNode));break;case 4:r=Pe,o=Rt,Pe=i.stateNode.containerInfo,Rt=!0,kn(e,t,i),Pe=r,Rt=o;break;case 0:case 11:case 14:case 15:Zn(2,i,t),nt||Zn(4,i,t),kn(e,t,i);break;case 1:nt||(fn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Qd(i,t,r)),kn(e,t,i);break;case 21:kn(e,t,i);break;case 22:nt=(r=nt)||i.memoizedState!==null,kn(e,t,i),nt=r;break;default:kn(e,t,i)}}function sp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{js(e)}catch(i){De(t,t.return,i)}}}function rp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{js(e)}catch(i){De(t,t.return,i)}}function d0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ep),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ep),t;default:throw Error(a(435,e.tag))}}function Ya(e,t){var i=d0(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var o=S0.bind(null,e,r);r.then(o,o)}})}function jt(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],h=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(si(v.type)){Pe=v.stateNode,Rt=!1;break e}break;case 5:Pe=v.stateNode,Rt=!1;break e;case 3:case 4:Pe=v.stateNode.containerInfo,Rt=!0;break e}v=v.return}if(Pe===null)throw Error(a(160));ip(h,p,o),Pe=null,Rt=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ap(t,e),t=t.sibling}var sn=null;function ap(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),Ct(e),r&4&&(Zn(3,e,e.return),Er(3,e),Zn(5,e,e.return));break;case 1:jt(t,e),Ct(e),r&512&&(nt||i===null||fn(i,i.return)),r&64&&Cn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=sn;if(jt(t,e),Ct(e),r&512&&(nt||i===null||fn(i,i.return)),r&4){var h=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":h=o.getElementsByTagName("title")[0],(!h||h[Zs]||h[ft]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(r),o.head.insertBefore(h,o.querySelector("head > title"))),yt(h,r,i),h[ft]=e,ot(h),r=h;break e;case"link":var p=ag("link","href",o).get(r+(i.href||""));if(p){for(var v=0;v<p.length;v++)if(h=p[v],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(v,1);break t}}h=o.createElement(r),yt(h,r,i),o.head.appendChild(h);break;case"meta":if(p=ag("meta","content",o).get(r+(i.content||""))){for(v=0;v<p.length;v++)if(h=p[v],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(v,1);break t}}h=o.createElement(r),yt(h,r,i),o.head.appendChild(h);break;default:throw Error(a(468,r))}h[ft]=e,ot(h),r=h}e.stateNode=r}else lg(o,e.type,e.stateNode);else e.stateNode=rg(o,r,e.memoizedProps);else h!==r?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,r===null?lg(o,e.type,e.stateNode):rg(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Uu(e,e.memoizedProps,i.memoizedProps)}break;case 27:jt(t,e),Ct(e),r&512&&(nt||i===null||fn(i,i.return)),i!==null&&r&4&&Uu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(jt(t,e),Ct(e),r&512&&(nt||i===null||fn(i,i.return)),e.flags&32){o=e.stateNode;try{Zi(o,"")}catch(J){De(e,e.return,J)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Uu(e,o,i!==null?i.memoizedProps:o)),r&1024&&(zu=!0);break;case 6:if(jt(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(J){De(e,e.return,J)}}break;case 3:if(ll=null,o=sn,sn=rl(t.containerInfo),jt(t,e),sn=o,Ct(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{js(t.containerInfo)}catch(J){De(e,e.return,J)}zu&&(zu=!1,lp(e));break;case 4:r=sn,sn=rl(e.stateNode.containerInfo),jt(t,e),Ct(e),sn=r;break;case 12:jt(t,e),Ct(e);break;case 31:jt(t,e),Ct(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ya(e,r)));break;case 13:jt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ia=bt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ya(e,r)));break;case 22:o=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,x=Cn,B=nt;if(Cn=x||o,nt=B||T,jt(t,e),nt=B,Cn=x,Ct(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||T||Cn||nt||xi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(h=T.stateNode,o)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=T.stateNode;var L=T.memoizedProps.style,N=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(J){De(T,T.return,J)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=o?"":T.memoizedProps}catch(J){De(T,T.return,J)}}}else if(t.tag===18){if(i===null){T=t;try{var U=T.stateNode;o?Qp(U,!0):Qp(T.stateNode,!1)}catch(J){De(T,T.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Ya(e,i))));break;case 19:jt(t,e),Ct(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ya(e,r)));break;case 30:break;case 21:break;default:jt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Fd(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var o=i.stateNode,h=Mu(e);Pa(e,h,o);break;case 5:var p=i.stateNode;i.flags&32&&(Zi(p,""),i.flags&=-33);var v=Mu(e);Pa(e,v,p);break;case 3:case 4:var T=i.stateNode.containerInfo,x=Mu(e);Bu(e,x,T);break;default:throw Error(a(161))}}catch(B){De(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;lp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tp(e,t.alternate,t),t=t.sibling}function xi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),xi(t);break;case 1:fn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Qd(t,t.return,i),xi(t);break;case 27:Dr(t.stateNode);case 26:case 5:fn(t,t.return),xi(t);break;case 22:t.memoizedState===null&&xi(t);break;case 30:xi(t);break;default:xi(t)}e=e.sibling}}function Nn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,h=t,p=h.flags;switch(h.tag){case 0:case 11:case 15:Nn(o,h,i),Er(4,h);break;case 1:if(Nn(o,h,i),r=h,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(x){De(r,r.return,x)}if(r=h,o=r.updateQueue,o!==null){var v=r.stateNode;try{var T=o.shared.hiddenCallbacks;if(T!==null)for(o.shared.hiddenCallbacks=null,o=0;o<T.length;o++)qf(T[o],v)}catch(x){De(r,r.return,x)}}i&&p&64&&Jd(h),Tr(h,h.return);break;case 27:Wd(h);case 26:case 5:Nn(o,h,i),i&&r===null&&p&4&&Zd(h),Tr(h,h.return);break;case 12:Nn(o,h,i);break;case 31:Nn(o,h,i),i&&p&4&&sp(o,h);break;case 13:Nn(o,h,i),i&&p&4&&rp(o,h);break;case 22:h.memoizedState===null&&Nn(o,h,i),Tr(h,h.return);break;case 30:break;default:Nn(o,h,i)}t=t.sibling}}function qu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&cr(i))}function Lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e))}function rn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(e,t,i,r),t=t.sibling}function op(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:rn(e,t,i,r),o&2048&&Er(9,t);break;case 1:rn(e,t,i,r);break;case 3:rn(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e)));break;case 12:if(o&2048){rn(e,t,i,r),e=t.stateNode;try{var h=t.memoizedProps,p=h.id,v=h.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){De(t,t.return,T)}}else rn(e,t,i,r);break;case 31:rn(e,t,i,r);break;case 13:rn(e,t,i,r);break;case 23:break;case 22:h=t.stateNode,p=t.alternate,t.memoizedState!==null?h._visibility&2?rn(e,t,i,r):Ar(e,t):h._visibility&2?rn(e,t,i,r):(h._visibility|=2,ms(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&qu(p,t);break;case 24:rn(e,t,i,r),o&2048&&Lu(t.alternate,t);break;default:rn(e,t,i,r)}}function ms(e,t,i,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,p=t,v=i,T=r,x=p.flags;switch(p.tag){case 0:case 11:case 15:ms(h,p,v,T,o),Er(8,p);break;case 23:break;case 22:var B=p.stateNode;p.memoizedState!==null?B._visibility&2?ms(h,p,v,T,o):Ar(h,p):(B._visibility|=2,ms(h,p,v,T,o)),o&&x&2048&&qu(p.alternate,p);break;case 24:ms(h,p,v,T,o),o&&x&2048&&Lu(p.alternate,p);break;default:ms(h,p,v,T,o)}t=t.sibling}}function Ar(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Ar(i,r),o&2048&&qu(r.alternate,r);break;case 24:Ar(i,r),o&2048&&Lu(r.alternate,r);break;default:Ar(i,r)}t=t.sibling}}var Or=8192;function vs(e,t,i){if(e.subtreeFlags&Or)for(e=e.child;e!==null;)up(e,t,i),e=e.sibling}function up(e,t,i){switch(e.tag){case 26:vs(e,t,i),e.flags&Or&&e.memoizedState!==null&&W0(i,sn,e.memoizedState,e.memoizedProps);break;case 5:vs(e,t,i);break;case 3:case 4:var r=sn;sn=rl(e.stateNode.containerInfo),vs(e,t,i),sn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Or,Or=16777216,vs(e,t,i),Or=r):vs(e,t,i));break;default:vs(e,t,i)}}function cp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];ut=r,fp(r,e)}cp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hp(e),e=e.sibling}function hp(e){switch(e.tag){case 0:case 11:case 15:Rr(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:Rr(e);break;case 12:Rr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ka(e)):Rr(e);break;default:Rr(e)}}function Ka(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];ut=r,fp(r,e)}cp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),Ka(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Ka(t));break;default:Ka(t)}e=e.sibling}}function fp(e,t){for(;ut!==null;){var i=ut;switch(i.tag){case 0:case 11:case 15:Zn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:cr(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,ut=r;else e:for(i=e;ut!==null;){r=ut;var o=r.sibling,h=r.return;if(np(r),r===i){ut=null;break e}if(o!==null){o.return=h,ut=o;break e}ut=h}}}var p0={getCacheForType:function(e){var t=pt(We),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return pt(We).controller.signal}},g0=typeof WeakMap=="function"?WeakMap:Map,Ce=0,ze=null,ge=null,me=0,Ne=0,Lt=null,Fn=!1,_s=!1,Hu=!1,Dn=0,Je=0,Wn=0,Ni=0,$u=0,Ht=0,bs=0,jr=null,kt=null,Vu=!1,Ia=0,dp=0,Xa=1/0,Ja=null,ei=null,lt=0,ti=null,ws=null,Un=0,Gu=0,Pu=null,pp=null,Cr=0,Yu=null;function $t(){return(Ce&2)!==0&&me!==0?me&-me:z.T!==null?Zu():Ch()}function gp(){if(Ht===0)if((me&536870912)===0||_e){var e=di;di<<=1,(di&3932160)===0&&(di=262144),Ht=e}else Ht=536870912;return e=zt.current,e!==null&&(e.flags|=32),Ht}function xt(e,t,i){(e===ze&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Ss(e,0),ni(e,me,Ht,!1)),Qs(e,i),((Ce&2)===0||e!==ze)&&(e===ze&&((Ce&2)===0&&(Ni|=i),Je===4&&ni(e,me,Ht,!1)),dn(e))}function yp(e,t,i){if((Ce&6)!==0)throw Error(a(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Js(e,t),o=r?v0(e,t):Iu(e,t,!0),h=r;do{if(o===0){_s&&!r&&ni(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!y0(i)){o=Iu(e,t,!1),h=!1;continue}if(o===2){if(h=t,e.errorRecoveryDisabledLanes&h)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;o=jr;var T=v.current.memoizedState.isDehydrated;if(T&&(Ss(v,p).flags|=256),p=Iu(v,p,!1),p!==2){if(Hu&&!T){v.errorRecoveryDisabledLanes|=h,Ni|=h,o=4;break e}h=kt,kt=o,h!==null&&(kt===null?kt=h:kt.push.apply(kt,h))}o=p}if(h=!1,o!==2)continue}}if(o===1){Ss(e,0),ni(e,t,0,!0);break}e:{switch(r=e,h=o,h){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:ni(r,t,Ht,!Fn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(o=Ia+300-bt(),10<o)){if(ni(r,t,Ht,!Fn),ra(r,0,!0)!==0)break e;Un=t,r.timeoutHandle=Ip(mp.bind(null,r,i,kt,Ja,Vu,t,Ht,Ni,bs,Fn,h,"Throttled",-0,0),o);break e}mp(r,i,kt,Ja,Vu,t,Ht,Ni,bs,Fn,h,null,-0,0)}}break}while(!0);dn(e)}function mp(e,t,i,r,o,h,p,v,T,x,B,L,N,U){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},up(t,h,L);var J=(h&62914560)===h?Ia-bt():(h&4194048)===h?dp-bt():0;if(J=e_(L,J),J!==null){Un=h,e.cancelPendingCommit=J(Ap.bind(null,e,t,h,i,r,o,p,v,T,B,L,null,N,U)),ni(e,h,p,!x);return}}Ap(e,t,h,i,r,o,p,v,T)}function y0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],h=o.getSnapshot;o=o.value;try{if(!Mt(h(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t,i,r){t&=~$u,t&=~Ni,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var h=31-Ie(o),p=1<<h;r[h]=-1,o&=~p}i!==0&&Oh(e,i,t)}function Qa(){return(Ce&6)===0?(kr(0),!1):!0}function Ku(){if(ge!==null){if(Ne===0)var e=ge.return;else e=ge,En=Ei=null,ou(e),fs=null,fr=0,e=ge;for(;e!==null;)Xd(e.alternate,e),e=e.return;ge=null}}function Ss(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,B0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Un=0,Ku(),ze=e,ge=i=wn(e.current,null),me=t,Ne=0,Lt=null,Fn=!1,_s=Js(e,t),Hu=!1,bs=Ht=$u=Ni=Wn=Je=0,kt=jr=null,Vu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Ie(r),h=1<<o;t|=e[o],r&=~h}return Dn=t,ma(),i}function vp(e,t){ce=null,z.H=br,t===hs||t===Aa?(t=Uf(),Ne=3):t===Qo?(t=Uf(),Ne=4):Ne=t===Tu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Lt=t,ge===null&&(Je=1,La(e,Kt(t,e.current)))}function _p(){var e=zt.current;return e===null?!0:(me&4194048)===me?Qt===null:(me&62914560)===me||(me&536870912)!==0?e===Qt:!1}function bp(){var e=z.H;return z.H=br,e===null?br:e}function wp(){var e=z.A;return z.A=p0,e}function Za(){Je=4,Fn||(me&4194048)!==me&&zt.current!==null||(_s=!0),(Wn&134217727)===0&&(Ni&134217727)===0||ze===null||ni(ze,me,Ht,!1)}function Iu(e,t,i){var r=Ce;Ce|=2;var o=bp(),h=wp();(ze!==e||me!==t)&&(Ja=null,Ss(e,t)),t=!1;var p=Je;e:do try{if(Ne!==0&&ge!==null){var v=ge,T=Lt;switch(Ne){case 8:Ku(),p=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var x=Ne;if(Ne=0,Lt=null,Es(e,v,T,x),i&&_s){p=0;break e}break;default:x=Ne,Ne=0,Lt=null,Es(e,v,T,x)}}m0(),p=Je;break}catch(B){vp(e,B)}while(!0);return t&&e.shellSuspendCounter++,En=Ei=null,Ce=r,z.H=o,z.A=h,ge===null&&(ze=null,me=0,ma()),p}function m0(){for(;ge!==null;)Sp(ge)}function v0(e,t){var i=Ce;Ce|=2;var r=bp(),o=wp();ze!==e||me!==t?(Ja=null,Xa=bt()+500,Ss(e,t)):_s=Js(e,t);e:do try{if(Ne!==0&&ge!==null){t=ge;var h=Lt;t:switch(Ne){case 1:Ne=0,Lt=null,Es(e,t,h,1);break;case 2:case 9:if(Nf(h)){Ne=0,Lt=null,Ep(t);break}t=function(){Ne!==2&&Ne!==9||ze!==e||(Ne=7),dn(e)},h.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Nf(h)?(Ne=0,Lt=null,Ep(t)):(Ne=0,Lt=null,Es(e,t,h,7));break;case 5:var p=null;switch(ge.tag){case 26:p=ge.memoizedState;case 5:case 27:var v=ge;if(p?og(p):v.stateNode.complete){Ne=0,Lt=null;var T=v.sibling;if(T!==null)ge=T;else{var x=v.return;x!==null?(ge=x,Fa(x)):ge=null}break t}}Ne=0,Lt=null,Es(e,t,h,5);break;case 6:Ne=0,Lt=null,Es(e,t,h,6);break;case 8:Ku(),Je=6;break e;default:throw Error(a(462))}}_0();break}catch(B){vp(e,B)}while(!0);return En=Ei=null,z.H=r,z.A=o,Ce=i,ge!==null?0:(ze=null,me=0,ma(),Je)}function _0(){for(;ge!==null&&!so();)Sp(ge)}function Sp(e){var t=Kd(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,t===null?Fa(e):ge=t}function Ep(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Hd(i,t,t.pendingProps,t.type,void 0,me);break;case 11:t=Hd(i,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:ou(t);default:Xd(i,t),t=ge=wf(t,Dn),t=Kd(i,t,Dn)}e.memoizedProps=e.pendingProps,t===null?Fa(e):ge=t}function Es(e,t,i,r){En=Ei=null,ou(t),fs=null,fr=0;var o=t.return;try{if(l0(e,o,t,i,me)){Je=1,La(e,Kt(i,e.current)),ge=null;return}}catch(h){if(o!==null)throw ge=o,h;Je=1,La(e,Kt(i,e.current)),ge=null;return}t.flags&32768?(_e||r===1?e=!0:_s||(me&536870912)!==0?e=!1:(Fn=e=!0,(r===2||r===9||r===3||r===6)&&(r=zt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Tp(t,e)):Fa(t)}function Fa(e){var t=e;do{if((t.flags&32768)!==0){Tp(t,Fn);return}e=t.return;var i=c0(t.alternate,t,Dn);if(i!==null){ge=i;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Je===0&&(Je=5)}function Tp(e,t){do{var i=h0(e.alternate,e);if(i!==null){i.flags&=32767,ge=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=i}while(e!==null);Je=6,ge=null}function Ap(e,t,i,r,o,h,p,v,T){e.cancelPendingCommit=null;do Wa();while(lt!==0);if((Ce&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(h=t.lanes|t.childLanes,h|=Mo,Fm(e,i,h,p,v,T),e===ze&&(ge=ze=null,me=0),ws=t,ti=e,Un=i,Gu=h,Pu=o,pp=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E0(Vi,function(){return kp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=z.T,z.T=null,o=Y.p,Y.p=2,p=Ce,Ce|=4;try{f0(e,t,i)}finally{Ce=p,Y.p=o,z.T=r}}lt=1,Op(),Rp(),jp()}}function Op(){if(lt===1){lt=0;var e=ti,t=ws,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var r=Y.p;Y.p=2;var o=Ce;Ce|=4;try{ap(t,e);var h=rc,p=ff(e.containerInfo),v=h.focusedElem,T=h.selectionRange;if(p!==v&&v&&v.ownerDocument&&hf(v.ownerDocument.documentElement,v)){if(T!==null&&ko(v)){var x=T.start,B=T.end;if(B===void 0&&(B=x),"selectionStart"in v)v.selectionStart=x,v.selectionEnd=Math.min(B,v.value.length);else{var L=v.ownerDocument||document,N=L&&L.defaultView||window;if(N.getSelection){var U=N.getSelection(),J=v.textContent.length,ne=Math.min(T.start,J),Be=T.end===void 0?ne:Math.min(T.end,J);!U.extend&&ne>Be&&(p=Be,Be=ne,ne=p);var C=cf(v,ne),j=cf(v,Be);if(C&&j&&(U.rangeCount!==1||U.anchorNode!==C.node||U.anchorOffset!==C.offset||U.focusNode!==j.node||U.focusOffset!==j.offset)){var k=L.createRange();k.setStart(C.node,C.offset),U.removeAllRanges(),ne>Be?(U.addRange(k),U.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),U.addRange(k))}}}}for(L=[],U=v;U=U.parentNode;)U.nodeType===1&&L.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var q=L[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}hl=!!sc,rc=sc=null}finally{Ce=o,Y.p=r,z.T=i}}e.current=t,lt=2}}function Rp(){if(lt===2){lt=0;var e=ti,t=ws,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var r=Y.p;Y.p=2;var o=Ce;Ce|=4;try{tp(e,t.alternate,t)}finally{Ce=o,Y.p=r,z.T=i}}lt=3}}function jp(){if(lt===4||lt===3){lt=0,ro();var e=ti,t=ws,i=Un,r=pp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,ws=ti=null,Cp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ei=null),co(i),t=t.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Qe,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=z.T,o=Y.p,Y.p=2,z.T=null;try{for(var h=e.onRecoverableError,p=0;p<r.length;p++){var v=r[p];h(v.value,{componentStack:v.stack})}}finally{z.T=t,Y.p=o}}(Un&3)!==0&&Wa(),dn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===Yu?Cr++:(Cr=0,Yu=e):Cr=0,kr(0)}}function Cp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cr(t)))}function Wa(){return Op(),Rp(),jp(),kp()}function kp(){if(lt!==5)return!1;var e=ti,t=Gu;Gu=0;var i=co(Un),r=z.T,o=Y.p;try{Y.p=32>i?32:i,z.T=null,i=Pu,Pu=null;var h=ti,p=Un;if(lt=0,ws=ti=null,Un=0,(Ce&6)!==0)throw Error(a(331));var v=Ce;if(Ce|=4,hp(h.current),op(h,h.current,p,i),Ce=v,kr(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Qe,h)}catch{}return!0}finally{Y.p=o,z.T=r,Cp(e,t)}}function xp(e,t,i){t=Kt(i,t),t=Eu(e.stateNode,t,2),e=Xn(e,t,2),e!==null&&(Qs(e,2),dn(e))}function De(e,t,i){if(e.tag===3)xp(e,e,i);else for(;t!==null;){if(t.tag===3){xp(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=Kt(i,e),i=Nd(2),r=Xn(t,i,2),r!==null&&(Dd(i,r,t,e),Qs(r,2),dn(r));break}}t=t.return}}function Xu(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new g0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(Hu=!0,o.add(i),e=b0.bind(null,e,t,i),t.then(e,e))}function b0(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ze===e&&(me&i)===i&&(Je===4||Je===3&&(me&62914560)===me&&300>bt()-Ia?(Ce&2)===0&&Ss(e,0):$u|=i,bs===me&&(bs=0)),dn(e)}function Np(e,t){t===0&&(t=Ah()),e=bi(e,t),e!==null&&(Qs(e,t),dn(e))}function w0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Np(e,i)}function S0(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),Np(e,i)}function E0(e,t){return Is(e,t)}var el=null,Ts=null,Ju=!1,tl=!1,Qu=!1,ii=0;function dn(e){e!==Ts&&e.next===null&&(Ts===null?el=Ts=e:Ts=Ts.next=e),tl=!0,Ju||(Ju=!0,A0())}function kr(e,t){if(!Qu&&tl){Qu=!0;do for(var i=!1,r=el;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var h=0;else{var p=r.suspendedLanes,v=r.pingedLanes;h=(1<<31-Ie(42|e)+1)-1,h&=o&~(p&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Bp(r,h))}else h=me,h=ra(r,r===ze?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Js(r,h)||(i=!0,Bp(r,h));r=r.next}while(i);Qu=!1}}function T0(){Dp()}function Dp(){tl=Ju=!1;var e=0;ii!==0&&M0()&&(e=ii);for(var t=bt(),i=null,r=el;r!==null;){var o=r.next,h=Up(r,t);h===0?(r.next=null,i===null?el=o:i.next=o,o===null&&(Ts=i)):(i=r,(e!==0||(h&3)!==0)&&(tl=!0)),r=o}lt!==0&&lt!==5||kr(e),ii!==0&&(ii=0)}function Up(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var p=31-Ie(h),v=1<<p,T=o[p];T===-1?((v&i)===0||(v&r)!==0)&&(o[p]=Zm(v,t)):T<=t&&(e.expiredLanes|=v),h&=~v}if(t=ze,i=me,i=ra(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Xs(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Js(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Xs(r),co(i)){case 2:case 8:i=sa;break;case 32:i=Vi;break;case 268435456:i=le;break;default:i=Vi}return r=Mp.bind(null,e),i=Is(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Xs(r),e.callbackPriority=2,e.callbackNode=null,2}function Mp(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Wa()&&e.callbackNode!==i)return null;var r=me;return r=ra(e,e===ze?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(yp(e,r,t),Up(e,bt()),e.callbackNode!=null&&e.callbackNode===i?Mp.bind(null,e):null)}function Bp(e,t){if(Wa())return null;yp(e,t,!0)}function A0(){z0(function(){(Ce&6)!==0?Is(ia,T0):Dp()})}function Zu(){if(ii===0){var e=us;e===0&&(e=mn,mn<<=1,(mn&261888)===0&&(mn=256)),ii=e}return ii}function zp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function qp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function O0(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var h=zp((o[At]||null).action),p=r.submitter;p&&(t=(t=p[At]||null)?zp(t.formAction):p.getAttribute("formAction"),t!==null&&(h=t,p=null));var v=new da("action","action",null,r,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ii!==0){var T=p?qp(o,p):new FormData(o);mu(i,{pending:!0,data:T,method:o.method,action:h},null,T)}}else typeof h=="function"&&(v.preventDefault(),T=p?qp(o,p):new FormData(o),mu(i,{pending:!0,data:T,method:o.method,action:h},h,T))},currentTarget:o}]})}}for(var Fu=0;Fu<Uo.length;Fu++){var Wu=Uo[Fu],R0=Wu.toLowerCase(),j0=Wu[0].toUpperCase()+Wu.slice(1);nn(R0,"on"+j0)}nn(gf,"onAnimationEnd"),nn(yf,"onAnimationIteration"),nn(mf,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(Pv,"onTransitionRun"),nn(Yv,"onTransitionStart"),nn(Kv,"onTransitionCancel"),nn(vf,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xr));function Lp(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var h=void 0;if(t)for(var p=r.length-1;0<=p;p--){var v=r[p],T=v.instance,x=v.currentTarget;if(v=v.listener,T!==h&&o.isPropagationStopped())break e;h=v,o.currentTarget=x;try{h(o)}catch(B){ya(B)}o.currentTarget=null,h=T}else for(p=0;p<r.length;p++){if(v=r[p],T=v.instance,x=v.currentTarget,v=v.listener,T!==h&&o.isPropagationStopped())break e;h=v,o.currentTarget=x;try{h(o)}catch(B){ya(B)}o.currentTarget=null,h=T}}}}function ye(e,t){var i=t[ho];i===void 0&&(i=t[ho]=new Set);var r=e+"__bubble";i.has(r)||(Hp(t,e,2,!1),i.add(r))}function ec(e,t,i){var r=0;t&&(r|=4),Hp(i,e,r,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function tc(e){if(!e[nl]){e[nl]=!0,Nh.forEach(function(i){i!=="selectionchange"&&(C0.has(i)||ec(i,!1,e),ec(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,ec("selectionchange",!1,t))}}function Hp(e,t,i,r){switch(gg(t)){case 2:var o=i_;break;case 8:o=s_;break;default:o=yc}i=o.bind(null,t,i,e),o=void 0,!wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function nc(e,t,i,r,o){var h=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var v=r.stateNode.containerInfo;if(v===o)break;if(p===4)for(p=r.return;p!==null;){var T=p.tag;if((T===3||T===4)&&p.stateNode.containerInfo===o)return;p=p.return}for(;v!==null;){if(p=Ki(v),p===null)return;if(T=p.tag,T===5||T===6||T===26||T===27){r=h=p;continue e}v=v.parentNode}}r=r.return}Ph(function(){var x=h,B=_o(i),L=[];e:{var N=_f.get(e);if(N!==void 0){var U=da,J=e;switch(e){case"keypress":if(ha(i)===0)break e;case"keydown":case"keyup":U=Sv;break;case"focusin":J="focus",U=Ao;break;case"focusout":J="blur",U=Ao;break;case"beforeblur":case"afterblur":U=Ao;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=cv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Av;break;case gf:case yf:case mf:U=dv;break;case vf:U=Rv;break;case"scroll":case"scrollend":U=ov;break;case"wheel":U=Cv;break;case"copy":case"cut":case"paste":U=gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Jh;break;case"toggle":case"beforetoggle":U=xv}var ne=(t&4)!==0,Be=!ne&&(e==="scroll"||e==="scrollend"),C=ne?N!==null?N+"Capture":null:N;ne=[];for(var j=x,k;j!==null;){var q=j;if(k=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||k===null||C===null||(q=Ws(j,C),q!=null&&ne.push(Nr(j,q,k))),Be)break;j=j.return}0<ne.length&&(N=new U(N,J,null,i,B),L.push({event:N,listeners:ne}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",N&&i!==vo&&(J=i.relatedTarget||i.fromElement)&&(Ki(J)||J[Yi]))break e;if((U||N)&&(N=B.window===B?B:(N=B.ownerDocument)?N.defaultView||N.parentWindow:window,U?(J=i.relatedTarget||i.toElement,U=x,J=J?Ki(J):null,J!==null&&(Be=c(J),ne=J.tag,J!==Be||ne!==5&&ne!==27&&ne!==6)&&(J=null)):(U=null,J=x),U!==J)){if(ne=Ih,q="onMouseLeave",C="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Jh,q="onPointerLeave",C="onPointerEnter",j="pointer"),Be=U==null?N:Fs(U),k=J==null?N:Fs(J),N=new ne(q,j+"leave",U,i,B),N.target=Be,N.relatedTarget=k,q=null,Ki(B)===x&&(ne=new ne(C,j+"enter",J,i,B),ne.target=k,ne.relatedTarget=Be,q=ne),Be=q,U&&J)t:{for(ne=k0,C=U,j=J,k=0,q=C;q;q=ne(q))k++;q=0;for(var W=j;W;W=ne(W))q++;for(;0<k-q;)C=ne(C),k--;for(;0<q-k;)j=ne(j),q--;for(;k--;){if(C===j||j!==null&&C===j.alternate){ne=C;break t}C=ne(C),j=ne(j)}ne=null}else ne=null;U!==null&&$p(L,N,U,ne,!1),J!==null&&Be!==null&&$p(L,Be,J,ne,!0)}}e:{if(N=x?Fs(x):window,U=N.nodeName&&N.nodeName.toLowerCase(),U==="select"||U==="input"&&N.type==="file")var Ae=sf;else if(tf(N))if(rf)Ae=$v;else{Ae=Lv;var Z=qv}else U=N.nodeName,!U||U.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?x&&mo(x.elementType)&&(Ae=sf):Ae=Hv;if(Ae&&(Ae=Ae(e,x))){nf(L,Ae,i,B);break e}Z&&Z(e,N,x),e==="focusout"&&x&&N.type==="number"&&x.memoizedProps.value!=null&&yo(N,"number",N.value)}switch(Z=x?Fs(x):window,e){case"focusin":(tf(Z)||Z.contentEditable==="true")&&(ts=Z,xo=x,lr=null);break;case"focusout":lr=xo=ts=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,df(L,i,B);break;case"selectionchange":if(Gv)break;case"keydown":case"keyup":df(L,i,B)}var he;if(Ro)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else es?Wh(e,i)&&(ve="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ve="onCompositionStart");ve&&(Qh&&i.locale!=="ko"&&(es||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&es&&(he=Yh()):($n=B,So="value"in $n?$n.value:$n.textContent,es=!0)),Z=il(x,ve),0<Z.length&&(ve=new Xh(ve,e,null,i,B),L.push({event:ve,listeners:Z}),he?ve.data=he:(he=ef(i),he!==null&&(ve.data=he)))),(he=Dv?Uv(e,i):Mv(e,i))&&(ve=il(x,"onBeforeInput"),0<ve.length&&(Z=new Xh("onBeforeInput","beforeinput",null,i,B),L.push({event:Z,listeners:ve}),Z.data=he)),O0(L,e,x,i,B)}Lp(L,t)})}function Nr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function il(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=Ws(e,i),o!=null&&r.unshift(Nr(e,o,h)),o=Ws(e,t),o!=null&&r.push(Nr(e,o,h))),e.tag===3)return r;e=e.return}return[]}function k0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $p(e,t,i,r,o){for(var h=t._reactName,p=[];i!==null&&i!==r;){var v=i,T=v.alternate,x=v.stateNode;if(v=v.tag,T!==null&&T===r)break;v!==5&&v!==26&&v!==27||x===null||(T=x,o?(x=Ws(i,h),x!=null&&p.unshift(Nr(i,x,T))):o||(x=Ws(i,h),x!=null&&p.push(Nr(i,x,T)))),i=i.return}p.length!==0&&e.push({event:t,listeners:p})}var x0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function Vp(e){return(typeof e=="string"?e:""+e).replace(x0,`
`).replace(N0,"")}function Gp(e,t){return t=Vp(t),Vp(e)===t}function Me(e,t,i,r,o,h){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Zi(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Zi(e,""+r);break;case"className":la(e,"class",r);break;case"tabIndex":la(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":la(e,i,r);break;case"style":Vh(e,r,h);break;case"data":if(t!=="object"){la(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=ua(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&Me(e,t,"name",o.name,o,null),Me(e,t,"formEncType",o.formEncType,o,null),Me(e,t,"formMethod",o.formMethod,o,null),Me(e,t,"formTarget",o.formTarget,o,null)):(Me(e,t,"encType",o.encType,o,null),Me(e,t,"method",o.method,o,null),Me(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=ua(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=_n);break;case"onScroll":r!=null&&ye("scroll",e);break;case"onScrollEnd":r!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=ua(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":ye("beforetoggle",e),ye("toggle",e),aa(e,"popover",r);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":aa(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=av.get(i)||i,aa(e,i,r))}}function ic(e,t,i,r,o,h){switch(i){case"style":Vh(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Zi(e,r):(typeof r=="number"||typeof r=="bigint")&&Zi(e,""+r);break;case"onScroll":r!=null&&ye("scroll",e);break;case"onScrollEnd":r!=null&&ye("scrollend",e);break;case"onClick":r!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),h=e[At]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,o),typeof r=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):aa(e,i,r)}}}function yt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var r=!1,o=!1,h;for(h in i)if(i.hasOwnProperty(h)){var p=i[h];if(p!=null)switch(h){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Me(e,t,h,p,i,null)}}o&&Me(e,t,"srcSet",i.srcSet,i,null),r&&Me(e,t,"src",i.src,i,null);return;case"input":ye("invalid",e);var v=h=p=o=null,T=null,x=null;for(r in i)if(i.hasOwnProperty(r)){var B=i[r];if(B!=null)switch(r){case"name":o=B;break;case"type":p=B;break;case"checked":T=B;break;case"defaultChecked":x=B;break;case"value":h=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,t));break;default:Me(e,t,r,B,i,null)}}qh(e,h,v,T,x,p,o,!1);return;case"select":ye("invalid",e),r=p=h=null;for(o in i)if(i.hasOwnProperty(o)&&(v=i[o],v!=null))switch(o){case"value":h=v;break;case"defaultValue":p=v;break;case"multiple":r=v;default:Me(e,t,o,v,i,null)}t=h,i=p,e.multiple=!!r,t!=null?Qi(e,!!r,t,!1):i!=null&&Qi(e,!!r,i,!0);return;case"textarea":ye("invalid",e),h=o=r=null;for(p in i)if(i.hasOwnProperty(p)&&(v=i[p],v!=null))switch(p){case"value":r=v;break;case"defaultValue":o=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Me(e,t,p,v,i,null)}Hh(e,r,o,h);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(r=i[T],r!=null))switch(T){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Me(e,t,T,r,i,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(r=0;r<xr.length;r++)ye(xr[r],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in i)if(i.hasOwnProperty(x)&&(r=i[x],r!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Me(e,t,x,r,i,null)}return;default:if(mo(t)){for(B in i)i.hasOwnProperty(B)&&(r=i[B],r!==void 0&&ic(e,t,B,r,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(r=i[v],r!=null&&Me(e,t,v,r,i,null))}function D0(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,p=null,v=null,T=null,x=null,B=null;for(U in i){var L=i[U];if(i.hasOwnProperty(U)&&L!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":T=L;default:r.hasOwnProperty(U)||Me(e,t,U,null,r,L)}}for(var N in r){var U=r[N];if(L=i[N],r.hasOwnProperty(N)&&(U!=null||L!=null))switch(N){case"type":h=U;break;case"name":o=U;break;case"checked":x=U;break;case"defaultChecked":B=U;break;case"value":p=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,t));break;default:U!==L&&Me(e,t,N,U,r,L)}}go(e,p,v,T,x,B,h,o);return;case"select":U=p=v=N=null;for(h in i)if(T=i[h],i.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":U=T;default:r.hasOwnProperty(h)||Me(e,t,h,null,r,T)}for(o in r)if(h=r[o],T=i[o],r.hasOwnProperty(o)&&(h!=null||T!=null))switch(o){case"value":N=h;break;case"defaultValue":v=h;break;case"multiple":p=h;default:h!==T&&Me(e,t,o,h,r,T)}t=v,i=p,r=U,N!=null?Qi(e,!!i,N,!1):!!r!=!!i&&(t!=null?Qi(e,!!i,t,!0):Qi(e,!!i,i?[]:"",!1));return;case"textarea":U=N=null;for(v in i)if(o=i[v],i.hasOwnProperty(v)&&o!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Me(e,t,v,null,r,o)}for(p in r)if(o=r[p],h=i[p],r.hasOwnProperty(p)&&(o!=null||h!=null))switch(p){case"value":N=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(a(91));break;default:o!==h&&Me(e,t,p,o,r,h)}Lh(e,N,U);return;case"option":for(var J in i)if(N=i[J],i.hasOwnProperty(J)&&N!=null&&!r.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Me(e,t,J,null,r,N)}for(T in r)if(N=r[T],U=i[T],r.hasOwnProperty(T)&&N!==U&&(N!=null||U!=null))switch(T){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Me(e,t,T,N,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in i)N=i[ne],i.hasOwnProperty(ne)&&N!=null&&!r.hasOwnProperty(ne)&&Me(e,t,ne,null,r,N);for(x in r)if(N=r[x],U=i[x],r.hasOwnProperty(x)&&N!==U&&(N!=null||U!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,t));break;default:Me(e,t,x,N,r,U)}return;default:if(mo(t)){for(var Be in i)N=i[Be],i.hasOwnProperty(Be)&&N!==void 0&&!r.hasOwnProperty(Be)&&ic(e,t,Be,void 0,r,N);for(B in r)N=r[B],U=i[B],!r.hasOwnProperty(B)||N===U||N===void 0&&U===void 0||ic(e,t,B,N,r,U);return}}for(var C in i)N=i[C],i.hasOwnProperty(C)&&N!=null&&!r.hasOwnProperty(C)&&Me(e,t,C,null,r,N);for(L in r)N=r[L],U=i[L],!r.hasOwnProperty(L)||N===U||N==null&&U==null||Me(e,t,L,N,r,U)}function Pp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var o=i[r],h=o.transferSize,p=o.initiatorType,v=o.duration;if(h&&v&&Pp(p)){for(p=0,v=o.responseEnd,r+=1;r<i.length;r++){var T=i[r],x=T.startTime;if(x>v)break;var B=T.transferSize,L=T.initiatorType;B&&Pp(L)&&(T=T.responseEnd,p+=B*(T<v?1:(v-x)/(T-x)))}if(--r,t+=8*(h+p)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sc=null,rc=null;function sl(e){return e.nodeType===9?e:e.ownerDocument}function Yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lc=null;function M0(){var e=window.event;return e&&e.type==="popstate"?e===lc?!1:(lc=e,!0):(lc=null,!1)}var Ip=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(q0)}:Ip;function q0(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function Jp(e,t){var i=t,r=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(o),js(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Dr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Dr(i);for(var h=i.firstChild;h;){var p=h.nextSibling,v=h.nodeName;h[Zs]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=p}}else i==="body"&&Dr(e.ownerDocument.body);i=o}while(i);js(t)}function Qp(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function oc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":oc(i),fo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function L0(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Zs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function H0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Zt(e.nextSibling),e===null))return null;return e}function Zp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function uc(e){return e.data==="$?"||e.data==="$~"}function cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var hc=null;function Fp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Zt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function eg(e,t,i){switch(t=sl(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Dr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fo(e)}var Ft=new Map,tg=new Set;function rl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=Y.d;Y.d={f:V0,r:G0,D:P0,C:Y0,L:K0,m:I0,X:J0,S:X0,M:Q0};function V0(){var e=Mn.f(),t=Qa();return e||t}function G0(e){var t=Ii(e);t!==null&&t.tag===5&&t.type==="form"?vd(t):Mn.r(e)}var As=typeof document>"u"?null:document;function ng(e,t,i){var r=As;if(r&&typeof t=="string"&&t){var o=Pt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),tg.has(o)||(tg.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),yt(t,"link",e),ot(t),r.head.appendChild(t)))}}function P0(e){Mn.D(e),ng("dns-prefetch",e,null)}function Y0(e,t){Mn.C(e,t),ng("preconnect",e,t)}function K0(e,t,i){Mn.L(e,t,i);var r=As;if(r&&e&&t){var o='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Pt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Pt(i.imageSizes)+'"]')):o+='[href="'+Pt(e)+'"]';var h=o;switch(t){case"style":h=Os(e);break;case"script":h=Rs(e)}Ft.has(h)||(e=w({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Ft.set(h,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Ur(h))||t==="script"&&r.querySelector(Mr(h))||(t=r.createElement("link"),yt(t,"link",e),ot(t),r.head.appendChild(t)))}}function I0(e,t){Mn.m(e,t);var i=As;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Pt(r)+'"][href="'+Pt(e)+'"]',h=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Rs(e)}if(!Ft.has(h)&&(e=w({rel:"modulepreload",href:e},t),Ft.set(h,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Mr(h)))return}r=i.createElement("link"),yt(r,"link",e),ot(r),i.head.appendChild(r)}}}function X0(e,t,i){Mn.S(e,t,i);var r=As;if(r&&e){var o=Xi(r).hoistableStyles,h=Os(e);t=t||"default";var p=o.get(h);if(!p){var v={loading:0,preload:null};if(p=r.querySelector(Ur(h)))v.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Ft.get(h))&&fc(e,i);var T=p=r.createElement("link");ot(T),yt(T,"link",e),T._p=new Promise(function(x,B){T.onload=x,T.onerror=B}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,al(p,t,r)}p={type:"stylesheet",instance:p,count:1,state:v},o.set(h,p)}}}function J0(e,t){Mn.X(e,t);var i=As;if(i&&e){var r=Xi(i).hoistableScripts,o=Rs(e),h=r.get(o);h||(h=i.querySelector(Mr(o)),h||(e=w({src:e,async:!0},t),(t=Ft.get(o))&&dc(e,t),h=i.createElement("script"),ot(h),yt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(o,h))}}function Q0(e,t){Mn.M(e,t);var i=As;if(i&&e){var r=Xi(i).hoistableScripts,o=Rs(e),h=r.get(o);h||(h=i.querySelector(Mr(o)),h||(e=w({src:e,async:!0,type:"module"},t),(t=Ft.get(o))&&dc(e,t),h=i.createElement("script"),ot(h),yt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(o,h))}}function ig(e,t,i,r){var o=(o=fe.current)?rl(o):null;if(!o)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Os(i.href),i=Xi(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Os(i.href);var h=Xi(o).hoistableStyles,p=h.get(e);if(p||(o=o.ownerDocument||o,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,p),(h=o.querySelector(Ur(e)))&&!h._p&&(p.instance=h,p.state.loading=5),Ft.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ft.set(e,i),h||Z0(o,e,i,p.state))),t&&r===null)throw Error(a(528,""));return p}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rs(i),i=Xi(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Os(e){return'href="'+Pt(e)+'"'}function Ur(e){return'link[rel="stylesheet"]['+e+"]"}function sg(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),yt(t,"link",i),ot(t),e.head.appendChild(t))}function Rs(e){return'[src="'+Pt(e)+'"]'}function Mr(e){return"script[async]"+e}function rg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Pt(i.href)+'"]');if(r)return t.instance=r,ot(r),r;var o=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ot(r),yt(r,"style",o),al(r,i.precedence,e),t.instance=r;case"stylesheet":o=Os(i.href);var h=e.querySelector(Ur(o));if(h)return t.state.loading|=4,t.instance=h,ot(h),h;r=sg(i),(o=Ft.get(o))&&fc(r,o),h=(e.ownerDocument||e).createElement("link"),ot(h);var p=h;return p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),yt(h,"link",r),t.state.loading|=4,al(h,i.precedence,e),t.instance=h;case"script":return h=Rs(i.src),(o=e.querySelector(Mr(h)))?(t.instance=o,ot(o),o):(r=i,(o=Ft.get(h))&&(r=w({},i),dc(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),ot(o),yt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,al(r,i.precedence,e));return t.instance}function al(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,h=o,p=0;p<r.length;p++){var v=r[p];if(v.dataset.precedence===t)h=v;else if(h!==o)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function fc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ll=null;function ag(e,t,i){if(ll===null){var r=new Map,o=ll=new Map;o.set(i,r)}else o=ll,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var h=i[o];if(!(h[Zs]||h[ft]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(t)||"";p=e+p;var v=r.get(p);v?v.push(h):r.set(p,[h])}}return r}function lg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function F0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function og(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W0(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Os(r.href),h=t.querySelector(Ur(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ol.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=h,ot(h);return}h=t.ownerDocument||t,r=sg(r),(o=Ft.get(o))&&fc(r,o),h=h.createElement("link"),ot(h);var p=h;p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),yt(h,"link",r),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ol.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var pc=0;function e_(e,t){return e.stylesheets&&e.count===0&&cl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&cl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&pc===0&&(pc=62500*U0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>pc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function ol(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ul=null;function cl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ul=new Map,t.forEach(t_,e),ul=null,ol.call(e))}function t_(e,t){if(!(t.state.loading&4)){var i=ul.get(e);if(i)var r=i.get(null);else{i=new Map,ul.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var p=o[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),r=p)}r&&i.set(null,r)}o=t.instance,p=o.getAttribute("data-precedence"),h=i.get(p)||r,h===r&&i.set(null,o),i.set(p,o),this.count++,r=ol.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),h?h.parentNode.insertBefore(o,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Br={$$typeof:M,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function n_(e,t,i,r,o,h,p,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ug(e,t,i,r,o,h,p,v,T,x,B,L){return e=new n_(e,t,i,p,T,x,B,L,v),t=1,h===!0&&(t|=24),h=Bt(3,null,null,t),e.current=h,h.stateNode=e,t=Io(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:r,isDehydrated:i,cache:t},Zo(h),e}function cg(e){return e?(e=ss,e):ss}function hg(e,t,i,r,o,h){o=cg(o),r.context===null?r.context=o:r.pendingContext=o,r=In(t),r.payload={element:i},h=h===void 0?null:h,h!==null&&(r.callback=h),i=Xn(e,r,t),i!==null&&(xt(i,e,t),pr(i,e,t))}function fg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function gc(e,t){fg(e,t),(e=e.alternate)&&fg(e,t)}function dg(e){if(e.tag===13||e.tag===31){var t=bi(e,67108864);t!==null&&xt(t,e,67108864),gc(e,67108864)}}function pg(e){if(e.tag===13||e.tag===31){var t=$t();t=uo(t);var i=bi(e,t);i!==null&&xt(i,e,t),gc(e,t)}}var hl=!0;function i_(e,t,i,r){var o=z.T;z.T=null;var h=Y.p;try{Y.p=2,yc(e,t,i,r)}finally{Y.p=h,z.T=o}}function s_(e,t,i,r){var o=z.T;z.T=null;var h=Y.p;try{Y.p=8,yc(e,t,i,r)}finally{Y.p=h,z.T=o}}function yc(e,t,i,r){if(hl){var o=mc(r);if(o===null)nc(e,t,r,fl,i),yg(e,r);else if(a_(o,e,t,i,r))r.stopPropagation();else if(yg(e,r),t&4&&-1<r_.indexOf(e)){for(;o!==null;){var h=Ii(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=gi(h.pendingLanes);if(p!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var T=1<<31-Ie(p);v.entanglements[1]|=T,p&=~T}dn(h),(Ce&6)===0&&(Xa=bt()+500,kr(0))}}break;case 31:case 13:v=bi(h,2),v!==null&&xt(v,h,2),Qa(),gc(h,2)}if(h=mc(r),h===null&&nc(e,t,r,fl,i),h===o)break;o=h}o!==null&&r.stopPropagation()}else nc(e,t,r,null,i)}}function mc(e){return e=_o(e),vc(e)}var fl=null;function vc(e){if(fl=null,e=Ki(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=d(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fl=e,null}function gg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ao()){case ia:return 2;case sa:return 8;case Vi:case lo:return 32;case le:return 268435456;default:return 32}default:return 32}}var _c=!1,ri=null,ai=null,li=null,zr=new Map,qr=new Map,oi=[],r_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yg(e,t){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(t.pointerId)}}function Lr(e,t,i,r,o,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:h,targetContainers:[o]},t!==null&&(t=Ii(t),t!==null&&dg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function a_(e,t,i,r,o){switch(t){case"focusin":return ri=Lr(ri,e,t,i,r,o),!0;case"dragenter":return ai=Lr(ai,e,t,i,r,o),!0;case"mouseover":return li=Lr(li,e,t,i,r,o),!0;case"pointerover":var h=o.pointerId;return zr.set(h,Lr(zr.get(h)||null,e,t,i,r,o)),!0;case"gotpointercapture":return h=o.pointerId,qr.set(h,Lr(qr.get(h)||null,e,t,i,r,o)),!0}return!1}function mg(e){var t=Ki(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,kh(e.priority,function(){pg(i)});return}}else if(t===31){if(t=d(i),t!==null){e.blockedOn=t,kh(e.priority,function(){pg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=mc(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);vo=r,i.target.dispatchEvent(r),vo=null}else return t=Ii(i),t!==null&&dg(t),e.blockedOn=i,!1;t.shift()}return!0}function vg(e,t,i){dl(e)&&i.delete(t)}function l_(){_c=!1,ri!==null&&dl(ri)&&(ri=null),ai!==null&&dl(ai)&&(ai=null),li!==null&&dl(li)&&(li=null),zr.forEach(vg),qr.forEach(vg)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,_c||(_c=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,l_)))}var gl=null;function _g(e){gl!==e&&(gl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){gl===e&&(gl=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(vc(r||i)===null)continue;break}var h=Ii(i);h!==null&&(e.splice(t,3),t-=3,mu(h,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function js(e){function t(T){return pl(T,e)}ri!==null&&pl(ri,e),ai!==null&&pl(ai,e),li!==null&&pl(li,e),zr.forEach(t),qr.forEach(t);for(var i=0;i<oi.length;i++){var r=oi[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<oi.length&&(i=oi[0],i.blockedOn===null);)mg(i),i.blockedOn===null&&oi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],h=i[r+1],p=o[At]||null;if(typeof h=="function")p||_g(i);else if(p){var v=null;if(h&&h.hasAttribute("formAction")){if(o=h,p=h[At]||null)v=p.formAction;else if(vc(o)!==null)continue}else v=p.action;typeof v=="function"?i[r+1]=v:(i.splice(r,3),r-=3),_g(i)}}}function bg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return o=p})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function bc(e){this._internalRoot=e}yl.prototype.render=bc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,r=$t();hg(i,r,e,t,null,null)},yl.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hg(e.current,2,null,e,null,null),Qa(),t[Yi]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ch();e={blockedOn:null,target:e,priority:t};for(var i=0;i<oi.length&&t!==0&&t<oi[i].priority;i++);oi.splice(i,0,e),i===0&&mg(e)}};var wg=n.version;if(wg!=="19.2.1")throw Error(a(527,wg,"19.2.1"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var o_={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Qe=ml.inject(o_),Ke=ml}catch{}}return $r.createRoot=function(e,t){if(!u(e))throw Error(a(299));var i=!1,r="",o=jd,h=Cd,p=kd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=ug(e,1,!1,null,null,i,r,null,o,h,p,bg),e[Yi]=t.current,tc(e),new bc(t)},$r.hydrateRoot=function(e,t,i){if(!u(e))throw Error(a(299));var r=!1,o="",h=jd,p=Cd,v=kd,T=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=ug(e,1,!0,t,i??null,r,o,T,h,p,v,bg),t.context=cg(null),i=t.current,r=$t(),r=uo(r),o=In(r),o.callback=null,Xn(i,o,r),i=r,t.current.lanes=i,Qs(t,i),dn(t),e[Yi]=t.current,tc(e),new yl(t)},$r.version="19.2.1",$r}var xg;function b_(){if(xg)return Ec.exports;xg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Ec.exports=__(),Ec.exports}var w_=b_();const S_=["hearts","diamonds","clubs","spades"],E_=[2,3,4,5,6,7,8,9,10,11,12,13,14];function T_(){const l=[];for(const n of S_)for(const s of E_)l.push({suit:n,rank:s,id:`${n}-${s}`,isJoker:!1});return l}function A_(l){const n=[...l];for(let s=n.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[n[s],n[a]]=[n[a],n[s]]}return n}function Vr(l,n){const s=l.slice(0,n),a=l.slice(n);return{drawn:s,remaining:a}}const vy=l=>l===14?14:l;function Qr(l){return l.suit==="joker"}function zs(l,n){const s=[...l],a=s.filter(Qr),u=s.filter(m=>!Qr(m)),c=a.length;if(c>=2){const m=u.length>0?vy(u[0].rank):15;return{type:"ThreeCardFlush",score:n,rankValue:10,kickers:[m]}}const f=m=>{const w=c>0,b=m[0].suit===m[1].suit&&m[1].suit===m[2].suit,_=m.map(P=>P.rank),E=[..._].sort((P,V)=>P-V);let R=!1,A=E[2];E[0]+1===E[1]&&E[1]+1===E[2]?R=!0:E.includes(14)&&E.includes(2)&&E.includes(3)&&(R=!0,A=3);const D=_[0]===_[1]&&_[1]===_[2],H=_[0]===_[1],M=_[1]===_[2],G=_[0]===_[2],Q=D?!1:H||M||G;if(!w&&b&&R){const P=_[0]+1===_[1]&&_[1]+1===_[2],V=_[0]-1===_[1]&&_[1]-1===_[2],de=_[0]===14&&_[1]===2&&_[2]===3,pe=_[0]===3&&_[1]===2&&_[2]===14;if(P||V||de||pe)return{type:"PureStraightFlush",kickers:[A]}}if(D)return{type:"ThreeOfAKind",kickers:[_[0]]};if(b&&R)return{type:"StraightFlush",kickers:[A]};if(!w&&R&&!b){const P=_[0]+1===_[1]&&_[1]+1===_[2],V=_[0]-1===_[1]&&_[1]-1===_[2],de=_[0]===14&&_[1]===2&&_[2]===3,pe=_[0]===3&&_[1]===2&&_[2]===14;if(P||V||de||pe)return{type:"PureStraight",kickers:[A]}}if(b)return{type:"Flush",kickers:E.reverse()};if(!w&&Q&&(H||M)){const P=H?_[0]:_[1],V=H?_[2]:_[0];return{type:"PureOnePair",kickers:[P,V]}}if(R)return{type:"Straight",kickers:[A]};if(Q){let P=0,V=0;return H?(P=_[0],V=_[2]):M?(P=_[1],V=_[0]):(P=_[0],V=_[1]),{type:"OnePair",kickers:[P,V]}}return{type:"HighCard",kickers:E.reverse()}};let d=null;const g=m=>{switch(m){case"ThreeCardFlush":return 10;case"PureStraightFlush":return 9;case"ThreeOfAKind":return 8;case"StraightFlush":return 7;case"PureStraight":return 6;case"Flush":return 5;case"PureOnePair":return 4;case"Straight":return 3;case"OnePair":return 2;case"HighCard":return 1}},y=(m,w)=>{const b=g(m.type),_=g(w.type);if(b!==_)return b-_;for(let E=0;E<Math.max(m.kickers.length,w.kickers.length);E++){const R=m.kickers[E]||0,A=w.kickers[E]||0;if(R!==A)return R-A}return 0};if(c===0){const m=f(s);m&&(d={...m,rankValue:g(m.type)})}else{const m=s.findIndex(Qr),w=["hearts","diamonds","clubs","spades"],b=[2,3,4,5,6,7,8,9,10,11,12,13,14];for(const _ of w)for(const E of b){const R=[...s];R[m]={suit:_,rank:E,id:"sub",isJoker:!1};const A=f(R);if(A){const D={...A,rankValue:g(A.type)};(!d||y(D,d)>0)&&(d=D)}}}if(!d)throw new Error("Failed to evaluate hand");return{type:d.type,score:n,rankValue:d.rankValue,kickers:d.kickers}}function qs(l){const n=[...l],a=n.filter(Qr).length,u=d=>{const g=d.map(E=>vy(E.rank)).sort((E,R)=>E-R),y=d.map(E=>E.suit),m=y.every(E=>E===y[0]);let w=!0;for(let E=0;E<4;E++)if(g[E]+1!==g[E+1]){w=!1;break}!w&&g[4]===14&&g[0]===2&&g[1]===3&&g[2]===4&&g[3]===5&&(w=!0);const b={};g.forEach(E=>b[E]=(b[E]||0)+1);const _=Object.values(b).sort((E,R)=>R-E);if(m&&w&&g[0]===10&&g[4]===14)return{type:"RoyalFlush",kickers:[]};if(m&&w)return{type:"StraightFlush",kickers:[g[4]]};if(_[0]===4){const E=Number(Object.keys(b).find(A=>b[Number(A)]===4)),R=Number(Object.keys(b).find(A=>b[Number(A)]===1));return{type:"FourOfAKind",kickers:[E,R]}}if(_[0]===3&&_[1]===2){const E=Number(Object.keys(b).find(A=>b[Number(A)]===3)),R=Number(Object.keys(b).find(A=>b[Number(A)]===2));return{type:"FullHouse",kickers:[E,R]}}if(m)return{type:"Flush",kickers:g.reverse()};if(w)return g[4]===14&&g[0]===2?{type:"Straight",kickers:[5]}:{type:"Straight",kickers:[g[4]]};if(_[0]===3){const E=Number(Object.keys(b).find(A=>b[Number(A)]===3)),R=g.filter(A=>A!==E).reverse();return{type:"ThreeOfAKind",kickers:[E,...R]}}if(_[0]===2&&_[1]===2){const E=Object.keys(b).filter(A=>b[Number(A)]===2).map(Number).sort((A,D)=>D-A),R=Number(Object.keys(b).find(A=>b[Number(A)]===1));return{type:"TwoPair",kickers:[...E,R]}}if(_[0]===2){const E=Number(Object.keys(b).find(A=>b[Number(A)]===2)),R=g.filter(A=>A!==E).reverse();return{type:"OnePair",kickers:[E,...R]}}return{type:"HighCard",kickers:g.reverse()}},c=d=>{switch(d){case"RoyalFlush":return 10;case"StraightFlush":return 9;case"FourOfAKind":return 8;case"FullHouse":return 7;case"Flush":return 6;case"Straight":return 5;case"ThreeOfAKind":return 4;case"TwoPair":return 3;case"OnePair":return 2;case"HighCard":return 1}},f=(d,g)=>{const y=c(d.type),m=c(g.type);if(y!==m)return y-m;for(let w=0;w<Math.max(d.kickers.length,g.kickers.length);w++){const b=d.kickers[w]||0,_=g.kickers[w]||0;if(b!==_)return b-_}return 0};if(a===0){const d=u(n);if(!d)throw new Error("Evaluation failed");return{type:d.type,score:0,rankValue:c(d.type),kickers:d.kickers}}else{let d=null;const g=n.map((b,_)=>Qr(b)?_:-1).filter(b=>b!==-1),y=["hearts","diamonds","clubs","spades"],m=[2,3,4,5,6,7,8,9,10,11,12,13,14],w=(b,_)=>{if(b>=g.length){const A=u(_);if(A){const D={...A,rankValue:c(A.type)};(!d||f(D,d)>0)&&(d=D)}return}const E=g[b],R=[..._];for(const A of y)for(const D of m)R[E]={suit:A,rank:D,id:"sub",isJoker:!1},w(b+1,R)};if(w(0,[...n]),!d)throw new Error("Evaluation failed");return{type:d.type,score:0,rankValue:d.rankValue,kickers:d.kickers}}}function Ng(l){switch(l){case"RoyalFlush":return 1e3;case"StraightFlush":return 16;case"FourOfAKind":return 14;case"FullHouse":return 12;case"Straight":return 10;case"Flush":return 8;case"ThreeOfAKind":return 6;case"TwoPair":return 4;case"OnePair":return 2;case"HighCard":return 0;default:return 0}}function ch(l,n){let s=Ng(l.type),a=Ng(n.type);if(l.rankValue===n.rankValue){let u=!1,c=!1;for(let f=0;f<Math.max(l.kickers.length,n.kickers.length);f++){const d=l.kickers[f]||0,g=n.kickers[f]||0;if(d>g){u=!0;break}if(g>d){c=!0;break}}u?s+=1:c&&(a+=1)}return{p1Score:s,p2Score:a}}const Ll={id:"",hand:[],board:Array(3).fill(null).map(()=>Array(5).fill(null)),dice:[],score:0,hiddenCardsCount:0,bonusesClaimed:0},qn={players:[{...Ll,id:"p1"},{...Ll,id:"p2"}],currentPlayerIndex:0,phase:"setup",deck:[],turnCount:0,winner:null};function O_(l,n){switch(n.type){case"START_GAME":{const s=A_(T_()),{drawn:a,remaining:u}=Vr(s,4),{drawn:c,remaining:f}=Vr(u,4),d=n.payload?.initialDice?n.payload.initialDice:Array.from({length:5},()=>Math.floor(Math.random()*6)+1).sort((y,m)=>m-y),g=Math.floor(Math.random()*2);return{...qn,phase:"playing",deck:f,currentPlayerIndex:g,players:[{...Ll,id:"p1",hand:a,dice:d},{...Ll,id:"p2",hand:c,dice:d}],turnCount:1}}case"PLACE_AND_DRAW":{const{cardId:s,colIndex:a,isHidden:u}=n.payload,c=l.currentPlayerIndex,f=l.players[c],d=f.hand.findIndex(Ee=>Ee.id===s);if(d===-1)return l;const g=f.hand[d];if(u){if(f.hiddenCardsCount>=3||g.suit==="joker")return l;let Ee=0;for(let Te=0;Te<3;Te++)f.board[Te][a]?.isHidden&&Ee++;if(Ee>=2)return l}let y=-1;for(let Ee=0;Ee<3;Ee++)if(f.board[Ee][a]===null){y=Ee;break}if(y===-1)return l;const m=f.board.map(Ee=>[...Ee]),w={...g,isHidden:u};m[y][a]=w;const b=[...f.hand];b.splice(d,1);const _={...f,board:m,hand:b,hiddenCardsCount:u?f.hiddenCardsCount+1:f.hiddenCardsCount};let E=f.bonusesClaimed,R=0;y===2&&(l.players[c===0?1:0].board[2][a]!==null||(E+=1,R=1));let A=l.deck,D=_.hand;if(R>0){const{drawn:Ee,remaining:Te}=Vr(A,R);A=Te,D=[...D,...Ee]}const{drawn:H,remaining:M}=Vr(A,1);D=[...D,...H];const G={..._,hand:D,bonusesClaimed:E},Q=[...l.players];Q[c]=G;const P=c===0?1:0,V=Q[0].board.every(Ee=>Ee.every(Te=>Te!==null)),de=Q[1].board.every(Ee=>Ee.every(Te=>Te!==null));let pe=l.phase;return V&&de&&(pe="scoring"),{...l,players:Q,deck:M,currentPlayerIndex:P,phase:pe,turnCount:l.turnCount+1}}case"DRAW_CARD":{const s=l.currentPlayerIndex,a=l.players[s],{drawn:u,remaining:c}=Vr(l.deck,1),f=[...l.players];f[s]={...a,hand:[...a.hand,...u]};const d=s===0?1:0,g=f[0].board.every(w=>w.every(b=>b!==null)),y=f[1].board.every(w=>w.every(b=>b!==null));let m=l.phase;return g&&y&&(m="scoring"),{...l,players:f,deck:c,currentPlayerIndex:d,phase:m,turnCount:l.turnCount+1}}case"CALCULATE_SCORE":{let s=l.players[0].score,a=l.players[1].score;const u=l.players[0].board,c=l.players[1].board,f=l.players[0].dice;for(let E=0;E<5;E++){const R=[u[0][E],u[1][E],u[2][E]],A=[c[0][E],c[1][E],c[2][E]],D=zs(R,f[E]),H=zs(A,f[E]);if(D.rankValue>H.rankValue)s+=f[E];else if(H.rankValue>D.rankValue)a+=f[E];else{let M=!1,G=!1;for(let Q=0;Q<Math.max(D.kickers.length,H.kickers.length);Q++){const P=D.kickers[Q]||0,V=H.kickers[Q]||0;if(P>V){M=!0;break}if(V>P){G=!0;break}}M?s+=f[E]:G&&(a+=f[E])}}const d=u[2],g=c[2],y=qs(d),m=qs(g),{p1Score:w,p2Score:b}=ch(y,m);if(y.type==="RoyalFlush")return{...l,winner:"p1",phase:"ended"};if(m.type==="RoyalFlush")return{...l,winner:"p2",phase:"ended"};s+=w,a+=b;const _=s>a?"p1":a>s?"p2":"draw";return{...l,players:[{...l.players[0],score:s},{...l.players[1],score:a}],winner:_,phase:"ended"}}case"SYNC_STATE":return n.payload;default:return l}}const R_={totalGames:0,wins:0,losses:0,draws:0,tripPreference:1,flushPreference:1,straightPreference:1,xHandFocus:1,bonusAggression:1,hidingStrategy:.3},_y="xypoker_ai_learning";function Ql(){try{const l=localStorage.getItem(_y);if(l)return JSON.parse(l)}catch(l){console.error("Failed to load AI learning data:",l)}return{...R_}}function j_(l){try{localStorage.setItem(_y,JSON.stringify(l))}catch(n){console.error("Failed to save AI learning data:",n)}}function C_(l,n=!1){const s=Ql();if(s.totalGames+=1,n)s.draws+=1;else if(l)s.wins+=1,s.tripPreference*=1.05,s.flushPreference*=1.05,s.straightPreference*=1.05,s.xHandFocus*=1.05,s.bonusAggression*=1.05;else{s.losses+=1;const a=[{name:"tripPreference",value:s.tripPreference},{name:"flushPreference",value:s.flushPreference},{name:"straightPreference",value:s.straightPreference},{name:"xHandFocus",value:s.xHandFocus},{name:"bonusAggression",value:s.bonusAggression}];a.sort((f,d)=>f.value-d.value);const u=a[0].name,c=a[a.length-1].name;s[u]*=1.1,s[c]*=.95,s.bonusAggression*=1.08}s.tripPreference=Math.min(Math.max(s.tripPreference,.5),2),s.flushPreference=Math.min(Math.max(s.flushPreference,.5),2),s.straightPreference=Math.min(Math.max(s.straightPreference,.5),2),s.xHandFocus=Math.min(Math.max(s.xHandFocus,.5),2),s.bonusAggression=Math.min(Math.max(s.bonusAggression,.5),2.5),s.hidingStrategy=Math.min(Math.max(s.hidingStrategy,.1),.6),j_(s)}const k_={hearts:"",diamonds:"",clubs:"",spades:"",joker:""},x_={11:"J",12:"Q",13:"K",14:"A",15:"JOKER"},Lc=({card:l,onClick:n,isSelected:s,isPlayable:a,isPeeking:u,isHidden:c,onMouseDown:f,onMouseUp:d,onMouseLeave:g,onTouchStart:y,onTouchEnd:m})=>{if((l.isHidden||c)&&!u)return S.jsx("div",{className:`card hidden ${s?"selected":""}`,onClick:n,onMouseDown:f,onMouseUp:d,onMouseLeave:g,onTouchStart:y,onTouchEnd:m,children:S.jsx("div",{className:"card-back"})});const b=l.suit==="joker"?"JOKER":x_[l.rank]||l.rank.toString(),_=k_[l.suit];return S.jsxs("div",{className:`card ${l.suit} ${s?"selected":""} ${a?"playable":""} ${u?"peeking":""}`,onClick:n,onMouseDown:f,onMouseUp:d,onMouseLeave:g,onTouchStart:y,onTouchEnd:m,"data-suit":l.suit,children:[u&&S.jsx("div",{className:"peek-overlay"}),S.jsxs("div",{className:"card-top",children:[S.jsx("span",{className:"rank",children:b}),S.jsx("span",{className:"suit",children:_})]}),S.jsx("div",{className:"card-center",children:_}),S.jsxs("div",{className:"card-bottom",children:[S.jsx("span",{className:"rank",children:b}),S.jsx("span",{className:"suit",children:_})]})]})},by=({value:l,size:n="medium",className:s=""})=>{const a=()=>{const u=[];return(l===1||l===3||l===5)&&u.push(S.jsx("div",{className:"dot center"},"c")),l>=2&&(u.push(S.jsx("div",{className:"dot top-left"},"tl")),u.push(S.jsx("div",{className:"dot bottom-right"},"br"))),l>=4&&(u.push(S.jsx("div",{className:"dot top-right"},"tr")),u.push(S.jsx("div",{className:"dot bottom-left"},"bl"))),l===6&&(u.push(S.jsx("div",{className:"dot middle-left"},"ml")),u.push(S.jsx("div",{className:"dot middle-right"},"mr"))),u};return S.jsx("div",{className:`dice ${n} ${s}`,children:a()})},N_=({playerBoard:l,opponentBoard:n,dice:s,onColumnClick:a,isCurrentPlayer:u,revealAll:c=!1,winningColumns:f,xWinner:d,bottomPlayerId:g="p1"})=>{const[y,m]=ee.useState(null),[w,b]=ee.useState(null),_=(D,H,M)=>{if(D&&(w!==null&&(clearTimeout(w),b(null)),D.isHidden&&!c)){const G=window.setTimeout(()=>{m(D.id)},500);b(G)}},E=(D,H,M)=>{w!==null&&(clearTimeout(w),b(null)),m(null),!D&&u&&a(H)},R=(D,H,M)=>{D&&!D.isHidden&&u&&a(H)},A=Array.from({length:5},(D,H)=>{const M=g==="p1"?"p2":"p1",G=[n[2][H],n[1][H],n[0][H]],Q=[l[0][H],l[1][H],l[2][H]],P=f?f[H]:null,de=P===g?`winning-slot-${g}`:"",Ee=P===M?`winning-slot-${M}`:"",Te=d===M,qe=d===g;return S.jsxs("div",{className:`shared-column ${u?"interactive":""}`,children:[S.jsx("div",{className:"opponent-slots",children:G.map((ke,Ve)=>S.jsx("div",{className:`card-slot opponent-slot ${Ee} ${Te&&Ve===0?"winning-row-x":""}`,children:ke?S.jsx(Lc,{card:c?{...ke,isHidden:!1}:ke}):S.jsx("div",{className:"empty-slot",onClick:()=>u&&a(H)})},`opp-${Ve}`))}),S.jsx("div",{className:"dice-row",children:S.jsx(by,{value:s[H]})}),S.jsx("div",{className:"player-slots",children:Q.map((ke,Ve)=>S.jsx("div",{className:`card-slot player-slot ${qe&&Ve===2?"winning-row-x":""} ${de}`,children:ke?S.jsx(Lc,{card:c?{...ke,isHidden:!1}:ke,isPeeking:y===ke.id,onClick:()=>R(ke,H),onMouseDown:()=>_(ke),onMouseUp:()=>E(ke,H),onMouseLeave:()=>E(ke,H),onTouchStart:()=>_(ke),onTouchEnd:()=>E(ke,H)}):S.jsx("div",{className:"empty-slot",onClick:()=>u&&a(H)})},`pl-${Ve}`))})]},H)});return S.jsx("div",{className:"shared-board",children:A})},D_=({hand:l,selectedCardId:n,onCardSelect:s,isCurrentPlayer:a=!1,isOpponent:u=!1,isHidden:c=!1,onCardClick:f})=>S.jsx("div",{className:`hand ${a?"active":""} ${u?"opponent":""}`,children:l.map(d=>S.jsx("div",{className:"hand-card-wrapper",children:S.jsx(Lc,{card:d,isSelected:n===d.id,onClick:()=>{a&&s?s(d.id):f&&f()},isPlayable:a,isHidden:c})},d.id))}),U_=({gameState:l,isOnlineMode:n=!1,playerRole:s=null,playerName:a="Player 1",opponentName:u="Player 2",onSurrender:c})=>{const{phase:f,currentPlayerIndex:d,players:g,winner:y}=l,m=n&&s==="guest"?1:0,w=a,b=u,_=m===0?w:b,E=m===1?w:b;return S.jsxs("div",{className:"game-info","data-my-index":n?m:0,children:[S.jsxs("div",{className:"status-bar",children:[f==="playing"&&(d===(n?m:0)?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"turn-indicator your-turn",children:"YOUR TURN"}),c&&S.jsx("button",{className:"surrender-btn",onClick:c,children:"Cancel"})]}):S.jsx("div",{className:"turn-indicator opponent-turn",children:n?`${b}'s Turn`:`${E}'s Turn`})),f==="ended"&&S.jsx("div",{className:"winner-banner",children:y==="draw"?"Draw - Tie Game!":`Winner: ${y==="p1"?_:E}!`}),f==="scoring"&&S.jsx("div",{className:"scoring-banner",children:"Scoring Phase..."})]}),S.jsxs("div",{className:"scores",children:[S.jsxs("div",{className:"player-score-row player-1",children:[S.jsxs("span",{className:`score-item ${d===0?"active":""}`,children:[_,": ",g[0].score]}),S.jsxs("span",{className:"bonus-item",children:["Bonuses: ",g[0].bonusesClaimed]})]}),S.jsxs("div",{className:"player-score-row player-2",children:[S.jsxs("span",{className:`score-item ${d===1?"active":""}`,children:[E,": ",g[1].score]}),S.jsxs("span",{className:"bonus-item",children:["Bonuses: ",g[1].bonusesClaimed]})]})]})]})},ct=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),n=l.createOscillator(),s=l.createGain();n.connect(s),s.connect(l.destination),n.frequency.value=800,n.type="sine",s.gain.setValueAtTime(.3,l.currentTime),s.gain.exponentialRampToValueAtTime(.01,l.currentTime+.1),n.start(l.currentTime),n.stop(l.currentTime+.1)}catch(l){console.warn("Audio playback not supported:",l)}},vl=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),n=l.createOscillator(),s=l.createGain();n.connect(s),s.connect(l.destination),n.frequency.setValueAtTime(523.25,l.currentTime),n.frequency.linearRampToValueAtTime(659.25,l.currentTime+.1),n.type="sine",s.gain.setValueAtTime(.3,l.currentTime),s.gain.exponentialRampToValueAtTime(.01,l.currentTime+.3),n.start(l.currentTime),n.stop(l.currentTime+.3)}catch(l){console.warn("Audio playback not supported:",l)}},M_=({gameState:l,onRestart:n,onClose:s,onViewBoard:a,p1Name:u="Player 1",p2Name:c="Player 2",ratingUpdates:f})=>{const{players:d,winner:g}=l,y=d[0],m=d[1],w=d[0].dice,b=M=>M.replace(/([A-Z])/g," $1").trim(),_=Array.from({length:5}).map((M,G)=>{const Q=[y.board[0][G],y.board[1][G],y.board[2][G]],P=[m.board[0][G],m.board[1][G],m.board[2][G]],V=zs(Q,w[G]),de=zs(P,w[G]);let pe="draw";if(V.rankValue>de.rankValue)pe="p1";else if(de.rankValue>V.rankValue)pe="p2";else{let Ee=!1,Te=!1;for(let qe=0;qe<Math.max(V.kickers.length,de.kickers.length);qe++){const ke=V.kickers[qe]||0,Ve=de.kickers[qe]||0;if(ke>Ve){Ee=!0;break}if(Ve>ke){Te=!0;break}}Ee?pe="p1":Te&&(pe="p2")}return{dice:w[G],p1Hand:b(V.type),p2Hand:b(de.type),winner:pe}}),E=qs(y.board[2]),R=qs(m.board[2]),{p1Score:A,p2Score:D}=ch(E,R);let H="draw";return A>D?H="p1":D>A&&(H="p2"),S.jsx("div",{className:"game-result-overlay",children:S.jsxs("div",{className:"game-result-modal",children:[S.jsx("div",{className:"winner-announcement",children:g==="draw"?S.jsx("span",{className:"draw-text",children:"Draw - Tie Game!"}):S.jsxs(S.Fragment,{children:["Winner: ",S.jsx("span",{className:g==="p1"?"p1-text":"p2-text",children:g==="p1"?u:c}),"!"]})}),S.jsxs("div",{className:"results-table",children:[S.jsxs("div",{className:"table-header",children:[S.jsx("div",{children:"Dice"}),S.jsx("div",{children:u}),S.jsx("div",{children:c})]}),_.map((M,G)=>S.jsxs("div",{className:"table-row",children:[S.jsx("div",{className:"dice-val",children:M.dice}),S.jsx("div",{className:`hand-name ${M.winner==="p1"?"p1-text":""}`,children:M.p1Hand}),S.jsx("div",{className:`hand-name ${M.winner==="p2"?"p2-text":""}`,children:M.p2Hand})]},G)),S.jsx("div",{className:"table-divider"}),S.jsxs("div",{className:"table-row x-hand-row",children:[S.jsx("div",{children:"X-Hand"}),S.jsxs("div",{className:`hand-name ${H==="p1"?"p1-text":""}`,children:[b(E.type)," ",S.jsxs("span",{className:"score-detail",children:["(",A,")"]})]}),S.jsxs("div",{className:`hand-name ${H==="p2"?"p2-text":""}`,children:[b(R.type)," ",S.jsxs("span",{className:"score-detail",children:["(",D,")"]})]})]})]}),S.jsxs("div",{className:"final-scores",children:[S.jsxs("div",{className:`score-box p1 ${g==="p1"?"winner-box":""}`,children:[S.jsx("h3",{children:u}),S.jsx("div",{className:"score-val",children:y.score}),S.jsxs("div",{className:"bonus-val",children:["Bonuses: ",y.bonusesClaimed]}),f&&f.p1&&S.jsxs("div",{className:"rating-update",children:[S.jsx("div",{children:"Rating"}),S.jsxs("div",{className:"rating-values",children:[f.p1.old,"  ",S.jsx("span",{className:"rating-new",children:f.p1.new})]}),S.jsxs("div",{className:`rating-change ${f.p1.change>=0?"pos":"neg"}`,children:[f.p1.change>=0?"+":"",f.p1.change]})]})]}),S.jsxs("div",{className:`score-box p2 ${g==="p2"?"winner-box":""}`,children:[S.jsx("h3",{children:c}),S.jsx("div",{className:"score-val",children:m.score}),S.jsxs("div",{className:"bonus-val",children:["Bonuses: ",m.bonusesClaimed]}),f&&f.p2&&S.jsxs("div",{className:"rating-update",children:[S.jsx("div",{children:"Rating"}),S.jsxs("div",{className:"rating-values",children:[f.p2.old,"  ",S.jsx("span",{className:"rating-new",children:f.p2.new})]}),S.jsxs("div",{className:`rating-change ${f.p2.change>=0?"pos":"neg"}`,children:[f.p2.change>=0?"+":"",f.p2.change]})]})]})]}),S.jsxs("div",{className:"button-group",children:[S.jsx("button",{className:"btn-secondary view-board-btn",onClick:()=>{ct(),a()},children:"View Board"}),S.jsx("button",{className:"btn-secondary quit-btn",onClick:()=>{ct(),s()},children:"Back to Lobby"}),S.jsx("button",{className:"btn-primary restart-btn",onClick:()=>{ct(),n()},children:"Play Again"})]})]})})},B_=({onCreateRoom:l,onJoinRoom:n,onQuickMatch:s,onCancelMatchmaking:a,roomId:u,isConnected:c,playerRole:f,playerName:d,onPlayerNameChange:g,rating:y})=>{const[m,w]=ee.useState("");return c?S.jsxs("div",{className:"lobby-container",children:[S.jsx("h2",{children:"Online Multiplayer"}),S.jsxs("div",{className:"name-input-section",children:[S.jsx("label",{htmlFor:"playerName",children:"Your Name:"}),S.jsx("input",{id:"playerName",type:"text",value:d,onChange:b=>g(b.target.value),maxLength:10,placeholder:"Enter your name"}),y!=null&&S.jsxs("div",{className:"player-rating-display",style:{marginTop:"8px",fontSize:"0.9rem",color:"#ffffff",fontWeight:"bold",backgroundColor:"rgba(0, 0, 0, 0.8)",padding:"4px 12px",borderRadius:"12px",display:"inline-block",textShadow:"none"},children:["Your Rating: ",S.jsx("span",{style:{fontSize:"1.1rem"},children:y})]})]}),S.jsxs("div",{className:"quick-match-section",children:[S.jsx("button",{className:"btn-primary btn-large",onClick:()=>{ct(),s()},children:" Quick Match"}),S.jsx("p",{className:"quick-match-hint",children:"Play against a random opponent"})]}),S.jsx("div",{className:"divider",children:S.jsx("span",{children:"OR"})}),u?S.jsxs("div",{className:"waiting-room",children:[S.jsx("h3",{children:f==="host"?"Room Created!":"Joined Room!"}),S.jsxs("div",{className:"room-id-display",children:["Room ID: ",S.jsx("span",{children:u}),f==="host"&&S.jsx("button",{className:"btn-icon copy-btn",onClick:()=>{navigator.clipboard.writeText(u),alert("Room ID copied!")},title:"Copy to Clipboard",children:""})]}),S.jsx("p",{children:f==="host"?"Share this ID with your friend.":"Waiting for game to start..."}),f==="host"&&S.jsx("div",{className:"loading-spinner",children:"Waiting for opponent... Game starts automatically."}),f==="guest"&&S.jsx("div",{className:"loading-spinner",children:"Connected to Room"}),S.jsx("button",{className:"btn-cancel",onClick:()=>{ct(),a()},children:"Cancel"})]}):S.jsxs("div",{className:"lobby-actions",children:[S.jsxs("div",{className:"action-box",children:[S.jsx("h3",{children:"Create Room"}),S.jsx("p",{children:"Start a new game and invite a friend."}),S.jsx("button",{className:"btn-primary",onClick:()=>{ct(),l()},children:"Create Room"})]}),S.jsx("div",{className:"divider",children:"OR"}),S.jsxs("div",{className:"action-box",children:[S.jsx("h3",{children:"Join Room"}),S.jsx("p",{children:"Enter the Room ID to join."}),S.jsx("input",{type:"text",placeholder:"Room ID",value:m,onChange:b=>w(b.target.value),maxLength:4}),S.jsx("button",{className:"btn-secondary",onClick:()=>{ct(),n(m)},disabled:m.length!==4,children:"Join Room"})]})]})]}):S.jsxs("div",{className:"lobby-container",children:[S.jsx("h2",{children:"Online Multiplayer"}),S.jsxs("div",{className:"waiting-room",children:[S.jsx("div",{className:"loading-spinner",children:"Connecting to server..."}),S.jsx("p",{style:{marginTop:"1rem",color:"#888"},children:"Ensure the server is running on port 3001."})]})]})},z_=({targetValues:l,onComplete:n})=>{const[s,a]=ee.useState([1,1,1,1,1]),[u,c]=ee.useState([!0,!0,!0,!0,!0]),[f,d]=ee.useState("ready");return ee.useEffect(()=>{console.log("[DiceRollOverlay] Mounted. Target Values:",l),d("rolling");const g=[],y=[1500,1800,2100,2400,2700];s.forEach((b,_)=>{const E=setInterval(()=>{a(R=>{const A=[...R];return A[_]=Math.floor(Math.random()*6)+1,A})},80);g.push(E),setTimeout(()=>{clearInterval(g[_]),a(R=>{const A=[...R];return A[_]=l[_],A}),c(R=>{const A=[...R];return A[_]=!1,A}),ct()},y[_])});const w=setTimeout(()=>{d("finished"),setTimeout(n,500)},3500);return()=>{g.forEach(clearInterval),clearTimeout(w)}},[]),S.jsx("div",{className:"dice-roll-overlay",children:S.jsxs("div",{className:"dice-roll-content",children:[S.jsx("h2",{className:"dice-roll-title",children:f==="rolling"?"Rolling Dice...":"Battle Start!"}),S.jsx("div",{className:"dice-container-large",children:s.map((g,y)=>S.jsx("div",{className:`rolling-dice ${u[y]?"shaking":"landed"}`,children:S.jsx(by,{value:g,size:"large"})},y))})]})})},q_=({onClose:l})=>S.jsx("div",{className:"rules-overlay",onClick:l,children:S.jsxs("div",{className:"rules-content",onClick:n=>n.stopPropagation(),children:[S.jsx("button",{className:"close-btn",onClick:l,children:""}),S.jsx("h2",{children:'How to Play "XY Poker"'}),S.jsxs("div",{className:"rules-scroll-area",children:[S.jsxs("section",{children:[S.jsx("h3",{children:" Goal"}),S.jsxs("p",{children:["Build the strongest ",S.jsx("strong",{children:"Poker Hands (Rows)"})," and match ",S.jsx("strong",{children:"Dice Values (Columns)"})," to score points. The player with the highest total score wins!"]})]}),S.jsxs("section",{children:[S.jsx("h3",{children:" The Board (3x5 Grid)"}),S.jsx("p",{children:"Each player has a 3x5 grid. You will place cards into this grid."}),S.jsxs("ul",{className:"rules-list",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"X-Axis (Rows):"})," Form 3 Poker Hands (Horizontal)."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Y-Axis (Columns):"})," Match the column's Dice Value (Vertical)."]})]})]}),S.jsxs("section",{children:[S.jsx("h3",{children:" Turn Flow"}),S.jsxs("ol",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Place:"})," Put your selected card into any empty slot on your grid."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Hidden Cards:"})," You can place up to ",S.jsx("strong",{children:"3 cards face down"})," per game. These are revealed at the end, hiding your strategy from the opponent!"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Draw:"})," After placing, you draw a new card automatically."]})]})]}),S.jsxs("section",{children:[S.jsx("h3",{children:" Scoring"}),S.jsxs("div",{className:"score-explanation",children:[S.jsxs("div",{className:"score-item",children:[S.jsx("strong",{children:"Horizontal (Rows):"}),S.jsx("p",{children:"Standard Poker Hands (Royal Flush > Straight Flush > ... > High Card)."}),S.jsx("p",{children:"Points are awarded based on hand strength."})]}),S.jsxs("div",{className:"score-item",children:[S.jsx("strong",{children:"Vertical (Columns):"}),S.jsx("p",{children:"Each column has a Dice Value (1-6)."}),S.jsxs("p",{children:["The player with the ",S.jsx("strong",{children:"stronger vertical hand*"})," wins the column multiplier!"]}),S.jsx("p",{children:S.jsx("small",{children:"*Strength is judged by how well you match the dice (e.g. number of cards matching the dice value)."})})]})]})]}),S.jsxs("section",{children:[S.jsx("h3",{children:" Hand Rankings (Strongest to Weakest)"}),S.jsxs("div",{className:"rankings-grid",children:[S.jsxs("div",{className:"ranking-column",children:[S.jsx("h4",{children:"X-Axis (Horizontal - 5 Cards)"}),S.jsxs("ol",{className:"hand-list",children:[S.jsx("li",{children:"Royal Flush"}),S.jsx("li",{children:"Straight Flush"}),S.jsx("li",{children:"Four of a Kind"}),S.jsx("li",{children:"Full House"}),S.jsx("li",{children:"Flush"}),S.jsx("li",{children:"Straight"}),S.jsx("li",{children:"Three of a Kind"}),S.jsx("li",{children:"Two Pair"}),S.jsx("li",{children:"One Pair"}),S.jsx("li",{children:"High Card"})]})]}),S.jsxs("div",{className:"ranking-column",children:[S.jsx("h4",{children:"Y-Axis (Vertical - 3 Cards)"}),S.jsxs("ol",{className:"hand-list",children:[S.jsxs("li",{children:["Pure Straight Flush ",S.jsx("span",{className:"note",children:"(Ordered)"})]}),S.jsx("li",{children:"Three of a Kind"}),S.jsxs("li",{children:["Straight Flush ",S.jsx("span",{className:"note",children:"(Unordered)"})]}),S.jsxs("li",{children:["Pure Straight ",S.jsx("span",{className:"note",children:"(Ordered)"})]}),S.jsx("li",{children:"Flush"}),S.jsxs("li",{children:["Pure One Pair ",S.jsx("span",{className:"note",children:"(Adjacent)"})]}),S.jsxs("li",{children:["Straight ",S.jsx("span",{className:"note",children:"(Unordered)"})]}),S.jsxs("li",{children:["One Pair ",S.jsx("span",{className:"note",children:"(Split)"})]}),S.jsx("li",{children:"High Card"})]})]})]})]})]})]})}),L_=({timeLeft:l,currentPlayerIndex:n,isMyTurn:s})=>{const a=n===0?"#4da8da":"#ff4d4d";return S.jsxs("div",{className:`turn-timer ${l<=10?"warning":""}`,style:{borderColor:a},children:[S.jsx("div",{className:"timer-label",children:s?"Your Turn":"Opponent's Turn"}),S.jsxs("div",{className:"timer-value",children:[l,"s"]})]})};var Bn={},_l={},Hc=function(l,n){return Hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},Hc(l,n)};function wy(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Hc(l,n);function s(){this.constructor=l}l.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var Hl=function(){return Hl=Object.assign||function(n){for(var s,a=1,u=arguments.length;a<u;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},Hl.apply(this,arguments)};function $s(l,n){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&n.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(l);u<a.length;u++)n.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(l,a[u])&&(s[a[u]]=l[a[u]]);return s}function Sy(l,n,s,a){var u=arguments.length,c=u<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,s):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,n,s,a);else for(var d=l.length-1;d>=0;d--)(f=l[d])&&(c=(u<3?f(c):u>3?f(n,s,c):f(n,s))||c);return u>3&&c&&Object.defineProperty(n,s,c),c}function Ey(l,n){return function(s,a){n(s,a,l)}}function Ty(l,n,s,a,u,c){function f(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var d=a.kind,g=d==="getter"?"get":d==="setter"?"set":"value",y=!n&&l?a.static?l:l.prototype:null,m=n||(y?Object.getOwnPropertyDescriptor(y,a.name):{}),w,b=!1,_=s.length-1;_>=0;_--){var E={};for(var R in a)E[R]=R==="access"?{}:a[R];for(var R in a.access)E.access[R]=a.access[R];E.addInitializer=function(D){if(b)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(D||null))};var A=(0,s[_])(d==="accessor"?{get:m.get,set:m.set}:m[g],E);if(d==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(w=f(A.get))&&(m.get=w),(w=f(A.set))&&(m.set=w),(w=f(A.init))&&u.unshift(w)}else(w=f(A))&&(d==="field"?u.unshift(w):m[g]=w)}y&&Object.defineProperty(y,a.name,m),b=!0}function Ay(l,n,s){for(var a=arguments.length>2,u=0;u<n.length;u++)s=a?n[u].call(l,s):n[u].call(l);return a?s:void 0}function Oy(l){return typeof l=="symbol"?l:"".concat(l)}function Ry(l,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function jy(l,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,n)}function X(l,n,s,a){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function d(m){try{y(a.next(m))}catch(w){f(w)}}function g(m){try{y(a.throw(m))}catch(w){f(w)}}function y(m){m.done?c(m.value):u(m.value).then(d,g)}y((a=a.apply(l,n||[])).next())})}function Cy(l,n){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,u,c,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=d(0),f.throw=d(1),f.return=d(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(m){return g([y,m])}}function g(y){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(s=0)),s;)try{if(a=1,u&&(c=y[0]&2?u.return:y[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,y[1])).done)return c;switch(u=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,u=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){s.label=y[1];break}if(y[0]===6&&s.label<c[1]){s.label=c[1],c=y;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(y);break}c[2]&&s.ops.pop(),s.trys.pop();continue}y=n.call(l,s)}catch(m){y=[6,m],u=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Zl=Object.create?(function(l,n,s,a){a===void 0&&(a=s);var u=Object.getOwnPropertyDescriptor(n,s);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(l,a,u)}):(function(l,n,s,a){a===void 0&&(a=s),l[a]=n[s]});function ky(l,n){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&Zl(n,l,s)}function $l(l){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&l[n],a=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&a>=l.length&&(l=void 0),{value:l&&l[a++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function hh(l,n){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var a=s.call(l),u,c=[],f;try{for(;(n===void 0||n-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(d){f={error:d}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(f)throw f.error}}return c}function xy(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(hh(arguments[n]));return l}function Ny(){for(var l=0,n=0,s=arguments.length;n<s;n++)l+=arguments[n].length;for(var a=Array(l),u=0,n=0;n<s;n++)for(var c=arguments[n],f=0,d=c.length;f<d;f++,u++)a[u]=c[f];return a}function Dy(l,n,s){if(s||arguments.length===2)for(var a=0,u=n.length,c;a<u;a++)(c||!(a in n))&&(c||(c=Array.prototype.slice.call(n,0,a)),c[a]=n[a]);return l.concat(c||Array.prototype.slice.call(n))}function Ls(l){return this instanceof Ls?(this.v=l,this):new Ls(l)}function Uy(l,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s.apply(l,n||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(_){return function(E){return Promise.resolve(E).then(_,w)}}function d(_,E){a[_]&&(u[_]=function(R){return new Promise(function(A,D){c.push([_,R,A,D])>1||g(_,R)})},E&&(u[_]=E(u[_])))}function g(_,E){try{y(a[_](E))}catch(R){b(c[0][3],R)}}function y(_){_.value instanceof Ls?Promise.resolve(_.value.v).then(m,w):b(c[0][2],_)}function m(_){g("next",_)}function w(_){g("throw",_)}function b(_,E){_(E),c.shift(),c.length&&g(c[0][0],c[0][1])}}function My(l){var n,s;return n={},a("next"),a("throw",function(u){throw u}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(u,c){n[u]=l[u]?function(f){return(s=!s)?{value:Ls(l[u](f)),done:!1}:c?c(f):f}:c}}function By(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],s;return n?n.call(l):(l=typeof $l=="function"?$l(l):l[Symbol.iterator](),s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s);function a(c){s[c]=l[c]&&function(f){return new Promise(function(d,g){f=l[c](f),u(d,g,f.done,f.value)})}}function u(c,f,d,g){Promise.resolve(g).then(function(y){c({value:y,done:d})},f)}}function zy(l,n){return Object.defineProperty?Object.defineProperty(l,"raw",{value:n}):l.raw=n,l}var H_=Object.create?(function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}):function(l,n){l.default=n},$c=function(l){return $c=Object.getOwnPropertyNames||function(n){var s=[];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[s.length]=a);return s},$c(l)};function qy(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var s=$c(l),a=0;a<s.length;a++)s[a]!=="default"&&Zl(n,l,s[a]);return H_(n,l),n}function Ly(l){return l&&l.__esModule?l:{default:l}}function Hy(l,n,s,a){if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?l!==n||!a:!n.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?a:s==="a"?a.call(l):a?a.value:n.get(l)}function $y(l,n,s,a,u){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?l!==n||!u:!n.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?u.call(l,s):u?u.value=s:n.set(l,s),s}function Vy(l,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?n===l:l.has(n)}function Gy(l,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var a,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=n[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=n[Symbol.dispose],s&&(u=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");u&&(a=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:n,dispose:a,async:s})}else s&&l.stack.push({async:!0});return n}var $_=typeof SuppressedError=="function"?SuppressedError:function(l,n,s){var a=new Error(s);return a.name="SuppressedError",a.error=l,a.suppressed=n,a};function Py(l){function n(c){l.error=l.hasError?new $_(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var s,a=0;function u(){for(;s=l.stack.pop();)try{if(!s.async&&a===1)return a=0,l.stack.push(s),Promise.resolve().then(u);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return a|=2,Promise.resolve(c).then(u,function(f){return n(f),u()})}else a|=1}catch(f){n(f)}if(a===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()}function Yy(l,n){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,a,u,c,f){return a?n?".jsx":".js":u&&(!c||!f)?s:u+c+"."+f.toLowerCase()+"js"}):l}const V_={__extends:wy,__assign:Hl,__rest:$s,__decorate:Sy,__param:Ey,__esDecorate:Ty,__runInitializers:Ay,__propKey:Oy,__setFunctionName:Ry,__metadata:jy,__awaiter:X,__generator:Cy,__createBinding:Zl,__exportStar:ky,__values:$l,__read:hh,__spread:xy,__spreadArrays:Ny,__spreadArray:Dy,__await:Ls,__asyncGenerator:Uy,__asyncDelegator:My,__asyncValues:By,__makeTemplateObject:zy,__importStar:qy,__importDefault:Ly,__classPrivateFieldGet:Hy,__classPrivateFieldSet:$y,__classPrivateFieldIn:Vy,__addDisposableResource:Gy,__disposeResources:Py,__rewriteRelativeImportExtension:Yy},G_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Gy,get __assign(){return Hl},__asyncDelegator:My,__asyncGenerator:Uy,__asyncValues:By,__await:Ls,__awaiter:X,__classPrivateFieldGet:Hy,__classPrivateFieldIn:Vy,__classPrivateFieldSet:$y,__createBinding:Zl,__decorate:Sy,__disposeResources:Py,__esDecorate:Ty,__exportStar:ky,__extends:wy,__generator:Cy,__importDefault:Ly,__importStar:qy,__makeTemplateObject:zy,__metadata:jy,__param:Ey,__propKey:Oy,__read:hh,__rest:$s,__rewriteRelativeImportExtension:Yy,__runInitializers:Ay,__setFunctionName:Ry,__spread:xy,__spreadArray:Dy,__spreadArrays:Ny,__values:$l,default:V_},Symbol.toStringTag,{value:"Module"})),P_=l=>l?(...n)=>l(...n):(...n)=>fetch(...n);let Fl=class extends Error{constructor(n,s="FunctionsError",a){super(n),this.name=s,this.context=a}},Ky=class extends Fl{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Vc=class extends Fl{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Gc=class extends Fl{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var Vl;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Vl||(Vl={}));class Y_{constructor(n,{headers:s={},customFetch:a,region:u=Vl.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=P_(a)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return X(this,arguments,void 0,function*(s,a={}){var u;let c,f;try{const{headers:d,method:g,body:y,signal:m,timeout:w}=a;let b={},{region:_}=a;_||(_=this.region);const E=new URL(`${this.url}/${s}`);_&&_!=="any"&&(b["x-region"]=_,E.searchParams.set("forceFunctionRegion",_));let R;y&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",R=y):typeof y=="string"?(b["Content-Type"]="text/plain",R=y):typeof FormData<"u"&&y instanceof FormData?R=y:(b["Content-Type"]="application/json",R=JSON.stringify(y)):R=y;let A=m;w&&(f=new AbortController,c=setTimeout(()=>f.abort(),w),m?(A=f.signal,m.addEventListener("abort",()=>f.abort())):A=f.signal);const D=yield this.fetch(E.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:R,signal:A}).catch(Q=>{throw new Ky(Q)}),H=D.headers.get("x-relay-error");if(H&&H==="true")throw new Vc(D);if(!D.ok)throw new Gc(D);let M=((u=D.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),G;return M==="application/json"?G=yield D.json():M==="application/octet-stream"||M==="application/pdf"?G=yield D.blob():M==="text/event-stream"?G=D:M==="multipart/form-data"?G=yield D.formData():G=yield D.text(),{data:G,error:null,response:D}}catch(d){return{data:null,error:d,response:d instanceof Gc||d instanceof Vc?d.context:void 0}}finally{c&&clearTimeout(c)}})}}const K_=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Vl},FunctionsClient:Y_,FunctionsError:Fl,FunctionsFetchError:Ky,FunctionsHttpError:Gc,FunctionsRelayError:Vc},Symbol.toStringTag,{value:"Module"})),Iy=Wr(K_);var St={};const Vs=Wr(G_);var bl={},wl={},Sl={},El={},Tl={},Al={},Dg;function Xy(){if(Dg)return Al;Dg=1,Object.defineProperty(Al,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Al.default=l,Al}var Ug;function Jy(){if(Ug)return Tl;Ug=1,Object.defineProperty(Tl,"__esModule",{value:!0});const n=Vs.__importDefault(Xy());let s=class{constructor(u){var c,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let d=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,m,w,b;let _=null,E=null,R=null,A=g.status,D=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Q=await g.text();Q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?E=Q:E=JSON.parse(Q))}const M=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),G=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");M&&G&&G.length>1&&(R=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(_={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,R=null,A=406,D="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const M=await g.text();try{_=JSON.parse(M),Array.isArray(_)&&g.status===404&&(E=[],_=null,A=200,D="OK")}catch{g.status===404&&M===""?(A=204,D="No Content"):_={message:M}}if(_&&this.isMaybeSingle&&(!((b=_?.details)===null||b===void 0)&&b.includes("0 rows"))&&(_=null,A=200,D="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:E,count:R,status:A,statusText:D}});return this.shouldThrowOnError||(d=d.catch(g=>{var y,m,w,b,_,E;let R="";const A=g?.cause;if(A){const D=(y=A?.message)!==null&&y!==void 0?y:"",H=(m=A?.code)!==null&&m!==void 0?m:"";R=`${(w=g?.name)!==null&&w!==void 0?w:"FetchError"}: ${g?.message}`,R+=`

Caused by: ${(b=A?.name)!==null&&b!==void 0?b:"Error"}: ${D}`,H&&(R+=` (${H})`),A?.stack&&(R+=`
${A.stack}`)}else R=(_=g?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(E=g?.name)!==null&&E!==void 0?E:"FetchError"}: ${g?.message}`,details:R,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(u,c)}returns(){return this}overrideTypes(){return this}};return Tl.default=s,Tl}var Mg;function Qy(){if(Mg)return El;Mg=1,Object.defineProperty(El,"__esModule",{value:!0});const n=Vs.__importDefault(Jy());let s=class extends n.default{select(u){let c=!1;const f=(u??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:f,foreignTable:d,referencedTable:g=d}={}){const y=g?`${g}.order`:"order",m=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${m?`${m},`:""}${u}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:f=c}={}){const d=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(d,`${u}`),this}range(u,c,{foreignTable:f,referencedTable:d=f}={}){const g=typeof d>"u"?"offset":`${d}.offset`,y=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(y,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:f=!1,buffers:d=!1,wal:g=!1,format:y="text"}={}){var m;const w=[u?"analyze":null,c?"verbose":null,f?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${b}"; options=${w};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}};return El.default=s,El}var Bg;function fh(){if(Bg)return Sl;Bg=1,Object.defineProperty(Sl,"__esModule",{value:!0});const n=Vs.__importDefault(Qy()),s=new RegExp("[,()]");let a=class extends n.default{eq(c,f){return this.url.searchParams.append(c,`eq.${f}`),this}neq(c,f){return this.url.searchParams.append(c,`neq.${f}`),this}gt(c,f){return this.url.searchParams.append(c,`gt.${f}`),this}gte(c,f){return this.url.searchParams.append(c,`gte.${f}`),this}lt(c,f){return this.url.searchParams.append(c,`lt.${f}`),this}lte(c,f){return this.url.searchParams.append(c,`lte.${f}`),this}like(c,f){return this.url.searchParams.append(c,`like.${f}`),this}likeAllOf(c,f){return this.url.searchParams.append(c,`like(all).{${f.join(",")}}`),this}likeAnyOf(c,f){return this.url.searchParams.append(c,`like(any).{${f.join(",")}}`),this}ilike(c,f){return this.url.searchParams.append(c,`ilike.${f}`),this}ilikeAllOf(c,f){return this.url.searchParams.append(c,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(c,f){return this.url.searchParams.append(c,`ilike(any).{${f.join(",")}}`),this}regexMatch(c,f){return this.url.searchParams.append(c,`match.${f}`),this}regexIMatch(c,f){return this.url.searchParams.append(c,`imatch.${f}`),this}is(c,f){return this.url.searchParams.append(c,`is.${f}`),this}isDistinct(c,f){return this.url.searchParams.append(c,`isdistinct.${f}`),this}in(c,f){const d=Array.from(new Set(f)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${d})`),this}contains(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cs.{${f.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(f)}`),this}containedBy(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cd.{${f.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(f)}`),this}rangeGt(c,f){return this.url.searchParams.append(c,`sr.${f}`),this}rangeGte(c,f){return this.url.searchParams.append(c,`nxl.${f}`),this}rangeLt(c,f){return this.url.searchParams.append(c,`sl.${f}`),this}rangeLte(c,f){return this.url.searchParams.append(c,`nxr.${f}`),this}rangeAdjacent(c,f){return this.url.searchParams.append(c,`adj.${f}`),this}overlaps(c,f){return typeof f=="string"?this.url.searchParams.append(c,`ov.${f}`):this.url.searchParams.append(c,`ov.{${f.join(",")}}`),this}textSearch(c,f,{config:d,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(c,`${y}fts${m}.${f}`),this}match(c){return Object.entries(c).forEach(([f,d])=>{this.url.searchParams.append(f,`eq.${d}`)}),this}not(c,f,d){return this.url.searchParams.append(c,`not.${f}.${d}`),this}or(c,{foreignTable:f,referencedTable:d=f}={}){const g=d?`${d}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,f,d){return this.url.searchParams.append(c,`${f}.${d}`),this}};return Sl.default=a,Sl}var zg;function Zy(){if(zg)return wl;zg=1,Object.defineProperty(wl,"__esModule",{value:!0});const n=Vs.__importDefault(fh());let s=class{constructor(u,{headers:c={},schema:f,fetch:d}){this.url=u,this.headers=new Headers(c),this.schema=f,this.fetch=d}select(u,c){const{head:f=!1,count:d}=c??{},g=f?"HEAD":"GET";let y=!1;const m=(u??"*").split("").map(w=>/\s/.test(w)&&!y?"":(w==='"'&&(y=!y),w)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:f=!0}={}){var d;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const y=u.reduce((m,w)=>m.concat(Object.keys(w)),[]);if(y.length>0){const m=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",m.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:f=!1,count:d,defaultToNull:g=!0}={}){var y;const m="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),d&&this.headers.append("Prefer",`count=${d}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const w=u.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(w.length>0){const b=[...new Set(w)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(u,{count:c}={}){var f;const d="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var c;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return wl.default=s,wl}var qg;function I_(){if(qg)return bl;qg=1,Object.defineProperty(bl,"__esModule",{value:!0});const l=Vs,n=l.__importDefault(Zy()),s=l.__importDefault(fh());let a=class Fy{constructor(c,{headers:f={},schema:d,fetch:g}={}){this.url=c,this.headers=new Headers(f),this.schemaName=d,this.fetch=g}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new Fy(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:d=!1,get:g=!1,count:y}={}){var m;let w;const b=new URL(`${this.url}/rpc/${c}`);let _;d||g?(w=d?"HEAD":"GET",Object.entries(f).filter(([R,A])=>A!==void 0).map(([R,A])=>[R,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([R,A])=>{b.searchParams.append(R,A)})):(w="POST",_=f);const E=new Headers(this.headers);return y&&E.set("Prefer",`count=${y}`),new s.default({method:w,url:b,headers:E,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return bl.default=a,bl}var Lg;function Wy(){if(Lg)return St;Lg=1,Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const l=Vs,n=l.__importDefault(I_());St.PostgrestClient=n.default;const s=l.__importDefault(Zy());St.PostgrestQueryBuilder=s.default;const a=l.__importDefault(fh());St.PostgrestFilterBuilder=a.default;const u=l.__importDefault(Qy());St.PostgrestTransformBuilder=u.default;const c=l.__importDefault(Jy());St.PostgrestBuilder=c.default;const f=l.__importDefault(Xy());return St.PostgrestError=f.default,St.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:f.default},St}class em{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,u=parseInt(a.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const a=this.getWebSocketConstructor();return new a(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const X_="2.87.1",J_=`realtime-js/${X_}`,tm="1.0.0",Q_="2.0.0",Hg=tm,Pc=1e4,Z_=1e3,F_=100;var qi;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(qi||(qi={}));var it;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(it||(it={}));var on;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(on||(on={}));var Yc;(function(l){l.websocket="websocket"})(Yc||(Yc={}));var Li;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Li||(Li={}));class W_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let a=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,a;const u=(a=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var s,a;const u=(a=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,a){var u,c;const f=n.topic,d=(u=n.ref)!==null&&u!==void 0?u:"",g=(c=n.join_ref)!==null&&c!==void 0?c:"",y=n.payload.event,m=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},w=Object.keys(m).length===0?"":JSON.stringify(m);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+d.length+f.length+y.length+w.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(_),R=0;E.setUint8(R++,this.KINDS.userBroadcastPush),E.setUint8(R++,g.length),E.setUint8(R++,d.length),E.setUint8(R++,f.length),E.setUint8(R++,y.length),E.setUint8(R++,w.length),E.setUint8(R++,s),Array.from(g,D=>E.setUint8(R++,D.charCodeAt(0))),Array.from(d,D=>E.setUint8(R++,D.charCodeAt(0))),Array.from(f,D=>E.setUint8(R++,D.charCodeAt(0))),Array.from(y,D=>E.setUint8(R++,D.charCodeAt(0))),Array.from(w,D=>E.setUint8(R++,D.charCodeAt(0)));var A=new Uint8Array(_.byteLength+a.byteLength);return A.set(new Uint8Array(_),0),A.set(new Uint8Array(a),_.byteLength),A.buffer}decode(n,s){if(this._isArrayBuffer(n)){let a=this._binaryDecode(n);return s(a)}if(typeof n=="string"){const a=JSON.parse(n),[u,c,f,d,g]=a;return s({join_ref:u,ref:c,topic:f,event:d,payload:g})}return s({})}_binaryDecode(n){const s=new DataView(n),a=s.getUint8(0),u=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,u)}}_decodeUserBroadcast(n,s,a){const u=s.getUint8(1),c=s.getUint8(2),f=s.getUint8(3),d=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=a.decode(n.slice(g,g+u));g=g+u;const m=a.decode(n.slice(g,g+c));g=g+c;const w=a.decode(n.slice(g,g+f));g=g+f;const b=n.slice(g,n.byteLength),_=d===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,E={type:this.BROADCAST_EVENT,event:m,payload:_};return f>0&&(E.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([a])=>s.includes(a)))}}class nm{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Le||(Le={}));const $g=(l,n,s={})=>{var a;const u=(a=s.skipTypes)!==null&&a!==void 0?a:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=eb(f,l,n,u),c),{}):{}},eb=(l,n,s,a)=>{const u=n.find(d=>d.name===l),c=u?.type,f=s[l];return c&&!a.includes(c)?im(c,f):Kc(f)},im=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return sb(n,s)}switch(l){case Le.bool:return tb(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return nb(n);case Le.json:case Le.jsonb:return ib(n);case Le.timestamp:return rb(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Kc(n);default:return Kc(n)}},Kc=l=>l,tb=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},nb=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},ib=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},sb=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,a=l[s];if(l[0]==="{"&&a==="}"){let c;const f=l.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(d=>im(n,d))}return l},rb=l=>typeof l=="string"?l.replace(" ","T"):l,sm=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Rc{constructor(n,s,a={},u=Pc){this.channel=n,this.event=s,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var a;return this._hasReceived(n)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(a=>a.status===n).forEach(a=>a.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ic;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Ic||(Ic={}));let rm=class xl{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:c,onLeave:f,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xl.syncState(this.state,u,c,f),this.pendingDiffs.forEach(g=>{this.state=xl.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},u=>{const{onJoin:c,onLeave:f,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=xl.syncDiff(this.state,u,c,f),d())}),this.onJoin((u,c,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:f})}),this.onLeave((u,c,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,a,u){const c=this.cloneDeep(n),f=this.transformState(s),d={},g={};return this.map(c,(y,m)=>{f[y]||(g[y]=m)}),this.map(f,(y,m)=>{const w=c[y];if(w){const b=m.map(A=>A.presence_ref),_=w.map(A=>A.presence_ref),E=m.filter(A=>_.indexOf(A.presence_ref)<0),R=w.filter(A=>b.indexOf(A.presence_ref)<0);E.length>0&&(d[y]=E),R.length>0&&(g[y]=R)}else d[y]=m}),this.syncDiff(c,{joins:d,leaves:g},a,u)}static syncDiff(n,s,a,u){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(c,(d,g)=>{var y;const m=(y=n[d])!==null&&y!==void 0?y:[];if(n[d]=this.cloneDeep(g),m.length>0){const w=n[d].map(_=>_.presence_ref),b=m.filter(_=>w.indexOf(_.presence_ref)<0);n[d].unshift(...b)}a(d,m,g)}),this.map(f,(d,g)=>{let y=n[d];if(!y)return;const m=g.map(w=>w.presence_ref);y=y.filter(w=>m.indexOf(w.presence_ref)<0),n[d]=y,u(d,y,g),y.length===0&&delete n[d]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(a=>s(a,n[a]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,a)=>{const u=n[a];return"metas"in u?s[a]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Xc;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Xc||(Xc={}));var Ms;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ms||(Ms={}));var pn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));const ab=it;let am=class Kr{constructor(n,s={config:{}},a){var u,c;if(this.topic=n,this.params=s,this.socket=a,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Rc(this,on.join,this.params,this.timeout),this.rejoinTimer=new nm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(f,d)=>{this._trigger(this._replyEventName(d),f)}),this.presence=new rm(this),this.broadcastEndpointURL=sm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var a,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:f,presence:d,private:g}}=this.params,y=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&u!==void 0?u:[],m=!!this.bindings[Ms.PRESENCE]&&this.bindings[Ms.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},b={broadcast:f,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(_=>n?.(pn.CHANNEL_ERROR,_)),this._onClose(()=>n?.(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){n?.(pn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,A=(E=R?.length)!==null&&E!==void 0?E:0,D=[];for(let H=0;H<A;H++){const M=R[H],{filter:{event:G,schema:Q,table:P,filter:V}}=M,de=_&&_[H];if(de&&de.event===G&&Kr.isFilterValueEqual(de.schema,Q)&&Kr.isFilterValueEqual(de.table,P)&&Kr.isFilterValueEqual(de.filter,V))D.push(Object.assign(Object.assign({},M),{id:de.id}));else{this.unsubscribe(),this.state=it.errored,n?.(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,n&&n(pn.SUBSCRIBED);return}}).receive("error",_=>{this.state=it.errored,n?.(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n?.(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,a){return this.state===it.joined&&n===Ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,a)}async httpSend(n,s,a={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=a.timeout)!==null&&u!==void 0?u:this.timeout);if(d.status===202)return{success:!0};let g=d.statusText;try{const y=await d.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(n,s={}){var a,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,d,g;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(d=(f=this.params)===null||f===void 0?void 0:f.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=it.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new Rc(this,on.leave,{},n),a.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(n,s,a){const u=new AbortController,c=setTimeout(()=>u.abort(),a),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),f}_push(n,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Rc(this,n,s,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>F_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,a){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,a){var u,c;const f=n.toLocaleLowerCase(),{close:d,error:g,leave:y,join:m}=on;if(a&&[d,g,y,m].indexOf(f)>=0&&a!==this._joinRef())return;let b=this._onMessage(f,s,a);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(_=>{var E,R,A;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((A=(R=_.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===f}).map(_=>_.callback(b,a)):(c=this.bindings[f])===null||c===void 0||c.filter(_=>{var E,R,A,D,H,M;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const G=_.id,Q=(E=_.filter)===null||E===void 0?void 0:E.event;return G&&((R=s.ids)===null||R===void 0?void 0:R.includes(G))&&(Q==="*"||Q?.toLocaleLowerCase()===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const G=(H=(D=_?.filter)===null||D===void 0?void 0:D.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return G==="*"||G===((M=s?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:R,table:A,commit_timestamp:D,type:H,errors:M}=E;b=Object.assign(Object.assign({},{schema:R,table:A,commit_timestamp:D,eventType:H,new:{},old:{},errors:M}),this._getPayloadRecords(E))}_.callback(b,a)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,a){const u=n.toLocaleLowerCase(),c={type:u,filter:s,callback:a};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,s){const a=n.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Kr.isEqual(u.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const a in n)if(n[a]!==s[a])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(on.close,{},n)}_onError(n){this._on(on.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=$g(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=$g(n.columns,n.old_record)),s}};const jc=()=>{},Ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lb=[1e3,2e3,5e3,1e4],ob=1e4,ub=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let cb=class{constructor(n,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pc,this.transport=null,this.heartbeatIntervalMs=Ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jc,this.ref=0,this.reconnectTimer=null,this.vsn=Hg,this.logger=jc,this.conn=null,this.sendBuffer=[],this.serializer=new W_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Yc.websocket}`,this.httpEndpoint=sm(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=em.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,a){this.logger(n,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case qi.connecting:return Li.Connecting;case qi.open:return Li.Open;case qi.closing:return Li.Closing;default:return Li.Closed}}isConnected(){return this.connectionState()===Li.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const a=`realtime:${n}`,u=this.getChannels().find(c=>c.topic===a);if(u)return u;{const c=new am(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:a,payload:u,ref:c}=n,f=()=>{this.encode(n,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${s} ${a} (${c})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Z_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(a=>a.topic===n&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:u,payload:c,ref:f}=s,d=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${a} ${u} ${d}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(u,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===qi.open||this.conn.readyState===qi.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(on.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const a=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${a}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const a=new Blob([ub],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,a=!1;if(n)s=n,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:J_};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(on.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(a=>{try{a(s)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(a){this.log("error",`error triggering ${n} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new nm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,a,u,c,f,d,g,y,m,w,b,_;switch(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=n?.timeout)!==null&&a!==void 0?a:Pc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Ol.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(d=n?.heartbeatCallback)!==null&&d!==void 0?d:jc,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:Hg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(E=>lb[E-1]||ob),this.vsn){case tm:this.encode=(m=n?.encode)!==null&&m!==void 0?m:((E,R)=>R(JSON.stringify(E))),this.decode=(w=n?.decode)!==null&&w!==void 0?w:((E,R)=>R(JSON.parse(E)));break;case Q_:this.encode=(b=n?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=n?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};const hb=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:ab,get REALTIME_LISTEN_TYPES(){return Ms},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Xc},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ic},get REALTIME_SUBSCRIBE_STATES(){return pn},RealtimeChannel:am,RealtimeClient:cb,RealtimePresence:rm,WebSocketFactory:em},Symbol.toStringTag,{value:"Module"})),lm=Wr(hb);class ea extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ye(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class om extends ea{constructor(n,s,a){super(n),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gl extends ea{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const dh=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),fb=()=>Response,Jc=l=>{if(Array.isArray(l))return l.map(s=>Jc(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,a])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=Jc(a)}),n},db=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},pb=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),Cc=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},gb=(l,n,s)=>X(void 0,void 0,void 0,function*(){const a=yield fb();l instanceof a&&!s?.noResolveJson?l.json().then(u=>{const c=l.status||500,f=u?.statusCode||c+"";n(new om(Cc(u),c,f))}).catch(u=>{n(new Gl(Cc(u),u))}):n(new Gl(Cc(l),l))}),yb=(l,n,s,a)=>{const u={method:l,headers:n?.headers||{}};return l==="GET"||!a?u:(db(a)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(a)):u.body=a,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),s))};function ta(l,n,s,a,u,c){return X(this,void 0,void 0,function*(){return new Promise((f,d)=>{l(s,yb(n,a,u,c)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>gb(g,d,a))})})}function Zr(l,n,s,a){return X(this,void 0,void 0,function*(){return ta(l,"GET",n,s,a)})}function ln(l,n,s,a,u){return X(this,void 0,void 0,function*(){return ta(l,"POST",n,a,u,s)})}function Qc(l,n,s,a,u){return X(this,void 0,void 0,function*(){return ta(l,"PUT",n,a,u,s)})}function mb(l,n,s,a){return X(this,void 0,void 0,function*(){return ta(l,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function ph(l,n,s,a,u){return X(this,void 0,void 0,function*(){return ta(l,"DELETE",n,a,u,s)})}class vb{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}}var um;class _b{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[um]="BlobDownloadBuilder",this.promise=null}asStream(){return new vb(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}}um=Symbol.toStringTag;const bb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wb{constructor(n,s={},a,u){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=a,this.fetch=dh(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,a,u){return X(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Vg),u);let d=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=a,d["cache-control"]=`max-age=${f.cacheControl}`,d["content-type"]=f.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),u?.headers&&(d=Object.assign(Object.assign({},d),u.headers));const y=this._removeEmptyFolders(s),m=this._getFinalPath(y),w=yield(n=="PUT"?Qc:ln)(this.fetch,`${this.url}/object/${m}`,c,Object.assign({headers:d},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ye(c))return{data:null,error:c};throw c}})}upload(n,s,a){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,a)})}uploadToSignedUrl(n,s,a,u){return X(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),d=new URL(this.url+`/object/upload/sign/${f}`);d.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:Vg.upsert},u),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",y.cacheControl)):(g=a,m["cache-control"]=`max-age=${y.cacheControl}`,m["content-type"]=y.contentType);const w=yield Qc(this.fetch,d.toString(),g,{headers:m});return{data:{path:c,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Ye(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return X(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield ln(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:u}),f=new URL(this.url+c.url),d=f.searchParams.get("token");if(!d)throw new ea("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}update(n,s,a){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,a)})}move(n,s,a){return X(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}copy(n,s,a){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}createSignedUrl(n,s,a){return X(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield ln(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const f=a?.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}createSignedUrls(n,s,a){return X(this,void 0,void 0,function*(){try{const u=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}download(n,s){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),f=c?`?${c}`:"",d=this._getFinalPath(n),g=()=>Zr(this.fetch,`${this.url}/${u}/${d}${f}`,{headers:this.headers,noResolveJson:!0});return new _b(g,this.shouldThrowOnError)}info(n){return X(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const a=yield Zr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Jc(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}exists(n){return X(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield mb(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a)&&a instanceof Gl){const u=a.originalError;if([400,404].includes(u?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(n,s){const a=this._getFinalPath(n),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const d=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&u.push(g);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${y}`)}}}remove(n){return X(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}list(n,s,a){return X(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},bb),s),{prefix:n||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},a),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}listV2(n,s){return X(this,void 0,void 0,function*(){try{const a=Object.assign({},n);return{data:yield ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const cm="2.87.1",hm={"X-Client-Info":`storage-js/${cm}`};class Sb{constructor(n,s={},a,u){this.shouldThrowOnError=!1;const c=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hm),s),this.fetch=dh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return X(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield Zr(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}getBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}createBucket(n){return X(this,arguments,void 0,function*(s,a={public:!1}){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}updateBucket(n,s){return X(this,void 0,void 0,function*(){try{return{data:yield Qc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}emptyBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}deleteBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Fr=class extends Error{constructor(l,n){super(l),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Eb(l,n,s){const a=new URL(n,l);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&a.searchParams.set(u,c);return a.toString()}async function Tb(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Ab(l){const n=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:u,body:c,headers:f}){const d=Eb(l.baseUrl,a,u),g=await Tb(l.auth),y=await n(d,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...g,...f},body:c?JSON.stringify(c):void 0}),m=await y.text(),w=(y.headers.get("content-type")||"").includes("application/json"),b=w&&m?JSON.parse(m):m;if(!y.ok){const _=w?b:void 0,E=_?.error;throw new Fr(E?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:E?.type,icebergCode:E?.code,details:_})}return{status:y.status,headers:y.headers,data:b}}}}function Rl(l){return l.join("")}var Ob=class{constructor(l,n=""){this.client=l,this.prefix=n}async listNamespaces(l){const n=l?{parent:Rl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(l,n){const s={namespace:l.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rl(l.namespace)}`}),!0}catch(n){if(n instanceof Fr&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(l,n){try{return await this.createNamespace(l,n)}catch(s){if(s instanceof Fr&&s.status===409)return;throw s}}};function Cs(l){return l.join("")}var Rb=class{constructor(l,n="",s){this.client=l,this.prefix=n,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(l.namespace)}/tables`})).data.identifiers}async createTable(l,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(l.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(l,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(l.namespace)}/tables/${l.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cs(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(l){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(l.namespace)}/tables/${l.name}`,headers:n})).data.metadata}async tableExists(l){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cs(l.namespace)}/tables/${l.name}`,headers:n}),!0}catch(s){if(s instanceof Fr&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,n){try{return await this.createTable(l,n)}catch(s){if(s instanceof Fr&&s.status===409)return await this.loadTable({namespace:l.namespace,name:n.name});throw s}}},jb=class{constructor(l){let n="v1";l.catalogName&&(n+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Ab({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Ob(this.client,n),this.tableOps=new Rb(this.client,n,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,n){return this.namespaceOps.createNamespace(l,n)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,n){return this.tableOps.createTable(l,n)}async updateTable(l,n){return this.tableOps.updateTable(l,n)}async dropTable(l,n){await this.tableOps.dropTable(l,n)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,n){return this.namespaceOps.createNamespaceIfNotExists(l,n)}async createTableIfNotExists(l,n){return this.tableOps.createTableIfNotExists(l,n)}};class fm{constructor(n,s={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hm),s),this.fetch=dh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}listBuckets(n){return X(this,void 0,void 0,function*(){try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const a=s.toString(),u=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Zr(this.fetch,u,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}deleteBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}from(n){if(!pb(n))throw new ea("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new jb({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>X(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(c,f){const d=c[f];return typeof d!="function"?d:(...g)=>X(this,void 0,void 0,function*(){try{return{data:yield d.apply(c,g),error:null}}catch(y){if(a)throw y;return{data:null,error:y}}})}})}}const gh={"X-Client-Info":`storage-js/${cm}`,"Content-Type":"application/json"};class yh extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Nl extends yh{constructor(n,s,a){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dm extends yh{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var Zc;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Zc||(Zc={}));const Wl=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),Cb=()=>Response,pm=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},kb=l=>Array.from(new Float32Array(l)),xb=(l,n)=>{if(n!==void 0&&l.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${l.float32.length}`)},Gg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Nb=(l,n,s)=>X(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!s?.noResolveJson){const u=l.status||500,c=l;if(typeof c.json=="function")c.json().then(f=>{const d=f?.statusCode||f?.code||u+"";n(new Nl(Gg(f),u,d))}).catch(()=>{const f=u+"",d=c.statusText||`HTTP ${u} error`;n(new Nl(d,u,f))});else{const f=u+"",d=c.statusText||`HTTP ${u} error`;n(new Nl(d,u,f))}}else n(new dm(Gg(l),l))}),Db=(l,n,s,a)=>{const u={method:l,headers:n?.headers||{}};return a?(pm(a)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(a)):u.body=a,Object.assign(Object.assign({},u),s)):u};function Ub(l,n,s,a,u,c){return X(this,void 0,void 0,function*(){return new Promise((f,d)=>{l(s,Db(n,a,u,c)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Nb(g,d,a))})})}function Vt(l,n,s,a,u){return X(this,void 0,void 0,function*(){return Ub(l,"POST",n,a,u,s)})}class gm{constructor(n,s={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),s),this.fetch=Wl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return X(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}getIndex(n,s){return X(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dt(a))return{data:null,error:a};throw a}})}listIndexes(n){return X(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return X(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dt(a))return{data:null,error:a};throw a}})}}class ym{constructor(n,s={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),s),this.fetch=Wl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return X(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}getVectors(n){return X(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}listVectors(n){return X(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Vt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}queryVectors(n){return X(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}deleteVectors(n){return X(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}}class mm{constructor(n,s={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),s),this.fetch=Wl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return X(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}getBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}listBuckets(){return X(this,arguments,void 0,function*(n={}){try{return{data:yield Vt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return X(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dt(s))return{data:null,error:s};throw s}})}}class vm extends mm{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new _m(this.url,this.headers,n,this.fetch)}createBucket(n){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return X(this,void 0,void 0,function*(){return s.createBucket.call(this,n)})}getBucket(n){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return X(this,void 0,void 0,function*(){return s.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return X(this,arguments,void 0,function*(s={}){return n.listBuckets.call(this,s)})}deleteBucket(n){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return X(this,void 0,void 0,function*(){return s.deleteBucket.call(this,n)})}}class _m extends gm{constructor(n,s,a,u){super(n,s,u),this.vectorBucketName=a}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new bm(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class bm extends ym{constructor(n,s,a,u,c){super(n,s,c),this.vectorBucketName=a,this.indexName=u}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Mb extends Sb{constructor(n,s={},a,u){super(n,s,a,u)}from(n){return new wb(this.url,this.headers,n,this.fetch)}get vectors(){return new vm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fm(this.url+"/iceberg",this.headers,this.fetch)}}const Bb=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:fm,StorageApiError:om,StorageClient:Mb,StorageError:ea,StorageUnknownError:Gl,StorageVectorsApiError:Nl,StorageVectorsClient:vm,StorageVectorsError:yh,get StorageVectorsErrorCode(){return Zc},StorageVectorsUnknownError:dm,VectorBucketApi:mm,VectorBucketScope:_m,VectorDataApi:ym,VectorIndexApi:gm,VectorIndexScope:bm,isPlainObject:pm,isStorageError:Ye,isStorageVectorsError:Dt,normalizeToFloat32:kb,resolveFetch:Wl,resolveResponse:Cb,validateVectorDimension:xb},Symbol.toStringTag,{value:"Module"})),zb=Wr(Bb);var kc={},Gr={},Pg;function qb(){return Pg||(Pg=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.version=void 0,Gr.version="2.87.1"),Gr}var Yg;function Lb(){return Yg||(Yg=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_REALTIME_OPTIONS=l.DEFAULT_AUTH_OPTIONS=l.DEFAULT_DB_OPTIONS=l.DEFAULT_GLOBAL_OPTIONS=l.DEFAULT_HEADERS=void 0;const n=qb();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",l.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${n.version}`},l.DEFAULT_GLOBAL_OPTIONS={headers:l.DEFAULT_HEADERS},l.DEFAULT_DB_OPTIONS={schema:"public"},l.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l.DEFAULT_REALTIME_OPTIONS={}})(kc)),kc}var xc={},Kg;function Hb(){return Kg||(Kg=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.fetchWithAuth=l.resolveHeadersConstructor=l.resolveFetch=void 0;const n=u=>u?(...c)=>u(...c):(...c)=>fetch(...c);l.resolveFetch=n;const s=()=>Headers;l.resolveHeadersConstructor=s;const a=(u,c,f)=>{const d=(0,l.resolveFetch)(f),g=(0,l.resolveHeadersConstructor)();return async(y,m)=>{var w;const b=(w=await c())!==null&&w!==void 0?w:u;let _=new g(m?.headers);return _.has("apikey")||_.set("apikey",u),_.has("Authorization")||_.set("Authorization",`Bearer ${b}`),d(y,Object.assign(Object.assign({},m),{headers:_}))}};l.fetchWithAuth=a})(xc)),xc}var zn={},Ig;function $b(){if(Ig)return zn;Ig=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.isBrowser=void 0,zn.uuid=l,zn.ensureTrailingSlash=n,zn.applySettingDefaults=a,zn.validateSupabaseUrl=u;function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var f=Math.random()*16|0,d=c=="x"?f:f&3|8;return d.toString(16)})}function n(c){return c.endsWith("/")?c:c+"/"}const s=()=>typeof window<"u";zn.isBrowser=s;function a(c,f){var d,g;const{db:y,auth:m,realtime:w,global:b}=c,{db:_,auth:E,realtime:R,global:A}=f,D={db:Object.assign(Object.assign({},_),y),auth:Object.assign(Object.assign({},E),m),realtime:Object.assign(Object.assign({},R),w),storage:{},global:Object.assign(Object.assign(Object.assign({},A),b),{headers:Object.assign(Object.assign({},(d=A?.headers)!==null&&d!==void 0?d:{}),(g=b?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return c.accessToken?D.accessToken=c.accessToken:delete D.accessToken,D}function u(c){const f=c?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return zn}var Pr={};const wm="2.87.1",Ds=30*1e3,Fc=3,Nc=Fc*Ds,Vb="http://localhost:9999",Gb="supabase.auth.token",Pb={"X-Client-Info":`gotrue-js/${wm}`},Wc="X-Supabase-Api-Version",Sm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kb=600*1e3;let Hs=class extends Error{constructor(n,s,a){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}};function F(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}let Em=class extends Hs{constructor(n,s,a){super(n,s,a),this.name="AuthApiError",this.status=s,this.code=a}};function Tm(l){return F(l)&&l.name==="AuthApiError"}let ci=class extends Hs{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}},Ln=class extends Hs{constructor(n,s,a,u){super(n,a,u),this.name=s,this.status=a}},Nt=class extends Ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Am(l){return F(l)&&l.name==="AuthSessionMissingError"}let Mi=class extends Ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ir=class extends Ln{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Xr=class extends Ln{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Om(l){return F(l)&&l.name==="AuthImplicitGrantRedirectError"}let eh=class extends Ln{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Pl=class extends Ln{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}};function Dl(l){return F(l)&&l.name==="AuthRetryableFetchError"}let th=class extends Ln{constructor(n,s,a){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}};function Ib(l){return F(l)&&l.name==="AuthWeakPasswordError"}let Yl=class extends Ln{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xg=` 	
\r=`.split(""),Xb=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<Xg.length;n+=1)l[Xg[n].charCodeAt(0)]=-2;for(let n=0;n<Kl.length;n+=1)l[Kl[n].charCodeAt(0)]=n;return l})();function Jg(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const a=n.queue>>n.queuedBits-6&63;s(Kl[a]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const a=n.queue>>n.queuedBits-6&63;s(Kl[a]),n.queuedBits-=6}}function Rm(l,n,s){const a=Xb[l];if(a>-1)for(n.queue=n.queue<<6|a,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Qg(l){const n=[],s=f=>{n.push(String.fromCodePoint(f))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=f=>{Zb(f,a,s)};for(let f=0;f<l.length;f+=1)Rm(l.charCodeAt(f),u,c);return n.join("")}function Jb(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Qb(l,n){for(let s=0;s<l.length;s+=1){let a=l.charCodeAt(s);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(l.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Jb(a,n)}}function Zb(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let a=1;a<6;a+=1)if((l>>7-a&1)===0){n.utf8seq=a;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Bs(l){const n=[],s={queue:0,queuedBits:0},a=u=>{n.push(u)};for(let u=0;u<l.length;u+=1)Rm(l.charCodeAt(u),s,a);return new Uint8Array(n)}function Fb(l){const n=[];return Qb(l,s=>n.push(s)),new Uint8Array(n)}function Hi(l){const n=[],s={queue:0,queuedBits:0},a=u=>{n.push(u)};return l.forEach(u=>Jg(u,s,a)),Jg(null,s,a),n.join("")}function Wb(l){return Math.round(Date.now()/1e3)+l}function ew(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},jm=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function tw(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return s.searchParams.forEach((a,u)=>{n[u]=a}),n}const Cm=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),nw=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Us=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},Ui=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},mt=async(l,n)=>{await l.removeItem(n)};class eo{constructor(){this.promise=new eo.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}eo.promiseConstructor=Promise;function Dc(l){const n=l.split(".");if(n.length!==3)throw new Yl("Invalid JWT structure");for(let a=0;a<n.length;a++)if(!Yb.test(n[a]))throw new Yl("JWT not in base64url format");return{header:JSON.parse(Qg(n[0])),payload:JSON.parse(Qg(n[1])),signature:Bs(n[2]),raw:{header:n[0],payload:n[1]}}}async function iw(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function sw(l,n){return new Promise((a,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await l(c);if(!n(c,null,f)){a(f);return}}catch(f){if(!n(c,f)){u(f);return}}})()})}function rw(l){return("0"+l.toString(16)).substr(-2)}function aw(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(n),Array.from(n,rw).join("")}async function lw(l){const s=new TextEncoder().encode(l),a=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(a);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function ow(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await lw(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ks(l,n,s=!1){const a=aw();let u=a;s&&(u+="/PASSWORD_RECOVERY"),await Us(l,`${n}-code-verifier`,u);const c=await ow(a);return[c,a===c?"plain":"s256"]}const uw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cw(l){const n=l.headers.get(Wc);if(!n||!n.match(uw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function hw(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function fw(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xs(l){if(!dw.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uc(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pw(l,n){return new Proxy(l,{get:(s,a,u)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,u)}return!n.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,a,u)}})}function Zg(l){return JSON.parse(JSON.stringify(l))}const Bi=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),gw=[502,503,504];async function Fg(l){var n;if(!nw(l))throw new Pl(Bi(l),0);if(gw.includes(l.status))throw new Pl(Bi(l),l.status);let s;try{s=await l.json()}catch(c){throw new ci(Bi(c),c)}let a;const u=cw(l);if(u&&u.getTime()>=Sm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new th(Bi(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(a==="session_not_found")throw new Nt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new th(Bi(s),l.status,s.weak_password.reasons);throw new Em(Bi(s),l.status||500,a)}const yw=(l,n,s,a)=>{const u={method:l,headers:n?.headers||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),s))};async function se(l,n,s,a){var u;const c=Object.assign({},a?.headers);c[Wc]||(c[Wc]=Sm["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const f=(u=a?.query)!==null&&u!==void 0?u:{};a?.redirectTo&&(f.redirect_to=a.redirectTo);const d=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await mw(l,n,s+d,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function mw(l,n,s,a,u,c){const f=yw(n,a,u,c);let d;try{d=await l(s,Object.assign({},f))}catch(g){throw console.error(g),new Pl(Bi(g),0)}if(d.ok||await Fg(d),a?.noResolveJson)return d;try{return await d.json()}catch(g){await Fg(g)}}function an(l){var n;let s=null;bw(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=Wb(l.expires_in)));const a=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:a},error:null}}function Wg(l){const n=an(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(n.data.weak_password=l.weak_password),n}function hi(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function vw(l){return{data:l,error:null}}function _w(l){const{action_link:n,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c}=l,f=$s(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c},g=Object.assign({},f);return{data:{properties:d,user:g},error:null}}function ey(l){return l}function bw(l){return l.access_token&&l.refresh_token&&l.expires_in}const Ul=["global","local","others"];let mh=class{constructor({url:n="",headers:s={},fetch:a}){this.url=n,this.headers=s,this.fetch=Cm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Ul[0]){if(Ul.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ul.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(F(a))return{data:null,error:a};throw a}}async inviteUserByEmail(n,s={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:hi})}catch(a){if(F(a))return{data:{user:null},error:a};throw a}}async generateLink(n){try{const{options:s}=n,a=$s(n,["options"]),u=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(u.new_email=a?.newEmail,delete u.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:_w,redirectTo:s?.redirectTo})}catch(s){if(F(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:hi})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,a,u,c,f,d,g;try{const y={nextPage:null,lastPage:0,total:0},m=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:ey});if(m.error)throw m.error;const w=await m.json(),b=(f=m.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(g=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);y[`${A}Page`]=R}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(F(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){xs(n);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:hi})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){xs(n);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:hi})}catch(a){if(F(a))return{data:{user:null},error:a};throw a}}async deleteUser(n,s=!1){xs(n);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:hi})}catch(a){if(F(a))return{data:{user:null},error:a};throw a}}async _listFactors(n){xs(n.userId);try{const{data:s,error:a}=await se(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:a}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _deleteFactor(n){xs(n.userId),xs(n.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,a,u,c,f,d,g;try{const y={nextPage:null,lastPage:0,total:0},m=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:ey});if(m.error)throw m.error;const w=await m.json(),b=(f=m.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(g=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);y[`${A}Page`]=R}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(F(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(F(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(n){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}};function ty(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const zi={debug:!!(globalThis&&jm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vh extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let km=class extends vh{};class ww extends vh{}async function xm(l,n,s){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const a=new globalThis.AbortController;return n>0&&setTimeout(()=>{a.abort(),zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await s()}finally{zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(n===0)throw zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new km(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(zi.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const ny={};async function Sw(l,n,s){var a;const u=(a=ny[l])!==null&&a!==void 0?a:Promise.resolve(),c=Promise.race([u.catch(()=>null),n>=0?new Promise((f,d)=>{setTimeout(()=>{d(new ww(`Acquring process lock with name "${l}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await s());return ny[l]=c.catch(async f=>{if(f&&f.isAcquireTimeout)return await u,null;throw f}),await c}function Ew(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Nm(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Tw(l){return parseInt(l,16)}function Aw(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,a=>a.toString(16).padStart(2,"0")).join("")}function Ow(l){var n;const{chainId:s,domain:a,expirationTime:u,issuedAt:c=new Date,nonce:f,notBefore:d,requestId:g,resources:y,scheme:m,uri:w,version:b}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const _=Nm(l.address),E=m?`${m}://${a}`:a,R=l.statement?`${l.statement}
`:"",A=`${E} wants you to sign in with your Ethereum account:
${_}

${R}`;let D=`URI: ${w}
Version: ${b}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(u&&(D+=`
Expiration Time: ${u.toISOString()}`),d&&(D+=`
Not Before: ${d.toISOString()}`),g&&(D+=`
Request ID: ${g}`),y){let H=`
Resources:`;for(const M of y){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);H+=`
- ${M}`}D+=H}return`${A}
${D}`}class st extends Error{constructor({message:n,code:s,cause:a,name:u}){var c;super(n,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=u??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Il extends st{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function Rw({error:l,options:n}){var s,a,u;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new st({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Dm(f)){if(c.rp.id!==f)return new st({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function jw({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new st({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const a=window.location.hostname;if(Dm(a)){if(s.rpId!==a)return new st({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Cw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const kw=new Cw;function xw(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:a}=l,u=$s(l,["challenge","user","excludeCredentials"]),c=Bs(n).buffer,f=Object.assign(Object.assign({},s),{id:Bs(s.id).buffer}),d=Object.assign(Object.assign({},u),{challenge:c,user:f});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const y=a[g];d.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Bs(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return d}function Nw(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,a=$s(l,["challenge","allowCredentials"]),u=Bs(n).buffer,c=Object.assign(Object.assign({},a),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const d=s[f];c.allowCredentials[f]=Object.assign(Object.assign({},d),{id:Bs(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function Dw(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:Hi(new Uint8Array(l.response.attestationObject)),clientDataJSON:Hi(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Uw(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,a=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Hi(new Uint8Array(u.authenticatorData)),clientDataJSON:Hi(new Uint8Array(u.clientDataJSON)),signature:Hi(new Uint8Array(u.signature)),userHandle:u.userHandle?Hi(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Dm(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function iy(){var l,n;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Mw(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Il("Browser returned unexpected credential type",n)}:{data:null,error:new Il("Empty credential response",n)}}catch(n){return{data:null,error:Rw({error:n,options:l})}}}async function Bw(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Il("Browser returned unexpected credential type",n)}:{data:null,error:new Il("Empty credential response",n)}}catch(n){return{data:null,error:jw({error:n,options:l})}}}const zw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xl(...l){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),a={};for(const u of l)if(u)for(const c in u){const f=u[c];if(f!==void 0)if(Array.isArray(f))a[c]=f;else if(s(f))a[c]=f;else if(n(f)){const d=a[c];n(d)?a[c]=Xl(d,f):a[c]=Xl(f)}else a[c]=f}return a}function Lw(l,n){return Xl(zw,l,n||{})}function Hw(l,n){return Xl(qw,l,n||{})}class $w{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:a,signal:u},c){try{const{data:f,error:d}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:d};const g=u??kw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=Lw(f.webauthn.credential_options.publicKey,c?.create),{data:m,error:w}=await Mw({publicKey:y,signal:g});return m?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:m}},error:null}:{data:null,error:w}}case"request":{const y=Hw(f.webauthn.credential_options.publicKey,c?.request),{data:m,error:w}=await Bw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return m?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:m}},error:null}:{data:null,error:w}}}}catch(f){return F(f)?{data:null,error:f}:{data:null,error:new ci("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:a})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Hs("rpId is required for WebAuthn authentication")};try{if(!iy())return{data:null,error:new ci("Browser does not support WebAuthn",null)};const{data:f,error:d}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:a},signal:u},{request:c});if(!f)return{data:null,error:d};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:a,credential_response:g.credential_response}})}catch(f){return F(f)?{data:null,error:f}:{data:null,error:new ci("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Hs("rpId is required for WebAuthn registration")};try{if(!iy())return{data:null,error:new ci("Browser does not support WebAuthn",null)};const{data:f,error:d}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(m=>{var w;return(w=m.data)===null||w===void 0?void 0:w.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===n&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:u},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return F(f)?{data:null,error:f}:{data:null,error:new ci("Unexpected error in register",f)}}}}Ew();const Vw={url:Vb,storageKey:Gb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Pb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sy(l,n,s){return await s()}const Ns={};let _h=class nh{get jwks(){var n,s;return(s=(n=Ns[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Ns[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{cachedAt:n})}constructor(n){var s,a,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Vw),n);if(this.storageKey=c.storageKey,this.instanceID=(s=nh.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,nh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&_t()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new mh({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Cm(c.fetch),this.lock=c.lock||sy,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&_t()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=xm:this.lock=sy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $w(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:jm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ty(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=ty(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},a="none";if(_t()&&(s=tw(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),_t()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Om(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:d}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",d),await this._saveSession(f),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return F(s)?this._returnResult({error:s}):this._returnResult({error:new ci("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,a,u;try{const c=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:an}),{data:f,error:d}=c;if(d||!f)return this._returnResult({data:{user:null,session:null},error:d});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var s,a,u;try{let c;if("email"in n){const{email:m,password:w,options:b}=n;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await ks(this.storage,this.storageKey)),c=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:m,password:w,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:E},xform:an})}else if("phone"in n){const{phone:m,password:w,options:b}=n;c=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:w,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(u=b?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:an})}else throw new Ir("You must provide either an email or phone number and a password");const{data:f,error:d}=c;if(d||!f)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:d}=n;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Wg})}else if("phone"in n){const{phone:c,password:f,options:d}=n;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Wg})}else throw new Ir("You must provide either an email or phone number and a password");const{data:a,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const c=new Mi;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,a,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=n.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,a,u,c,f,d,g,y,m,w,b;let _,E;if("message"in n)_=n.message,E=n.signature;else{const{chain:R,wallet:A,statement:D,options:H}=n;let M;if(_t())if(typeof A=="object")M=A;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")M=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=A}const G=new URL((s=H?.url)!==null&&s!==void 0?s:window.location.href),Q=await M.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Q||Q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=Nm(Q[0]);let V=(a=H?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const pe=await M.request({method:"eth_chainId"});V=Tw(pe)}const de={domain:G.host,address:P,statement:D,uri:G.href,version:"1",chainId:V,nonce:(u=H?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(c=H?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(d=H?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(g=H?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=H?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(m=H?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=Ow(de),E=await M.request({method:"personal_sign",params:[Aw(_),P]})}try{const{data:R,error:A}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:E},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=n.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:an});if(A)throw A;if(!R||!R.session||!R.user){const D=new Mi;return this._returnResult({data:{user:null,session:null},error:D})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:A})}catch(R){if(F(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var s,a,u,c,f,d,g,y,m,w,b,_;let E,R;if("message"in n)E=n.message,R=n.signature;else{const{chain:A,wallet:D,statement:H,options:M}=n;let G;if(_t())if(typeof D=="object")G=D;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))G=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=D}const Q=new URL((s=M?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in G&&G.signIn){const P=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),H?{statement:H}:null));let V;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")V=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)V=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)E=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),R=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Q.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(u=(a=M?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=M?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((y=M?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((w=(m=M?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||w===void 0)&&w.length?["Resources",...M.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const P=await G.signMessage(new TextEncoder().encode(E),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=P}}try{const{data:A,error:D}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Hi(R)},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:an});if(D)throw D;if(!A||!A.session||!A.user){const H=new Mi;return this._returnResult({data:{user:null,session:null},error:H})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:D})}catch(A){if(F(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(n){const s=await Ui(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(s??"").split("/");try{const{data:c,error:f}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:a},xform:an});if(await mt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const d=new Mi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:f})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:s,provider:a,token:u,access_token:c,nonce:f}=n,d=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:an}),{data:g,error:y}=d;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const m=new Mi;return this._returnResult({data:{user:null,session:null},error:m})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,a,u,c,f;try{if("email"in n){const{email:d,options:g}=n;let y=null,m=null;this.flowType==="pkce"&&([y,m]=await ks(this.storage,this.storageKey));const{error:w}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:m},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in n){const{phone:d,options:g}=n,{data:y,error:m}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:m})}throw new Ir("You must provide either an email or phone number.")}catch(d){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(n){var s,a;try{let u,c;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(a=n.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:d}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:an});if(d)throw d;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(F(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var s,a,u,c,f;try{let d=null,g=null;this.flowType==="pkce"&&([d,g]=await ks(this.storage,this.storageKey));const y=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:g}),headers:this.headers,xform:vw});return!((c=y.data)===null||c===void 0)&&c.url&&_t()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(d){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)throw a;if(!s)throw new Nt;const{error:u}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(F(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:a,type:u,options:c}=n,{error:f}=await se(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:a,type:u,options:c}=n,{data:f,error:d}=await se(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:d})}throw new Ir("You must provide either an email or phone number and a type")}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const a=n.expires_at?n.expires_at*1e3-Date.now()<Nc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",n.expires_at),!a){if(this.userStorage){const f=await Ui(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Uc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=pw(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:hi}):await this._useSession(async s=>{var a,u,c;const{data:f,error:d}=s;if(d)throw d;return!(!((a=f.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:hi})})}catch(s){if(F(s))return Am(s)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async a=>{const{data:u,error:c}=a;if(c)throw c;if(!u.session)throw new Nt;const f=u.session;let d=null,g=null;this.flowType==="pkce"&&n.email!=null&&([d,g]=await ks(this.storage,this.storageKey));const{data:y,error:m}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:g}),jwt:f.access_token,xform:hi});if(m)throw m;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(a){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Nt;const s=Date.now()/1e3;let a=s,u=!0,c=null;const{payload:f}=Dc(n.access_token);if(f.exp&&(a=f.exp,u=a<=s),u){const{data:d,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!d)return{data:{user:null,session:null},error:null};c=d}else{const{data:d,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(F(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var a;if(!n){const{data:f,error:d}=s;if(d)throw d;n=(a=f.session)!==null&&a!==void 0?a:void 0}if(!n?.refresh_token)throw new Nt;const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!_t())throw new Xr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Xr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new eh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new eh("No code detected.");const{data:H,error:M}=await this._exchangeCodeForSession(n.code);if(M)throw M;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:c,refresh_token:f,expires_in:d,expires_at:g,token_type:y}=n;if(!c||!d||!f||!y)throw new Xr("No session defined in URL");const m=Math.round(Date.now()/1e3),w=parseInt(d);let b=m+w;g&&(b=parseInt(g));const _=b-m;_*1e3<=Ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${w}s`);const E=b-w;m-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,m):m-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,m);const{data:R,error:A}=await this._getUser(c);if(A)throw A;const D={provider_token:a,provider_refresh_token:u,access_token:c,expires_in:w,expires_at:b,refresh_token:f,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:n.type},error:null})}catch(a){if(F(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Ui(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const f=(a=u.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:d}=await this.admin.signOut(f,n);if(d&&!(Tm(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return n!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=ew(),a={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(n){return await this._useSession(async s=>{var a,u;try{const{data:{session:c},error:f}=s;if(f)throw f;await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await ks(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:a,error:u}=await this._useSession(async c=>{var f,d,g,y,m;const{data:w,error:b}=c;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&m!==void 0?m:void 0})});if(u)throw u;return _t()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:n.provider,url:a?.url},error:null})}catch(a){if(F(a))return this._returnResult({data:{provider:n.provider,url:null},error:a});throw a}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var a;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:f,provider:d,token:g,access_token:y,nonce:m}=n,w=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:g,access_token:y,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:an}),{data:b,error:_}=w;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Mi}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var a,u;const{data:c,error:f}=s;if(f)throw f;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await sw(async u=>(u>0&&await iw(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:an})),(u,c)=>{const f=200*Math.pow(2,u);return c&&Dl(c)&&Date.now()+f-a<Ds})}catch(a){if(this._debug(s,"error",a),F(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",a),_t()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:n,url:a},error:null}}async _recoverAndRefresh(){var n,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Ui(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Us(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:Uc()}else if(u&&!u.user&&!u.user){const f=await Ui(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await mt(this.storage,this.storageKey+"-user"),await Us(this.storage,this.storageKey,u)):u.user=Uc()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Nc;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Nc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Dl(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:d}=await this._getUser(u.access_token);!d&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(a,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(n){var s,a;if(!n)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new eo;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new Nt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const d={data:c.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(c){if(this._debug(u,"error",c),F(c)){const f={data:null,error:c};return Dl(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,a=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let d=0;d<c.length;d+=1)console.error(c[d]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Us(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=Zg(u);await Us(this.storage,this.storageKey,c)}else{const u=Zg(s);await Us(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ds);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-n)/Ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ds}ms, refresh threshold is ${Fc} ticks`),u<=Fc&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof vh)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,a){const u=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,f]=await ks(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(d.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);u.push(c.toString())}return a?.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await se(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var a,u;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:y}=await se(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Dw(n.webauthn.credential_response):Uw(n.webauthn.credential_response)})}:{code:n.code}),{data:d,error:g}=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:g}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});if(f.error)return f;const{data:d}=f;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:xw(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Nw(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:a}=await this._challenge({factorId:n.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s?.factors)!==null&&n!==void 0?n:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:a},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Dc(a.access_token);let f=null;c.aal&&(f=c.aal);let d=f;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const y=c.amr||[];return{data:{currentLevel:f,nextLevel:d,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Nt});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return f.data&&f.data.redirect_url&&_t()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(a){if(F(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(n,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Nt});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return f.data&&f.data.redirect_url&&_t()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(a){if(F(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(n){if(F(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nt})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let a=s.keys.find(d=>d.kid===n);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(d=>d.kid===n),a&&this.jwks_cached_at+Kb>u)return a;const{data:c,error:f}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,a=c.keys.find(d=>d.kid===n),!a)?null:a}async getClaims(n,s={}){try{let a=n;if(!a){const{data:_,error:E}=await this.getSession();if(E||!_.session)return this._returnResult({data:null,error:E});a=_.session.access_token}const{header:u,payload:c,signature:f,raw:{header:d,payload:g}}=Dc(a);s?.allowExpired||hw(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:c,header:u,signature:f},error:null}}const m=fw(u.alg),w=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,w,f,Fb(`${d}.${g}`)))throw new Yl("Invalid JWT signature");return{data:{claims:c,header:u,signature:f},error:null}}catch(a){if(F(a))return this._returnResult({data:null,error:a});throw a}}};_h.nextInstanceID={};const Gw=mh,Pw=_h,Yw=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Gw,AuthApiError:Em,AuthClient:Pw,AuthError:Hs,AuthImplicitGrantRedirectError:Xr,AuthInvalidCredentialsError:Ir,AuthInvalidJwtError:Yl,AuthInvalidTokenResponseError:Mi,AuthPKCEGrantCodeExchangeError:eh,AuthRetryableFetchError:Pl,AuthSessionMissingError:Nt,AuthUnknownError:ci,AuthWeakPasswordError:th,CustomAuthError:Ln,GoTrueAdminApi:mh,GoTrueClient:_h,NavigatorLockAcquireTimeoutError:km,SIGN_OUT_SCOPES:Ul,isAuthApiError:Tm,isAuthError:F,isAuthImplicitGrantRedirectError:Om,isAuthRetryableFetchError:Dl,isAuthSessionMissingError:Am,isAuthWeakPasswordError:Ib,lockInternals:zi,navigatorLock:xm,processLock:Sw},Symbol.toStringTag,{value:"Module"})),Um=Wr(Yw);var ry;function Kw(){if(ry)return Pr;ry=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.SupabaseAuthClient=void 0;const l=Um;let n=class extends l.AuthClient{constructor(a){super(a)}};return Pr.SupabaseAuthClient=n,Pr}var ay;function ly(){if(ay)return _l;ay=1,Object.defineProperty(_l,"__esModule",{value:!0});const l=Iy,n=Wy(),s=lm,a=zb,u=Lb(),c=Hb(),f=$b(),d=Kw();class g{constructor(m,w,b){var _,E,R;this.supabaseUrl=m,this.supabaseKey=w;const A=(0,f.validateSupabaseUrl)(m);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const D=`sb-${A.hostname.split(".")[0]}-auth-token`,H={db:u.DEFAULT_DB_OPTIONS,realtime:u.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},u.DEFAULT_AUTH_OPTIONS),{storageKey:D}),global:u.DEFAULT_GLOBAL_OPTIONS},M=(0,f.applySettingDefaults)(b??{},H);this.storageKey=(_=M.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(E=M.global.headers)!==null&&E!==void 0?E:{},M.accessToken?(this.accessToken=M.accessToken,this.auth=new Proxy({},{get:(G,Q)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Q)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((R=M.auth)!==null&&R!==void 0?R:{},this.headers,M.global.fetch),this.fetch=(0,c.fetchWithAuth)(w,this._getAccessToken.bind(this),M.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},M.realtime)),this.accessToken&&this.accessToken().then(G=>this.realtime.setAuth(G)).catch(G=>console.warn("Failed to set initial Realtime auth token:",G)),this.rest=new n.PostgrestClient(new URL("rest/v1",A).href,{headers:this.headers,schema:M.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),M.accessToken||this._listenForAuthEvents()}get functions(){return new l.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,w={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,w,b)}channel(m,w={config:{}}){return this.realtime.channel(m,w)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,w;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(w=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:w,detectSessionInUrl:b,storage:_,userStorage:E,storageKey:R,flowType:A,lock:D,debug:H,throwOnError:M},G,Q){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),G),storageKey:R,autoRefreshToken:m,persistSession:w,detectSessionInUrl:b,storage:_,userStorage:E,flowType:A,lock:D,debug:H,throwOnError:M,fetch:Q,hasCustomAuthorizationHeader:Object.keys(this.headers).some(V=>V.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,b)=>{this._handleTokenChanged(w,"CLIENT",b?.access_token)})}_handleTokenChanged(m,w,b){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return _l.default=g,_l}var oy;function Iw(){return oy||(oy=1,(function(l){var n=Bn&&Bn.__createBinding||(Object.create?(function(m,w,b,_){_===void 0&&(_=b);var E=Object.getOwnPropertyDescriptor(w,b);(!E||("get"in E?!w.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return w[b]}}),Object.defineProperty(m,_,E)}):(function(m,w,b,_){_===void 0&&(_=b),m[_]=w[b]})),s=Bn&&Bn.__exportStar||function(m,w){for(var b in m)b!=="default"&&!Object.prototype.hasOwnProperty.call(w,b)&&n(w,m,b)},a=Bn&&Bn.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0}),l.createClient=l.SupabaseClient=l.FunctionRegion=l.FunctionsError=l.FunctionsRelayError=l.FunctionsFetchError=l.FunctionsHttpError=l.PostgrestError=void 0;const u=a(ly());s(Um,l);var c=Wy();Object.defineProperty(l,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var f=Iy;Object.defineProperty(l,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(l,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(l,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(l,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(l,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),s(lm,l);var d=ly();Object.defineProperty(l,"SupabaseClient",{enumerable:!0,get:function(){return a(d).default}});const g=(m,w,b)=>new u.default(m,w,b);l.createClient=g;function y(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const w=m.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}y()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Bn)),Bn}var Mm=Iw();const Bm=h_(Mm),Xw=c_({__proto__:null,default:Bm},[Mm]),{PostgrestError:CE,FunctionsHttpError:kE,FunctionsFetchError:xE,FunctionsRelayError:NE,FunctionsError:DE,FunctionRegion:UE,SupabaseClient:ME,createClient:Jw,GoTrueAdminApi:BE,GoTrueClient:zE,AuthAdminApi:qE,AuthClient:LE,navigatorLock:HE,NavigatorLockAcquireTimeoutError:$E,lockInternals:VE,processLock:GE,SIGN_OUT_SCOPES:PE,AuthError:YE,AuthApiError:KE,AuthUnknownError:IE,CustomAuthError:XE,AuthSessionMissingError:JE,AuthInvalidTokenResponseError:QE,AuthInvalidCredentialsError:ZE,AuthImplicitGrantRedirectError:FE,AuthPKCEGrantCodeExchangeError:WE,AuthRetryableFetchError:e1,AuthWeakPasswordError:t1,AuthInvalidJwtError:n1,isAuthError:i1,isAuthApiError:s1,isAuthSessionMissingError:r1,isAuthImplicitGrantRedirectError:a1,isAuthRetryableFetchError:l1,isAuthWeakPasswordError:o1,RealtimePresence:u1,RealtimeChannel:c1,RealtimeClient:h1,REALTIME_LISTEN_TYPES:f1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:d1,REALTIME_PRESENCE_LISTEN_EVENTS:p1,REALTIME_SUBSCRIBE_STATES:g1,REALTIME_CHANNEL_STATES:y1}=Bm||Xw,Qw="https://jrhcxnurojglpdtkaslf.supabase.co",Zw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpyaGN4bnVyb2pnbHBkdGthc2xmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjA0NDMsImV4cCI6MjA4MDY5NjQ0M30.RuwYXc6kkISZa28EfHA6-_XsbiS98xutaqCdy_oZEIk",Jl=Jw(Qw,Zw),Fw=({isOpen:l,onClose:n,onSuccess:s})=>{const[a,u]=ee.useState(""),[c,f]=ee.useState(""),[d,g]=ee.useState(!1),[y,m]=ee.useState(!1),[w,b]=ee.useState(null);if(!l)return null;const _=async E=>{E.preventDefault(),m(!0),b(null);try{if(d){const{error:R}=await Jl.auth.signUp({email:a,password:c});if(R)throw R;alert("Account created! You are now logged in."),s()}else{const{error:R}=await Jl.auth.signInWithPassword({email:a,password:c});if(R)throw R;s()}n()}catch(R){b(R.message||"An error occurred")}finally{m(!1)}};return S.jsx("div",{className:"auth-overlay",children:S.jsxs("div",{className:"auth-content",children:[S.jsx("button",{className:"close-btn",onClick:n,children:""}),S.jsx("h2",{children:d?"Create Account":"Sign In"}),S.jsx("p",{className:"auth-description",children:d?"Create an account to save your rating permanently.":"Sign in to sync your rating across devices."}),w&&S.jsx("div",{className:"auth-error",children:w}),S.jsxs("form",{onSubmit:_,children:[S.jsx("input",{type:"email",placeholder:"Email",value:a,onChange:E=>u(E.target.value),required:!0}),S.jsx("input",{type:"password",placeholder:"Password",value:c,onChange:E=>f(E.target.value),required:!0,minLength:6}),S.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:y,children:y?"Processing...":d?"Sign Up":"Sign In"})]}),S.jsx("div",{className:"auth-toggle",children:S.jsx("button",{onClick:()=>g(!d),children:d?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})},yn=Object.create(null);yn.open="0";yn.close="1";yn.ping="2";yn.pong="3";yn.message="4";yn.upgrade="5";yn.noop="6";const Ml=Object.create(null);Object.keys(yn).forEach(l=>{Ml[yn[l]]=l});const ih={type:"error",data:"parser error"},zm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",qm=typeof ArrayBuffer=="function",Lm=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,bh=({type:l,data:n},s,a)=>zm&&n instanceof Blob?s?a(n):uy(n,a):qm&&(n instanceof ArrayBuffer||Lm(n))?s?a(n):uy(new Blob([n]),a):a(yn[l]+(n||"")),uy=(l,n)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];n("b"+(a||""))},s.readAsDataURL(l)};function cy(l){return l instanceof Uint8Array?l:l instanceof ArrayBuffer?new Uint8Array(l):new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}let Mc;function Ww(l,n){if(zm&&l.data instanceof Blob)return l.data.arrayBuffer().then(cy).then(n);if(qm&&(l.data instanceof ArrayBuffer||Lm(l.data)))return n(cy(l.data));bh(l,!1,s=>{Mc||(Mc=new TextEncoder),n(Mc.encode(s))})}const hy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let l=0;l<hy.length;l++)Jr[hy.charCodeAt(l)]=l;const eS=l=>{let n=l.length*.75,s=l.length,a,u=0,c,f,d,g;l[l.length-1]==="="&&(n--,l[l.length-2]==="="&&n--);const y=new ArrayBuffer(n),m=new Uint8Array(y);for(a=0;a<s;a+=4)c=Jr[l.charCodeAt(a)],f=Jr[l.charCodeAt(a+1)],d=Jr[l.charCodeAt(a+2)],g=Jr[l.charCodeAt(a+3)],m[u++]=c<<2|f>>4,m[u++]=(f&15)<<4|d>>2,m[u++]=(d&3)<<6|g&63;return y},tS=typeof ArrayBuffer=="function",wh=(l,n)=>{if(typeof l!="string")return{type:"message",data:Hm(l,n)};const s=l.charAt(0);return s==="b"?{type:"message",data:nS(l.substring(1),n)}:Ml[s]?l.length>1?{type:Ml[s],data:l.substring(1)}:{type:Ml[s]}:ih},nS=(l,n)=>{if(tS){const s=eS(l);return Hm(s,n)}else return{base64:!0,data:l}},Hm=(l,n)=>{switch(n){case"blob":return l instanceof Blob?l:new Blob([l]);case"arraybuffer":default:return l instanceof ArrayBuffer?l:l.buffer}},$m="",iS=(l,n)=>{const s=l.length,a=new Array(s);let u=0;l.forEach((c,f)=>{bh(c,!1,d=>{a[f]=d,++u===s&&n(a.join($m))})})},sS=(l,n)=>{const s=l.split($m),a=[];for(let u=0;u<s.length;u++){const c=wh(s[u],n);if(a.push(c),c.type==="error")break}return a};function rS(){return new TransformStream({transform(l,n){Ww(l,s=>{const a=s.length;let u;if(a<126)u=new Uint8Array(1),new DataView(u.buffer).setUint8(0,a);else if(a<65536){u=new Uint8Array(3);const c=new DataView(u.buffer);c.setUint8(0,126),c.setUint16(1,a)}else{u=new Uint8Array(9);const c=new DataView(u.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(a))}l.data&&typeof l.data!="string"&&(u[0]|=128),n.enqueue(u),n.enqueue(s)})}})}let Bc;function jl(l){return l.reduce((n,s)=>n+s.length,0)}function Cl(l,n){if(l[0].length===n)return l.shift();const s=new Uint8Array(n);let a=0;for(let u=0;u<n;u++)s[u]=l[0][a++],a===l[0].length&&(l.shift(),a=0);return l.length&&a<l[0].length&&(l[0]=l[0].slice(a)),s}function aS(l,n){Bc||(Bc=new TextDecoder);const s=[];let a=0,u=-1,c=!1;return new TransformStream({transform(f,d){for(s.push(f);;){if(a===0){if(jl(s)<1)break;const g=Cl(s,1);c=(g[0]&128)===128,u=g[0]&127,u<126?a=3:u===126?a=1:a=2}else if(a===1){if(jl(s)<2)break;const g=Cl(s,2);u=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),a=3}else if(a===2){if(jl(s)<8)break;const g=Cl(s,8),y=new DataView(g.buffer,g.byteOffset,g.length),m=y.getUint32(0);if(m>Math.pow(2,21)-1){d.enqueue(ih);break}u=m*Math.pow(2,32)+y.getUint32(4),a=3}else{if(jl(s)<u)break;const g=Cl(s,u);d.enqueue(wh(c?g:Bc.decode(g),n)),a=0}if(u===0||u>l){d.enqueue(ih);break}}}})}const Vm=4;function rt(l){if(l)return lS(l)}function lS(l){for(var n in rt.prototype)l[n]=rt.prototype[n];return l}rt.prototype.on=rt.prototype.addEventListener=function(l,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(n),this};rt.prototype.once=function(l,n){function s(){this.off(l,s),n.apply(this,arguments)}return s.fn=n,this.on(l,s),this};rt.prototype.off=rt.prototype.removeListener=rt.prototype.removeAllListeners=rt.prototype.removeEventListener=function(l,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+l];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var a,u=0;u<s.length;u++)if(a=s[u],a===n||a.fn===n){s.splice(u,1);break}return s.length===0&&delete this._callbacks["$"+l],this};rt.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+l],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,u=s.length;a<u;++a)s[a].apply(this,n)}return this};rt.prototype.emitReserved=rt.prototype.emit;rt.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]};rt.prototype.hasListeners=function(l){return!!this.listeners(l).length};const to=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,s)=>s(n,0),Wt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),oS="arraybuffer";function Gm(l,...n){return n.reduce((s,a)=>(l.hasOwnProperty(a)&&(s[a]=l[a]),s),{})}const uS=Wt.setTimeout,cS=Wt.clearTimeout;function no(l,n){n.useNativeTimers?(l.setTimeoutFn=uS.bind(Wt),l.clearTimeoutFn=cS.bind(Wt)):(l.setTimeoutFn=Wt.setTimeout.bind(Wt),l.clearTimeoutFn=Wt.clearTimeout.bind(Wt))}const hS=1.33;function fS(l){return typeof l=="string"?dS(l):Math.ceil((l.byteLength||l.size)*hS)}function dS(l){let n=0,s=0;for(let a=0,u=l.length;a<u;a++)n=l.charCodeAt(a),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(a++,s+=4);return s}function Pm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function pS(l){let n="";for(let s in l)l.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(l[s]));return n}function gS(l){let n={},s=l.split("&");for(let a=0,u=s.length;a<u;a++){let c=s[a].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class yS extends Error{constructor(n,s,a){super(n),this.description=s,this.context=a,this.type="TransportError"}}class Sh extends rt{constructor(n){super(),this.writable=!1,no(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,s,a){return super.emitReserved("error",new yS(n,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const s=wh(n,this.socket.binaryType);this.onPacket(s)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,s={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const s=pS(n);return s.length?"?"+s:""}}class mS extends Sh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const s=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};sS(n,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,iS(n,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Pm()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(n,s)}}let Ym=!1;try{Ym=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const vS=Ym;function _S(){}class bS extends mS{constructor(n){if(super(n),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||a!==n.port}}doWrite(n,s){const a=this.request({method:"POST",data:n});a.on("success",s),a.on("error",(u,c)=>{this.onError("xhr post error",u,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=n}}class gn extends rt{constructor(n,s,a){super(),this.createRequest=n,no(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var n;const s=Gm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let u in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(u)&&a.setRequestHeader(u,this._opts.extraHeaders[u])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var u;a.readyState===3&&((u=this._opts.cookieJar)===null||u===void 0||u.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(u){this.setTimeoutFn(()=>{this._onError(u)},0);return}typeof document<"u"&&(this._index=gn.requestsCount++,gn.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=_S,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete gn.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}gn.requestsCount=0;gn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fy);else if(typeof addEventListener=="function"){const l="onpagehide"in Wt?"pagehide":"unload";addEventListener(l,fy,!1)}}function fy(){for(let l in gn.requests)gn.requests.hasOwnProperty(l)&&gn.requests[l].abort()}const wS=(function(){const l=Km({xdomain:!1});return l&&l.responseType!==null})();class SS extends bS{constructor(n){super(n);const s=n&&n.forceBase64;this.supportsBinary=wS&&!s}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new gn(Km,this.uri(),n)}}function Km(l){const n=l.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||vS))return new XMLHttpRequest}catch{}if(!n)try{return new Wt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Im=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ES extends Sh{get name(){return"websocket"}doOpen(){const n=this.uri(),s=this.opts.protocols,a=Im?{}:Gm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,s,a)}catch(u){return this.emitReserved("error",u)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const a=n[s],u=s===n.length-1;bh(a,this.supportsBinary,c=>{try{this.doWrite(a,c)}catch{}u&&to(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Pm()),this.supportsBinary||(s.b64=1),this.createUri(n,s)}}const zc=Wt.WebSocket||Wt.MozWebSocket;class TS extends ES{createSocket(n,s,a){return Im?new zc(n,s,a):s?new zc(n,s):new zc(n)}doWrite(n,s){this.ws.send(s)}}class AS extends Sh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const s=aS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=n.readable.pipeThrough(s).getReader(),u=rS();u.readable.pipeTo(n.writable),this._writer=u.writable.getWriter();const c=()=>{a.read().then(({done:d,value:g})=>{d||(this.onPacket(g),c())}).catch(d=>{})};c();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const a=n[s],u=s===n.length-1;this._writer.write(a).then(()=>{u&&to(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const OS={websocket:TS,webtransport:AS,polling:SS},RS=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jS=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function sh(l){if(l.length>8e3)throw"URI too long";const n=l,s=l.indexOf("["),a=l.indexOf("]");s!=-1&&a!=-1&&(l=l.substring(0,s)+l.substring(s,a).replace(/:/g,";")+l.substring(a,l.length));let u=RS.exec(l||""),c={},f=14;for(;f--;)c[jS[f]]=u[f]||"";return s!=-1&&a!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=CS(c,c.path),c.queryKey=kS(c,c.query),c}function CS(l,n){const s=/\/{2,9}/g,a=n.replace(s,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&a.splice(0,1),n.slice(-1)=="/"&&a.splice(a.length-1,1),a}function kS(l,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,u,c){u&&(s[u]=c)}),s}const rh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Bl=[];rh&&addEventListener("offline",()=>{Bl.forEach(l=>l())},!1);class fi extends rt{constructor(n,s){if(super(),this.binaryType=oS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(s=n,n=null),n){const a=sh(n);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=sh(s.host).host);no(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const u=a.prototype.name;this.transports.push(u),this._transportsByName[u]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=gS(this.opts.query)),rh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Bl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const s=Object.assign({},this.opts.query);s.EIO=Vm,s.transport=n,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&fi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(n);s.open(),this.setTransport(s)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",fi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=n.data,this._onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const u=this.writeBuffer[a].data;if(u&&(s+=fS(u)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,to(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,s,a){return this._sendPacket("message",n,s,a),this}send(n,s,a){return this._sendPacket("message",n,s,a),this}_sendPacket(n,s,a,u){if(typeof s=="function"&&(u=s,s=void 0),typeof a=="function"&&(u=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const c={type:n,data:s,options:a};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),u&&this.once("flush",u),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():n()}):this.upgrading?a():n()),this}_onError(n){if(fi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),rh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Bl.indexOf(this._offlineEventListener);a!==-1&&Bl.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this._prevBufferLen=0}}}fi.protocol=Vm;class xS extends fi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let s=this.createTransport(n),a=!1;fi.priorWebsocketSuccess=!1;const u=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",w=>{if(!a)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;fi.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(m(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=s.name,this.emitReserved("upgradeError",b)}}))};function c(){a||(a=!0,m(),s.close(),s=null)}const f=w=>{const b=new Error("probe error: "+w);b.transport=s.name,c(),this.emitReserved("upgradeError",b)};function d(){f("transport closed")}function g(){f("socket closed")}function y(w){s&&w.name!==s.name&&c()}const m=()=>{s.removeListener("open",u),s.removeListener("error",f),s.removeListener("close",d),this.off("close",g),this.off("upgrading",y)};s.once("open",u),s.once("error",f),s.once("close",d),this.once("close",g),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const s=[];for(let a=0;a<n.length;a++)~this.transports.indexOf(n[a])&&s.push(n[a]);return s}}let NS=class extends xS{constructor(n,s={}){const a=typeof n=="object"?n:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(u=>OS[u]).filter(u=>!!u)),super(n,a)}};function DS(l,n="",s){let a=l;s=s||typeof location<"u"&&location,l==null&&(l=s.protocol+"//"+s.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=s.protocol+l:l=s.host+l),/^(https?|wss?):\/\//.test(l)||(typeof s<"u"?l=s.protocol+"//"+l:l="https://"+l),a=sh(l)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const c=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+c+":"+a.port+n,a.href=a.protocol+"://"+c+(s&&s.port===a.port?"":":"+a.port),a}const US=typeof ArrayBuffer=="function",MS=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,Xm=Object.prototype.toString,BS=typeof Blob=="function"||typeof Blob<"u"&&Xm.call(Blob)==="[object BlobConstructor]",zS=typeof File=="function"||typeof File<"u"&&Xm.call(File)==="[object FileConstructor]";function Eh(l){return US&&(l instanceof ArrayBuffer||MS(l))||BS&&l instanceof Blob||zS&&l instanceof File}function zl(l,n){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let s=0,a=l.length;s<a;s++)if(zl(l[s]))return!0;return!1}if(Eh(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return zl(l.toJSON(),!0);for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s)&&zl(l[s]))return!0;return!1}function qS(l){const n=[],s=l.data,a=l;return a.data=ah(s,n),a.attachments=n.length,{packet:a,buffers:n}}function ah(l,n){if(!l)return l;if(Eh(l)){const s={_placeholder:!0,num:n.length};return n.push(l),s}else if(Array.isArray(l)){const s=new Array(l.length);for(let a=0;a<l.length;a++)s[a]=ah(l[a],n);return s}else if(typeof l=="object"&&!(l instanceof Date)){const s={};for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=ah(l[a],n));return s}return l}function LS(l,n){return l.data=lh(l.data,n),delete l.attachments,l}function lh(l,n){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<n.length)return n[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let s=0;s<l.length;s++)l[s]=lh(l[s],n);else if(typeof l=="object")for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&(l[s]=lh(l[s],n));return l}const HS=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$S=5;var be;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(be||(be={}));class VS{constructor(n){this.replacer=n}encode(n){return(n.type===be.EVENT||n.type===be.ACK)&&zl(n)?this.encodeAsBinary({type:n.type===be.EVENT?be.BINARY_EVENT:be.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let s=""+n.type;return(n.type===be.BINARY_EVENT||n.type===be.BINARY_ACK)&&(s+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(s+=n.nsp+","),n.id!=null&&(s+=n.id),n.data!=null&&(s+=JSON.stringify(n.data,this.replacer)),s}encodeAsBinary(n){const s=qS(n),a=this.encodeAsString(s.packet),u=s.buffers;return u.unshift(a),u}}function dy(l){return Object.prototype.toString.call(l)==="[object Object]"}class Th extends rt{constructor(n){super(),this.reviver=n}add(n){let s;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(n);const a=s.type===be.BINARY_EVENT;a||s.type===be.BINARY_ACK?(s.type=a?be.EVENT:be.ACK,this.reconstructor=new GS(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Eh(n)||n.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(n),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let s=0;const a={type:Number(n.charAt(0))};if(be[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===be.BINARY_EVENT||a.type===be.BINARY_ACK){const c=s+1;for(;n.charAt(++s)!=="-"&&s!=n.length;);const f=n.substring(c,s);if(f!=Number(f)||n.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(f)}if(n.charAt(s+1)==="/"){const c=s+1;for(;++s&&!(n.charAt(s)===","||s===n.length););a.nsp=n.substring(c,s)}else a.nsp="/";const u=n.charAt(s+1);if(u!==""&&Number(u)==u){const c=s+1;for(;++s;){const f=n.charAt(s);if(f==null||Number(f)!=f){--s;break}if(s===n.length)break}a.id=Number(n.substring(c,s+1))}if(n.charAt(++s)){const c=this.tryParse(n.substr(s));if(Th.isPayloadValid(a.type,c))a.data=c;else throw new Error("invalid payload")}return a}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,s){switch(n){case be.CONNECT:return dy(s);case be.DISCONNECT:return s===void 0;case be.CONNECT_ERROR:return typeof s=="string"||dy(s);case be.EVENT:case be.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&HS.indexOf(s[0])===-1);case be.ACK:case be.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class GS{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const s=LS(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const PS=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Th,Encoder:VS,get PacketType(){return be},protocol:$S},Symbol.toStringTag,{value:"Module"}));function un(l,n,s){return l.on(n,s),function(){l.off(n,s)}}const YS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Jm extends rt{constructor(n,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[un(n,"open",this.onopen.bind(this)),un(n,"packet",this.onpacket.bind(this)),un(n,"error",this.onerror.bind(this)),un(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...s){var a,u,c;if(YS.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(s.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const f={type:be.EVENT,data:s};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const m=this.ids++,w=s.pop();this._registerAckCallback(m,w),f.id=m}const d=(u=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||u===void 0?void 0:u.writable,g=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!d||(g?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(n,s){var a;const u=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(u===void 0){this.acks[n]=s;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===n&&this.sendBuffer.splice(d,1);s.call(this,new Error("operation has timed out"))},u),f=(...d)=>{this.io.clearTimeoutFn(c),s.apply(this,d)};f.withError=!0,this.acks[n]=f}emitWithAck(n,...s){return new Promise((a,u)=>{const c=(f,d)=>f?u(f):a(d);c.withError=!0,s.push(c),this.emit(n,...s)})}_addToQueue(n){let s;typeof n[n.length-1]=="function"&&(s=n.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((u,...c)=>a!==this._queue[0]?void 0:(u!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(u)):(this._queue.shift(),s&&s(null,...c)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!n||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(a=>String(a.id)===n)){const a=this.acks[n];delete this.acks[n],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case be.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case be.EVENT:case be.BINARY_EVENT:this.onevent(n);break;case be.ACK:case be.BINARY_ACK:this.onack(n);break;case be.DISCONNECT:this.ondisconnect();break;case be.CONNECT_ERROR:this.destroy();const a=new Error(n.data.message);a.data=n.data.data,this.emitReserved("connect_error",a);break}}onevent(n){const s=n.data||[];n.id!=null&&s.push(this.ack(n.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const s=this;let a=!1;return function(...u){a||(a=!0,s.packet({type:be.ACK,id:n,data:u}))}}onack(n){const s=this.acks[n.id];typeof s=="function"&&(delete this.acks[n.id],s.withError&&n.data.unshift(null),s.apply(this,n.data))}onconnect(n,s){this.id=n,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(n===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(n===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,n.data)}}}function Gs(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}Gs.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*l);l=(Math.floor(n*10)&1)==0?l-s:l+s}return Math.min(l,this.max)|0};Gs.prototype.reset=function(){this.attempts=0};Gs.prototype.setMin=function(l){this.ms=l};Gs.prototype.setMax=function(l){this.max=l};Gs.prototype.setJitter=function(l){this.jitter=l};class oh extends rt{constructor(n,s){var a;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(s=n,n=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,no(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Gs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=n;const u=s.parser||PS;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var s;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(s=this.backoff)===null||s===void 0||s.setMin(n),this)}randomizationFactor(n){var s;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(s=this.backoff)===null||s===void 0||s.setJitter(n),this)}reconnectionDelayMax(n){var s;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(s=this.backoff)===null||s===void 0||s.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new NS(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const u=un(s,"open",function(){a.onopen(),n&&n()}),c=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),n?n(d):this.maybeReconnectOnOpen()},f=un(s,"error",c);if(this._timeout!==!1){const d=this._timeout,g=this.setTimeoutFn(()=>{u(),c(new Error("timeout")),s.close()},d);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(u),this.subs.push(f),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(un(n,"ping",this.onping.bind(this)),un(n,"data",this.ondata.bind(this)),un(n,"error",this.onerror.bind(this)),un(n,"close",this.onclose.bind(this)),un(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(s){this.onclose("parse error",s)}}ondecoded(n){to(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,s){let a=this.nsps[n];return a?this._autoConnect&&!a.active&&a.connect():(a=new Jm(this,n,s),this.nsps[n]=a),a}_destroy(n){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(n){const s=this.encoder.encode(n);for(let a=0;a<s.length;a++)this.engine.write(s[a],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(u=>{u?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",u)):n.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Yr={};function ql(l,n){typeof l=="object"&&(n=l,l=void 0),n=n||{};const s=DS(l,n.path||"/socket.io"),a=s.source,u=s.id,c=s.path,f=Yr[u]&&c in Yr[u].nsps,d=n.forceNew||n["force new connection"]||n.multiplex===!1||f;let g;return d?g=new oh(a,n):(Yr[u]||(Yr[u]=new oh(a,n)),g=Yr[u]),s.query&&!n.query&&(n.query=s.queryKey),g.socket(s.path,n)}Object.assign(ql,{Manager:oh,Socket:Jm,io:ql,connect:ql});const vt=[];for(let l=0;l<256;++l)vt.push((l+256).toString(16).slice(1));function KS(l,n=0){return(vt[l[n+0]]+vt[l[n+1]]+vt[l[n+2]]+vt[l[n+3]]+"-"+vt[l[n+4]]+vt[l[n+5]]+"-"+vt[l[n+6]]+vt[l[n+7]]+"-"+vt[l[n+8]]+vt[l[n+9]]+"-"+vt[l[n+10]]+vt[l[n+11]]+vt[l[n+12]]+vt[l[n+13]]+vt[l[n+14]]+vt[l[n+15]]).toLowerCase()}let qc;const IS=new Uint8Array(16);function XS(){if(!qc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qc=crypto.getRandomValues.bind(crypto)}return qc(IS)}const JS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),py={randomUUID:JS};function QS(l,n,s){l=l||{};const a=l.random??l.rng?.()??XS();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,KS(a)}function ZS(l,n,s){return py.randomUUID&&!l?py.randomUUID():QS(l)}const kl=()=>{const l="xy_poker_browser_id";let n=localStorage.getItem(l);if(!n||n.length<10){const s=ZS();return localStorage.setItem(l,s),s}return n},Qm="https://xy-poker.onrender.com";console.log("[Socket.IO] Connecting to:",Qm);const re=ql(Qm,{autoConnect:!1,path:"/socket.io/",transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});re.on("connect",()=>console.log("[Socket.IO] Connected! ID:",re.id));re.on("disconnect",l=>console.log("[Socket.IO] Disconnected. Reason:",l));re.on("connect_error",l=>console.error("[Socket.IO] Connection error:",l));re.on("reconnect_attempt",()=>console.log("[Socket.IO] Reconnecting..."));const FS=()=>{re.connected||(console.log("[Socket.IO] Initiating connection..."),re.connect())};function WS(l,n){const s=l.players[n],a=l.players[0],u=s.hand,c=s.board,f=s.dice,d=[];for(let m=0;m<5;m++)c[2][m]===null&&d.push(m);if(d.length===0)return{cardId:u[0]?.id||"",colIndex:0,isHidden:!1};let g={cardId:u[0].id,colIndex:d[0],isHidden:!1},y=-1/0;for(const m of u)for(const w of d){const b=[c[0][w],c[1][w],c[2][w]],_=b.findIndex(A=>A===null);if(_===-1)continue;const E=[...b];E[_]=m;let R=eE(E,w,f[w]);if(_===2){const A=Ql();R+=tE(c,m,w)*A.xHandFocus,a.board[2][w]===null&&(R+=150*A.bonusAggression)}R+=nE(a,w),R+=Math.random()*5,R>y&&(y=R,g={cardId:m.id,colIndex:w,isHidden:!1})}return g.isHidden=iE(g,u,s),g}function eE(l,n,s,a){const u=l.filter(_=>_!==null);if(u.length===0)return 0;const c=Ql();let f=0;const d=u.length,g=u.map(_=>_.rank),y=new Set(g);d===3&&y.size===1?f+=400*s*c.tripPreference:d===2&&y.size===1&&(f+=160*s*c.tripPreference);const m=u.map(_=>_.suit).filter(_=>_!=="joker");if(new Set(m).size===1&&d>=2&&(f+=120*s*c.flushPreference,d===3&&(f+=100*s*c.flushPreference)),d>=2){const _=[...g].sort((R,A)=>R-A);let E=!0;for(let R=1;R<_.length;R++)if(_[R]!==_[R-1]+1){E=!1;break}E&&(f+=140*s*c.straightPreference,d===3&&(f+=120*s*c.straightPreference))}const b=g.reduce((_,E)=>_+E,0)/g.length;return f+=b*s*5,u.some(_=>_.suit==="joker")&&(f+=200*s),f}function tE(l,n,s){const a=[...l[2]];a[s]=n;const u=a.filter(b=>b!==null);if(u.length<2)return 0;let c=0;const f=u.map(b=>b.rank),d=u.map(b=>b.suit).filter(b=>b!=="joker"),g=new Map;f.forEach(b=>g.set(b,(g.get(b)||0)+1));const y=Math.max(...g.values());y>=2&&(c+=y*60),new Set(d).size===1&&u.length>=3&&(c+=100);const w=[...new Set(f)].sort((b,_)=>b-_);if(w.length>=3){let b=1,_=1;for(let E=1;E<w.length;E++)w[E]===w[E-1]+1?(_++,b=Math.max(b,_)):_=1;b>=3&&(c+=b*50)}return n.rank>=12&&(c+=80),n.suit==="joker"&&(c+=200),c}function nE(l,n,s,a){const c=[l.board[0][n],l.board[1][n],l.board[2][n]].filter(w=>w!==null);if(c.length<2)return 0;const f=c.map(w=>w.rank),d=c.map(w=>w.suit).filter(w=>w!=="joker");let g=0;return new Set(f).size===1&&(g+=30),new Set(d).size===1&&c.length>=2&&(g+=25),g}function iE(l,n,s,a){if(s.hiddenCardsCount>=3)return!1;const u=n.find(g=>g.id===l.cardId);if(!u||u.suit==="joker")return!1;const c=Ql(),f=l.colIndex,d=s.dice[f];return u.rank>=11&&d>=4?Math.random()<.4*c.hidingStrategy/.3:u.rank>=10?Math.random()<.25*c.hidingStrategy/.3:!1}const gy=["Brave","Swift","Clever","Mighty","Silent","Noble","Fierce","Bold","Wise","Lucky","Wild","Sharp","Quick","Steady","Bright","Cool","Epic","Grand","Strong","Sleek"],yy=["Tiger","Eagle","Dragon","Wolf","Phoenix","Falcon","Panther","Lion","Hawk","Bear","Fox","Shark","Viper","Raven","Cobra","Lynx","Puma","Cheetah","Jaguar","Orca"];function my(){let l="";for(let n=0;n<50;n++){const s=gy[Math.floor(Math.random()*gy.length)],a=yy[Math.floor(Math.random()*yy.length)];let u=`${s}${a}`;if(u.length<=10){const c=10-u.length;if(c>=1&&Math.random()>.3){const f=Math.pow(10,c)-1;if(f>0){const d=Math.floor(Math.random()*(f+1));u+=d}}l=u;break}}return l||"Player"+Math.floor(Math.random()*9999)}function sE(){const[l,n]=ee.useReducer(O_,qn),[s,a]=ee.useState(null),[u,c]=ee.useState(!1),[f,d]=ee.useState(!1),[g,y]=ee.useState(!1),[m,w]=ee.useState("local"),[b,_]=ee.useState(null),[E,R]=ee.useState(null),[A,D]=ee.useState(!1),[H,M]=ee.useState(re.connected),[G,Q]=ee.useState(!1),[P,V]=ee.useState(!1),[de,pe]=ee.useState(null),[Ee,Te]=ee.useState(null),[qe,ke]=ee.useState(!1),[Ve,Tt]=ee.useState(null),[z,Y]=ee.useState(!1),[ie,Re]=ee.useState(60),xe=ee.useRef(null),[O,$]=ee.useState(()=>localStorage.getItem("xypoker_playerName_v2")||my()),[K,I]=ee.useState("Player 2"),ae=ee.useRef(m),fe=ee.useRef(b);ee.useEffect(()=>{ae.current=m},[m]),ee.useEffect(()=>{fe.current=b},[b]);const we=ee.useRef(E);ee.useEffect(()=>{we.current=E},[E]);const ht=ee.useRef(P);ee.useEffect(()=>{ht.current=P},[P]);const Se=ee.useRef(null);ee.useEffect(()=>{!P&&Se.current&&(clearTimeout(Se.current),Se.current=null)},[P]),ee.useEffect(()=>{FS();const le=()=>M(!0),ue=()=>M(!1);return re.on("connect",le),re.on("disconnect",ue),re.on("quick_match_joined",(te={})=>{te.rating&&pe(te.rating),V(!0)}),re.on("player_joined",({roomId:te,role:Qe})=>{_(te),R(Qe),D(!0),w("online")}),re.on("sync_state",te=>{n({type:"SYNC_STATE",payload:te}),D(!0)}),re.on("auto_start_game",()=>{console.log("Auto-starting Quick Match game"),V(!1),D(!0),vl(),n({type:"START_GAME"}),d(!0),Q(!1)}),re.on("opponent_joined",({name:te})=>{I(te),vl()}),re.on("game_start",({roomId:te,initialDice:Qe,p1Name:Ke,p2Name:Ge,p1Id:Ie,p2Id:Ut})=>{_(te),V(!1),D(!0),vl(),re.id===Ie?(R("host"),I(Ge||"Player 2")):re.id===Ut&&(R("guest"),I(Ke||"Player 1")),n({type:"START_GAME",payload:{initialDice:Qe}}),d(!0),Q(!1)}),re.on("player_data",te=>{te&&te.rating&&pe(te.rating)}),re.on("rating_update",te=>{console.log("Rating updates received:",te),Te(te),we.current==="host"?pe(te.p1.new):we.current==="guest"&&pe(te.p2.new)}),re.on("game_action",te=>{n(te)}),re.on("game_end_surrender",({winner:te})=>{ae.current!=="local"&&(console.log("[SURRENDER] Received game_end_surrender event, winner:",te),setTimeout(()=>{console.log("[SURRENDER] Returning to lobby - resetting ALL state"),w(()=>"online"),_(()=>null),R(()=>null),D(()=>!1),V(()=>!1),I(()=>"Player 2"),Te(null),n({type:"SYNC_STATE",payload:qn}),console.log("[SURRENDER] State reset complete - should show lobby")},1e3))}),re.on("player_left",()=>{if(ae.current==="local"){console.log("Ignored player_left event because we are in local mode");return}console.log("Opponent left the room"),w("online"),_(null),R(null),D(!1),V(!1),Te(null),n({type:"SYNC_STATE",payload:qn})}),()=>{re.off("connect",le),re.off("disconnect",ue),re.off("quick_match_joined"),re.off("game_start"),re.off("player_data"),re.off("rating_update"),re.off("player_joined"),re.off("sync_state"),re.off("auto_start_game"),re.off("opponent_joined"),re.off("game_action"),re.off("game_end_surrender"),re.off("player_left")}},[]),ee.useEffect(()=>{A&&E==="host"&&b&&re.emit("sync_state",{roomId:b,state:l})},[l,A,E,b]),ee.useEffect(()=>{A&&E==="host"&&b&&l.phase==="ended"&&l.winner!==null&&re.emit("report_game_end",{roomId:b,winner:l.winner,p1Score:l.players[0].score,p2Score:l.players[1].score})},[l.phase,l.winner,A,E,b]);const{currentPlayerIndex:at,players:en,phase:je}=l,Ps=en[at],tn=m==="online"&&!A&&!P,Ys=tn||m==="local"&&je==="setup",Ks=A&&E==="guest"?K:O,io=A&&E==="guest"?O:K;ee.useEffect(()=>{if(m==="local"&&je==="playing"&&at===1){const le=qe?2e3+Math.random()*3e3:1e3,ue=setTimeout(()=>{const te=WS(l,1);n({type:"PLACE_AND_DRAW",payload:{cardId:te.cardId,colIndex:te.colIndex,isHidden:te.isHidden}}),ct()},le);return()=>clearTimeout(ue)}},[l,m,qe]),ee.useEffect(()=>{if(je==="ended"&&(Q(!0),m==="local")){const{winner:le}=l;C_(le==="p2",le===null)}},[je,m,l]),ee.useEffect(()=>{localStorage.setItem("xypoker_playerName_v2",O)},[O]),ee.useEffect(()=>{Jl.auth.getSession().then(({data:{session:ue}})=>{Tt(ue)});const{data:{subscription:le}}=Jl.auth.onAuthStateChange((ue,te)=>{Tt(te)});return()=>le.unsubscribe()},[]),ee.useEffect(()=>{if(H){const le=kl(),ue=Ve?.user?.id;re.emit("get_player_data",{browserId:le,userId:ue})}},[H,Ve]),ee.useEffect(()=>{m==="local"?qe||I("AI"):m==="online"&&!A&&I("Player 2")},[m,A,qe]),ee.useEffect(()=>{if(je!=="playing"||f)return;Re(60);const le=setInterval(()=>{Re(ue=>ue<=1?(clearInterval(le),na(),0):ue-1)},1e3);return xe.current=le,()=>clearInterval(le)},[at,je,f]);const na=()=>{if(je!=="playing")return;let le=0;if(A&&(le=E==="host"?0:1),A&&at!==le){console.log("Timer expired for opponent - waiting for their move...");return}console.log("Timer expired - Auto-playing random move");const ue=l.players[at];if(ue.hand.length===0)return;const te=Math.floor(Math.random()*ue.hand.length),Qe=ue.hand[te],Ke=[];for(let Ut=0;Ut<5;Ut++)(!ue.board[0][Ut]||!ue.board[1][Ut]||!ue.board[2][Ut])&&(ue.board[0][Ut]||Ke.push(Ut));if(Ke.length===0)return;const Ge=Ke[Math.floor(Math.random()*Ke.length)],Ie={type:"PLACE_AND_DRAW",payload:{cardId:Qe.id,colIndex:Ge,isHidden:!1}};n(Ie),ct(),A&&b&&re.emit("game_action",{roomId:b,action:Ie})},$i=()=>{ct(),m==="local"&&(ke(!1),I("AI")),n({type:"START_GAME"}),d(!0),Q(!1)},Is=()=>{console.log("Quick Match Timeout: Starting Bot Match");const le=fe.current;le?(console.log(`Cancelling matchmaking for roomId: ${le}`),re.emit("cancel_matchmaking",{roomId:le})):console.log("No roomId found to cancel matchmaking."),V(!1),w("local"),_(null),R(null),D(!1),I(my()),ke(!0),n({type:"SYNC_STATE",payload:qn}),setTimeout(()=>{vl(),n({type:"START_GAME"}),d(!0)},500)},Xs=()=>{const le=kl(),ue=Ve?.user?.id;re.emit("create_room",{playerName:O,browserId:le,userId:ue},te=>{_(te.roomId),R("host")})},so=le=>{const ue=kl(),te=Ve?.user?.id;re.emit("join_room",{roomId:le,playerName:O,browserId:ue,userId:te},Qe=>{Qe.success?(_(le),R("guest"),Qe.opponentName&&I(Qe.opponentName)):alert(Qe.message)})},ro=()=>{V(!0),Se.current&&clearTimeout(Se.current),Se.current=setTimeout(()=>{Is()},15e3);const le=kl(),ue=Ve?.user?.id;re.emit("quick_match",{playerName:O,browserId:le,userId:ue},te=>{te.success?(_(te.roomId),R(te.role),D(!0),te.opponentName&&I(te.opponentName)):(V(!1),Se.current&&(clearTimeout(Se.current),Se.current=null))})},bt=()=>{ct(),Se.current&&(clearTimeout(Se.current),Se.current=null),re.emit("cancel_matchmaking",{roomId:b}),_(null),R(null),V(!1),D(!1)},ao=()=>{ct(),window.confirm("Surrender? This will end the game.")&&(m==="local"?n({type:"SYNC_STATE",payload:qn}):re.emit("surrender",{roomId:b}))},ia=()=>{const{players:le}=l,ue=le[0],te=le[1],Qe=ue.dice;return Array.from({length:5},(Ke,Ge)=>{const Ie=[ue.board[0][Ge],ue.board[1][Ge],ue.board[2][Ge]],Ut=[te.board[0][Ge],te.board[1][Ge],te.board[2][Ge]],Gi=zs(Ie,Qe[Ge]),Pi=zs(Ut,Qe[Ge]);if(Gi.rankValue>Pi.rankValue)return"p1";if(Pi.rankValue>Gi.rankValue)return"p2";for(let mn=0;mn<Math.max(Gi.kickers.length,Pi.kickers.length);mn++){const di=Gi.kickers[mn]||0,pi=Pi.kickers[mn]||0;if(di>pi)return"p1";if(pi>di)return"p2"}return"draw"})},sa=()=>{const{players:le}=l,ue=le[0],te=le[1],Qe=qs(ue.board[2]),Ke=qs(te.board[2]),{p1Score:Ge,p2Score:Ie}=ch(Qe,Ke);return Ge>Ie?"p1":Ie>Ge?"p2":"draw"},Vi=le=>{let ue=0;A&&(ue=E==="host"?0:1),at===ue&&a(s===le?null:le)},lo=le=>{if(je!=="playing"||!s)return;let ue=0;if(A&&(ue=E==="host"?0:1),at!==ue)return;const te={type:"PLACE_AND_DRAW",payload:{cardId:s,colIndex:le,isHidden:u}};n(te),A&&b&&re.emit("game_action",{roomId:b,action:te}),a(null),c(!1)};return S.jsxs("div",{className:`app ${tn?"view-lobby":"view-game"} phase-${je}`,children:[S.jsxs("header",{className:`app-header ${je==="playing"||je==="scoring"?"battle-mode":""}`,children:[S.jsxs("div",{className:"header-title-row",children:[S.jsx("h1",{children:"XY Poker"}),Ys&&S.jsx("span",{className:"version",children:"12082145"})]}),!1,(m==="local"&&je==="setup"||m==="online"&&!A)&&S.jsxs("div",{className:"mode-switch",children:[S.jsx("button",{className:m==="local"?"active":"",onClick:()=>{ct(),w("local"),D(!1),_(null),R(null),ke(!1),I("AI"),n({type:"SYNC_STATE",payload:qn})},children:"Local (vs AI)"}),S.jsx("button",{className:m==="online"?"active":"",onClick:()=>{ct(),w("online")},children:"Online"})]})]}),!f&&je!=="setup"&&S.jsx(U_,{gameState:l,isOnlineMode:m==="online",playerRole:E,playerName:O,opponentName:K,onSurrender:ao}),!f&&S.jsx(S.Fragment,{children:m==="online"&&P?S.jsx("div",{className:"setup-screen",children:S.jsxs("div",{className:"waiting-message",children:[S.jsx("h3",{children:" Quick Match"}),S.jsx("h2",{children:"Waiting for opponent..."}),S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"Your game will start automatically when an opponent joins"}),S.jsx("button",{className:"btn-cancel",onClick:bt,children:"Cancel"})]})}):tn?S.jsx(B_,{onCreateRoom:Xs,onJoinRoom:so,onQuickMatch:ro,onCancelMatchmaking:bt,roomId:b,isConnected:H,playerRole:E,playerName:O,onPlayerNameChange:$,rating:de}):S.jsxs(S.Fragment,{children:[S.jsx(Fw,{isOpen:z,onClose:()=>Y(!1),onSuccess:()=>Y(!1)}),!f&&je==="playing"&&S.jsx(L_,{timeLeft:ie,totalTime:60,currentPlayerIndex:at,isMyTurn:!A||E==="host"&&at===0||E==="guest"&&at===1}),S.jsxs("main",{className:"game-board",children:[je==="setup"&&S.jsxs("div",{className:"setup-screen",children:[P?S.jsxs("div",{className:"waiting-message",children:[S.jsx("h3",{children:" Quick Match"}),S.jsx("h2",{children:"Waiting for opponent..."}),S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"Your game will start automatically when an opponent joins"})]}):m==="local"||m==="online"&&E==="host"?S.jsxs("div",{className:"setup-actions",style:{display:"flex",flexDirection:"column",gap:"15px",alignItems:"center"},children:[S.jsx("button",{className:"btn-primary",onClick:$i,children:"Start Game"}),m==="local"&&S.jsx("button",{className:"btn-secondary",style:{fontSize:"0.9rem",padding:"8px 16px",backgroundColor:"rgba(255,255,255,0.1)"},onClick:()=>{ct(),y(!0)},children:" How to Play"})]}):S.jsxs("div",{className:"waiting-message",children:[S.jsx("h3",{children:"Waiting for Host to start game..."}),S.jsx("div",{className:"loading-spinner"})]}),m==="local"&&je==="setup"&&S.jsx("div",{className:"ad-banner-container",style:{position:"absolute",bottom:"20px",width:"90%",left:"50%",transform:"translateX(-50%)"},children:S.jsx("p",{style:{color:"#666",fontSize:"0.8rem"},children:"Ad Banner Space"})})]}),(je==="playing"||je==="scoring"||je==="ended")&&S.jsx("div",{className:"play-area",children:S.jsx(N_,{playerBoard:en[A&&E==="guest"?1:0].board,opponentBoard:en[A&&E==="guest"?0:1].board,dice:en[0].dice,onColumnClick:lo,isCurrentPlayer:je==="playing"&&at===(A&&E==="guest"?1:0),revealAll:je==="ended",winningColumns:je==="ended"?ia():void 0,xWinner:je==="ended"?sa():void 0,bottomPlayerId:A&&E==="guest"?"p2":"p1"})})]}),S.jsxs("footer",{className:"controls",children:[je==="playing"&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"hand-container",children:S.jsx(D_,{hand:en[A&&E==="guest"?1:0].hand,selectedCardId:s,onCardSelect:Vi,isHidden:!1,isCurrentPlayer:at===(A&&E==="guest"?1:0)})}),at===(A&&E==="guest"?1:0)&&S.jsx("div",{className:"action-bar",children:S.jsx("div",{className:"place-controls",children:S.jsxs("label",{className:"toggle-hidden",children:[S.jsx("input",{type:"checkbox",checked:u,onChange:le=>c(le.target.checked),disabled:!s||Ps.hiddenCardsCount>=3}),"Place Face Down (",3-Ps.hiddenCardsCount," left)"]})})})]}),je==="scoring"&&S.jsx("button",{className:"btn-primary",onClick:()=>n({type:"CALCULATE_SCORE"}),children:"Reveal & Calculate Scores"}),je==="ended"&&!G&&S.jsxs("div",{className:"end-game-controls",style:{display:"flex",gap:"10px"},children:[S.jsx("button",{className:"btn-primary",onClick:()=>Q(!0),children:"Show Results"}),S.jsx("button",{className:"btn-secondary",onClick:()=>{ct(),w("online"),_(null),R(null),D(!1),V(!1),Te(null),n({type:"SYNC_STATE",payload:qn})},children:"Back to Lobby"})]}),je==="ended"&&G&&S.jsx(M_,{gameState:l,onRestart:$i,onClose:()=>{Q(!1),w("online"),_(null),R(null),D(!1),V(!1),Te(null),n({type:"SYNC_STATE",payload:qn})},onViewBoard:()=>{Q(!1)},p1Name:Ks,p2Name:io,ratingUpdates:Ee})]})]})}),f&&S.jsx(z_,{targetValues:en[0].dice,onComplete:()=>d(!1)}),g&&S.jsx(q_,{onClose:()=>{ct(),y(!1)}})]})}w_.createRoot(document.getElementById("root")).render(S.jsx(ee.StrictMode,{children:S.jsx(sE,{})}));
