function p_(l,n){for(var s=0;s<n.length;s++){const r=n[s];if(typeof r!="string"&&!Array.isArray(r)){for(const u in r)if(u!=="default"&&!(u in l)){const c=Object.getOwnPropertyDescriptor(r,u);c&&Object.defineProperty(l,u,c.get?c:{enumerable:!0,get:()=>r[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function g_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function br(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var s=function r(){var u=!1;try{u=this instanceof r}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(r){var u=Object.getOwnPropertyDescriptor(l,r);Object.defineProperty(s,r,u.get?u:{enumerable:!0,get:function(){return l[r]}})}),s}var Kc={exports:{}},lr={};var Ug;function m_(){if(Ug)return lr;Ug=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var p in u)p!=="key"&&(c[p]=u[p])}else c=u;return u=c.ref,{$$typeof:l,type:r,key:f,ref:u!==void 0?u:null,props:c}}return lr.Fragment=n,lr.jsx=s,lr.jsxs=s,lr}var Mg;function y_(){return Mg||(Mg=1,Kc.exports=m_()),Kc.exports}var b=y_(),Xc={exports:{}},fe={};var Bg;function v_(){if(Bg)return fe;Bg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function D(O,$,X){this.props=O,this.context=$,this.refs=C,this.updater=X||E}D.prototype.isReactComponent={},D.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=D.prototype;function M(O,$,X){this.props=O,this.context=$,this.refs=C,this.updater=X||E}var L=M.prototype=new G;L.constructor=M,R(L,D.prototype),L.isPureReactComponent=!0;var Y=Array.isArray;function q(){}var P={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function de(O,$,X){var W=X.ref;return{$$typeof:l,type:O,key:$,ref:W!==void 0?W:null,props:X}}function _e(O,$){return de(O.type,$,O.props)}function me(O){return typeof O=="object"&&O!==null&&O.$$typeof===l}function Ae(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return $[X]})}var ye=/\/+/g;function et(O,$){return typeof O=="object"&&O!==null&&O.key!=null?Ae(""+O.key):$.toString(36)}function _t(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(q,q):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,$,X,W,he){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(ve){case"bigint":case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case l:case n:je=!0;break;case _:return je=O._init,B(je(O._payload),$,X,W,he)}}if(je)return he=he(O),je=W===""?"."+et(O,0):W,Y(he)?(X="",je!=null&&(X=je.replace(ye,"$&/")+"/"),B(he,$,X,"",function(ti){return ti})):he!=null&&(me(he)&&(he=_e(he,X+(he.key==null||O&&O.key===he.key?"":(""+he.key).replace(ye,"$&/")+"/")+je)),$.push(he)),1;je=0;var bt=W===""?".":W+":";if(Y(O))for(var Qe=0;Qe<O.length;Qe++)W=O[Qe],ve=bt+et(W,Qe),je+=B(W,$,X,ve,he);else if(Qe=w(O),typeof Qe=="function")for(O=Qe.call(O),Qe=0;!(W=O.next()).done;)W=W.value,ve=bt+et(W,Qe++),je+=B(W,$,X,ve,he);else if(ve==="object"){if(typeof O.then=="function")return B(_t(O),$,X,W,he);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return je}function I(O,$,X){if(O==null)return O;var W=[],he=0;return B(O,W,"","",function(ve){return $.call(X,ve,he++)}),W}function ae(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Oe={map:I,forEach:function(O,$,X){I(O,function(){$.apply(this,arguments)},X)},count:function(O){var $=0;return I(O,function(){$++}),$},toArray:function(O){return I(O,function($){return $})||[]},only:function(O){if(!me(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return fe.Activity=S,fe.Children=Oe,fe.Component=D,fe.Fragment=s,fe.Profiler=u,fe.PureComponent=M,fe.StrictMode=r,fe.Suspense=g,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,fe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return P.H.useMemoCache(O)}},fe.cache=function(O){return function(){return O.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(O,$,X){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var W=R({},O.props),he=O.key;if($!=null)for(ve in $.key!==void 0&&(he=""+$.key),$)!ue.call($,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&$.ref===void 0||(W[ve]=$[ve]);var ve=arguments.length-2;if(ve===1)W.children=X;else if(1<ve){for(var je=Array(ve),bt=0;bt<ve;bt++)je[bt]=arguments[bt+2];W.children=je}return de(O.type,he,W)},fe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},fe.createElement=function(O,$,X){var W,he={},ve=null;if($!=null)for(W in $.key!==void 0&&(ve=""+$.key),$)ue.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=$[W]);var je=arguments.length-2;if(je===1)he.children=X;else if(1<je){for(var bt=Array(je),Qe=0;Qe<je;Qe++)bt[Qe]=arguments[Qe+2];he.children=bt}if(O&&O.defaultProps)for(W in je=O.defaultProps,je)he[W]===void 0&&(he[W]=je[W]);return de(O,ve,he)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(O){return{$$typeof:p,render:O}},fe.isValidElement=me,fe.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:ae}},fe.memo=function(O,$){return{$$typeof:m,type:O,compare:$===void 0?null:$}},fe.startTransition=function(O){var $=P.T,X={};P.T=X;try{var W=O(),he=P.S;he!==null&&he(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(q,ce)}catch(ve){ce(ve)}finally{$!==null&&X.types!==null&&($.types=X.types),P.T=$}},fe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},fe.use=function(O){return P.H.use(O)},fe.useActionState=function(O,$,X){return P.H.useActionState(O,$,X)},fe.useCallback=function(O,$){return P.H.useCallback(O,$)},fe.useContext=function(O){return P.H.useContext(O)},fe.useDebugValue=function(){},fe.useDeferredValue=function(O,$){return P.H.useDeferredValue(O,$)},fe.useEffect=function(O,$){return P.H.useEffect(O,$)},fe.useEffectEvent=function(O){return P.H.useEffectEvent(O)},fe.useId=function(){return P.H.useId()},fe.useImperativeHandle=function(O,$,X){return P.H.useImperativeHandle(O,$,X)},fe.useInsertionEffect=function(O,$){return P.H.useInsertionEffect(O,$)},fe.useLayoutEffect=function(O,$){return P.H.useLayoutEffect(O,$)},fe.useMemo=function(O,$){return P.H.useMemo(O,$)},fe.useOptimistic=function(O,$){return P.H.useOptimistic(O,$)},fe.useReducer=function(O,$,X){return P.H.useReducer(O,$,X)},fe.useRef=function(O){return P.H.useRef(O)},fe.useState=function(O){return P.H.useState(O)},fe.useSyncExternalStore=function(O,$,X){return P.H.useSyncExternalStore(O,$,X)},fe.useTransition=function(){return P.H.useTransition()},fe.version="19.2.1",fe}var zg;function Uh(){return zg||(zg=1,Xc.exports=v_()),Xc.exports}var Z=Uh(),Jc={exports:{}},or={},Qc={exports:{}},Zc={};var qg;function __(){return qg||(qg=1,(function(l){function n(B,I){var ae=B.length;B.push(I);e:for(;0<ae;){var ce=ae-1>>>1,Oe=B[ce];if(0<u(Oe,I))B[ce]=I,B[ae]=Oe,ae=ce;else break e}}function s(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var I=B[0],ae=B.pop();if(ae!==I){B[0]=ae;e:for(var ce=0,Oe=B.length,O=Oe>>>1;ce<O;){var $=2*(ce+1)-1,X=B[$],W=$+1,he=B[W];if(0>u(X,ae))W<Oe&&0>u(he,X)?(B[ce]=he,B[W]=ae,ce=W):(B[ce]=X,B[$]=ae,ce=$);else if(W<Oe&&0>u(he,ae))B[ce]=he,B[W]=ae,ce=W;else break e}}return I}function u(B,I){var ae=B.sortIndex-I.sortIndex;return ae!==0?ae:B.id-I.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();l.unstable_now=function(){return f.now()-p}}var g=[],m=[],_=1,S=null,v=3,w=!1,E=!1,R=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function L(B){for(var I=s(m);I!==null;){if(I.callback===null)r(m);else if(I.startTime<=B)r(m),I.sortIndex=I.expirationTime,n(g,I);else break;I=s(m)}}function Y(B){if(R=!1,L(B),!E)if(s(g)!==null)E=!0,q||(q=!0,Ae());else{var I=s(m);I!==null&&_t(Y,I.startTime-B)}}var q=!1,P=-1,ue=5,de=-1;function _e(){return C?!0:!(l.unstable_now()-de<ue)}function me(){if(C=!1,q){var B=l.unstable_now();de=B;var I=!0;try{e:{E=!1,R&&(R=!1,G(P),P=-1),w=!0;var ae=v;try{t:{for(L(B),S=s(g);S!==null&&!(S.expirationTime>B&&_e());){var ce=S.callback;if(typeof ce=="function"){S.callback=null,v=S.priorityLevel;var Oe=ce(S.expirationTime<=B);if(B=l.unstable_now(),typeof Oe=="function"){S.callback=Oe,L(B),I=!0;break t}S===s(g)&&r(g),L(B)}else r(g);S=s(g)}if(S!==null)I=!0;else{var O=s(m);O!==null&&_t(Y,O.startTime-B),I=!1}}break e}finally{S=null,v=ae,w=!1}I=void 0}}finally{I?Ae():q=!1}}}var Ae;if(typeof M=="function")Ae=function(){M(me)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,et=ye.port2;ye.port1.onmessage=me,Ae=function(){et.postMessage(null)}}else Ae=function(){D(me,0)};function _t(B,I){P=D(function(){B(l.unstable_now())},I)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(B){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var ae=v;v=I;try{return B()}finally{v=ae}},l.unstable_requestPaint=function(){C=!0},l.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=v;v=B;try{return I()}finally{v=ae}},l.unstable_scheduleCallback=function(B,I,ae){var ce=l.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ce+ae:ce):ae=ce,B){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ae+Oe,B={id:_++,callback:I,priorityLevel:B,startTime:ae,expirationTime:Oe,sortIndex:-1},ae>ce?(B.sortIndex=ae,n(m,B),s(g)===null&&B===s(m)&&(R?(G(P),P=-1):R=!0,_t(Y,ae-ce))):(B.sortIndex=Oe,n(g,B),E||w||(E=!0,q||(q=!0,Ae()))),B},l.unstable_shouldYield=_e,l.unstable_wrapCallback=function(B){var I=v;return function(){var ae=v;v=I;try{return B.apply(this,arguments)}finally{v=ae}}}})(Zc)),Zc}var Lg;function b_(){return Lg||(Lg=1,Qc.exports=__()),Qc.exports}var Fc={exports:{}},Ut={};var Hg;function S_(){if(Hg)return Ut;Hg=1;var l=Uh();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(g,m,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:g,containerInfo:m,implementation:_}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(g,m,null,_)},Ut.flushSync=function(g){var m=f.T,_=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=m,r.p=_,r.d.f()}},Ut.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},Ut.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ut.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,S=p(_,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:v,fetchPriority:w}):_==="script"&&r.d.X(g,{crossOrigin:S,integrity:v,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ut.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},Ut.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,S=p(_,m.crossOrigin);r.d.L(g,_,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ut.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},Ut.requestFormReset=function(g){r.d.r(g)},Ut.unstable_batchedUpdates=function(g,m){return g(m)},Ut.useFormState=function(g,m,_){return f.H.useFormState(g,m,_)},Ut.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ut.version="19.2.1",Ut}var $g;function w_(){if($g)return Fc.exports;$g=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Fc.exports=S_(),Fc.exports}var Vg;function E_(){if(Vg)return or;Vg=1;var l=b_(),n=Uh(),s=w_();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var o=i.return;if(o===null)break;var h=o.alternate;if(h===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===i)return g(o),e;if(h===a)return g(o),t;h=h.sibling}throw Error(r(188))}if(i.return!==a.return)i=o,a=h;else{for(var d=!1,y=o.child;y;){if(y===i){d=!0,i=o,a=h;break}if(y===a){d=!0,a=o,i=h;break}y=y.sibling}if(!d){for(y=h.child;y;){if(y===i){d=!0,i=h,a=o;break}if(y===a){d=!0,a=h,i=o;break}y=y.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case M:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:et(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return et(e(t))}catch{}}return null}var _t=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ce=[],Oe=-1;function O(e){return{current:e}}function $(e){0>Oe||(e.current=ce[Oe],ce[Oe]=null,Oe--)}function X(e,t){Oe++,ce[Oe]=e.current,e.current=t}var W=O(null),he=O(null),ve=O(null),je=O(null);function bt(e,t){switch(X(ve,t),X(he,e),X(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ig(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ig(t),e=sg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(W),X(W,e)}function Qe(){$(W),$(he),$(ve)}function ti(e){e.memoizedState!==null&&X(je,e);var t=W.current,i=sg(t,e.type);t!==i&&(X(he,e),X(W,i))}function fs(e){he.current===e&&($(W),$(he)),je.current===e&&($(je),ir._currentValue=ae)}var Kt,Er;function dn(e){if(Kt===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Kt=t&&t[1]||"",Er=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+e+Er}var Nt=!1;function Ui(e,t){if(!e||Nt)return"";Nt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(U){var N=U}Reflect.construct(e,[],V)}else{try{V.call()}catch(U){N=U}e.call(V.prototype)}}else{try{throw Error()}catch(U){N=U}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(U){if(U&&N&&typeof U.stack=="string")return[U.stack,N.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),d=h[0],y=h[1];if(d&&y){var T=d.split(`
`),x=y.split(`
`);for(o=a=0;a<T.length&&!T[a].includes("DetermineComponentFrameRoot");)a++;for(;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;if(a===T.length||o===x.length)for(a=T.length-1,o=x.length-1;1<=a&&0<=o&&T[a]!==x[o];)o--;for(;1<=a&&0<=o;a--,o--)if(T[a]!==x[o]){if(a!==1||o!==1)do if(a--,o--,0>o||T[a]!==x[o]){var z=`
`+T[a].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=a&&0<=o);break}}}finally{Nt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?dn(i):""}function Tr(e,t){switch(e.tag){case 26:case 27:case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return e.child!==t&&t!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return Ui(e.type,!1);case 11:return Ui(e.type.render,!1);case 1:return Ui(e.type,!0);case 31:return dn("Activity");default:return""}}function Ar(e){try{var t="",i=null;do t+=Tr(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var fa=Object.prototype.hasOwnProperty,ds=l.unstable_scheduleCallback,Mi=l.unstable_cancelCallback,Mo=l.unstable_shouldYield,da=l.unstable_requestPaint,Dt=l.unstable_now,pa=l.unstable_getCurrentPriorityLevel,Or=l.unstable_ImmediatePriority,ga=l.unstable_UserBlockingPriority,Bi=l.unstable_NormalPriority,ma=l.unstable_LowPriority,Rr=l.unstable_IdlePriority,kr=l.log,Cr=l.unstable_setDisableYieldValue,xn=null,wt=null;function Sn(e){if(typeof kr=="function"&&Cr(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(xn,e)}catch{}}var Bt=Math.clz32?Math.clz32:zo,Bo=Math.log,ya=Math.LN2;function zo(e){return e>>>=0,e===0?32:31-(Bo(e)/ya|0)|0}var ps=256,gs=262144,ni=4194304;function Nn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Et(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var y=a&134217727;return y!==0?(a=y&~h,a!==0?o=Nn(a):(d&=y,d!==0?o=Nn(d):i||(i=y&~e,i!==0&&(o=Nn(i))))):(y=a&~h,y!==0?o=Nn(y):d!==0?o=Nn(d):i||(i=a&~e,i!==0&&(o=Nn(i)))),o===0?0:t!==0&&t!==o&&(t&h)===0&&(h=o&-o,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:o}function tt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var e=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),e}function ms(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Dn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qo(e,t,i,a,o,h){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,T=e.expirationTimes,x=e.hiddenUpdates;for(i=d&~i;0<i;){var z=31-Bt(i),V=1<<z;y[z]=0,T[z]=-1;var N=x[z];if(N!==null)for(x[z]=null,z=0;z<N.length;z++){var U=N[z];U!==null&&(U.lane&=-536870913)}i&=~V}a!==0&&jr(e,a,0),h!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=h&~(d&~t))}function jr(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Bt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function xr(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Bt(i),o=1<<a;o&t|e[a]&t&&(e[a]|=t),i&=~o}}function Nr(e,t){var i=t&-t;return i=(i&42)!==0?1:ys(i),(i&(e.suspendedLanes|t))!==0?0:i}function ys(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function va(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dr(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Rg(e.type))}function Ur(e,t){var i=I.p;try{return I.p=e,t()}finally{I.p=i}}var wn=Math.random().toString(36).slice(2),rt="__reactFiber$"+wn,lt="__reactProps$"+wn,ii="__reactContainer$"+wn,_a="__reactEvents$"+wn,Lo="__reactListeners$"+wn,Ho="__reactHandles$"+wn,Mr="__reactResources$"+wn,K="__reactMarker$"+wn;function se(e){delete e[rt],delete e[lt],delete e[_a],delete e[Lo],delete e[Ho]}function Q(e){var t=e[rt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ii]||i[rt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=hg(e);e!==null;){if(i=e[rt])return i;e=hg(e)}return t}e=i,i=e.parentNode}return null}function we(e){if(e=e[rt]||e[ii]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ke(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Be(e){var t=e[Mr];return t||(t=e[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Re(e){e[K]=!0}var Ze=new Set,gt={};function Ve(e,t){nt(e,t),nt(e+"Capture",t)}function nt(e,t){for(gt[e]=t,e=0;e<t.length;e++)Ze.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Un={},vs={};function Br(e){return fa.call(vs,e)?!0:fa.call(Un,e)?!1:it.test(e)?vs[e]=!0:(Un[e]=!0,!1)}function Tt(e,t,i){if(Br(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function qi(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function mt(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function si(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){i=""+d,h.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function En(e){if(!e._valueTracker){var t=zr(e)?"checked":"value";e._valueTracker=si(e,t,""+e[t])}}function Li(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=zr(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qr=/[\n"\\]/g;function nn(e){return e.replace(qr,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $o(e,t,i,a,o,h,d,y){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Vo(e,d,qt(t)):i!=null?Vo(e,d,qt(i)):a!=null&&e.removeAttribute("value"),o==null&&h!=null&&(e.defaultChecked=!!h),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+qt(y):e.removeAttribute("name")}function Qh(e,t,i,a,o,h,d,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){En(e);return}i=i!=null?""+qt(i):"",t=t!=null?""+qt(t):i,y||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=y?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),En(e)}function Vo(e,t,i){t==="number"&&Hi(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function _s(e,t,i,a){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+qt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Zh(e,t,i){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+qt(i):""}function Fh(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(_t(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=qt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),En(e)}function bs(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var uv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||uv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function ef(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&i[o]!==a&&Wh(e,o,a)}else for(var h in t)t.hasOwnProperty(h)&&Wh(e,h,t[h])}function Go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lr(e){return hv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var Po=null;function Io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,ws=null;function tf(e){var t=we(e);if(t&&(e=t.stateNode)){var i=e[lt]||null;e:switch(e=t.stateNode,t.type){case"input":if($o(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+nn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var o=a[lt]||null;if(!o)throw Error(r(90));$o(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&Li(a)}break e;case"textarea":Zh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&_s(e,!!i.multiple,t,!1)}}}var Yo=!1;function nf(e,t,i){if(Yo)return e(t,i);Yo=!0;try{var a=e(t);return a}finally{if(Yo=!1,(Ss!==null||ws!==null)&&(Ol(),Ss&&(t=Ss,e=ws,ws=Ss=null,tf(t),e)))for(t=0;t<e.length;t++)tf(e[t])}}function ba(e,t){var i=e.stateNode;if(i===null)return null;var a=i[lt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(Bn)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Ko=!1}var ai=null,Xo=null,Hr=null;function sf(){if(Hr)return Hr;var e,t=Xo,i=t.length,a,o="value"in ai?ai.value:ai.textContent,h=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===o[h-a];a++);return Hr=o.slice(e,1<a?1-a:void 0)}function $r(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function af(){return!1}function Lt(e){function t(i,a,o,h,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=h,this.target=d,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Vr:af,this.isPropagationStopped=af,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=Lt($i),wa=S({},$i,{view:0,detail:0}),fv=Lt(wa),Jo,Qo,Ea,Pr=S({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(Jo=e.screenX-Ea.screenX,Qo=e.screenY-Ea.screenY):Qo=Jo=0,Ea=e),Jo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),rf=Lt(Pr),dv=S({},Pr,{dataTransfer:0}),pv=Lt(dv),gv=S({},wa,{relatedTarget:0}),Zo=Lt(gv),mv=S({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),yv=Lt(mv),vv=S({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_v=Lt(vv),bv=S({},$i,{data:0}),lf=Lt(bv),Sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ev[e])?!!t[e]:!1}function Fo(){return Tv}var Av=S({},wa,{key:function(e){if(e.key){var t=Sv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(e){return e.type==="keypress"?$r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ov=Lt(Av),Rv=S({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Lt(Rv),kv=S({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),Cv=Lt(kv),jv=S({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),xv=Lt(jv),Nv=S({},Pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=Lt(Nv),Uv=S({},$i,{newState:0,oldState:0}),Mv=Lt(Uv),Bv=[9,13,27,32],Wo=Bn&&"CompositionEvent"in window,Ta=null;Bn&&"documentMode"in document&&(Ta=document.documentMode);var zv=Bn&&"TextEvent"in window&&!Ta,uf=Bn&&(!Wo||Ta&&8<Ta&&11>=Ta),cf=" ",hf=!1;function ff(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function qv(e,t){switch(e){case"compositionend":return df(t);case"keypress":return t.which!==32?null:(hf=!0,cf);case"textInput":return e=t.data,e===cf&&hf?null:e;default:return null}}function Lv(e,t){if(Es)return e==="compositionend"||!Wo&&ff(e,t)?(e=sf(),Hr=Xo=ai=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uf&&t.locale!=="ko"?null:t.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hv[e.type]:t==="textarea"}function gf(e,t,i,a){Ss?ws?ws.push(a):ws=[a]:Ss=a,t=Dl(t,"onChange"),0<t.length&&(i=new Gr("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Aa=null,Oa=null;function $v(e){Zp(e,0)}function Ir(e){var t=Ke(e);if(Li(t))return e}function mf(e,t){if(e==="change")return t}var yf=!1;if(Bn){var eu;if(Bn){var tu="oninput"in document;if(!tu){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),tu=typeof vf.oninput=="function"}eu=tu}else eu=!1;yf=eu&&(!document.documentMode||9<document.documentMode)}function _f(){Aa&&(Aa.detachEvent("onpropertychange",bf),Oa=Aa=null)}function bf(e){if(e.propertyName==="value"&&Ir(Oa)){var t=[];gf(t,Oa,e,Io(e)),nf($v,t)}}function Vv(e,t,i){e==="focusin"?(_f(),Aa=t,Oa=i,Aa.attachEvent("onpropertychange",bf)):e==="focusout"&&_f()}function Gv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ir(Oa)}function Pv(e,t){if(e==="click")return Ir(t)}function Iv(e,t){if(e==="input"||e==="change")return Ir(t)}function Yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:Yv;function Ra(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!fa.call(t,o)||!Xt(e[o],t[o]))return!1}return!0}function Sf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wf(e,t){var i=Sf(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Sf(i)}}function Ef(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ef(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hi(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Hi(e.document)}return t}function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kv=Bn&&"documentMode"in document&&11>=document.documentMode,Ts=null,iu=null,ka=null,su=!1;function Af(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;su||Ts==null||Ts!==Hi(a)||(a=Ts,"selectionStart"in a&&nu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ka&&Ra(ka,a)||(ka=a,a=Dl(iu,"onSelect"),0<a.length&&(t=new Gr("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Ts)))}function Vi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var As={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},au={},Of={};Bn&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Gi(e){if(au[e])return au[e];if(!As[e])return e;var t=As[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Of)return au[e]=t[i];return e}var Rf=Gi("animationend"),kf=Gi("animationiteration"),Cf=Gi("animationstart"),Xv=Gi("transitionrun"),Jv=Gi("transitionstart"),Qv=Gi("transitioncancel"),jf=Gi("transitionend"),xf=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function pn(e,t){xf.set(e,t),Ve(t,[e])}var Yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sn=[],Os=0,lu=0;function Kr(){for(var e=Os,t=lu=Os=0;t<e;){var i=sn[t];sn[t++]=null;var a=sn[t];sn[t++]=null;var o=sn[t];sn[t++]=null;var h=sn[t];if(sn[t++]=null,a!==null&&o!==null){var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}h!==0&&Nf(i,o,h)}}function Xr(e,t,i,a){sn[Os++]=e,sn[Os++]=t,sn[Os++]=i,sn[Os++]=a,lu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ou(e,t,i,a){return Xr(e,t,i,a),Jr(e)}function Pi(e,t){return Xr(e,null,null,t),Jr(e)}function Nf(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var o=!1,h=e.return;h!==null;)h.childLanes|=i,a=h.alternate,a!==null&&(a.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(o=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,o&&t!==null&&(o=31-Bt(i),e=h.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=i|536870912),h):null}function Jr(e){if(50<Qa)throw Qa=0,yc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Rs={};function Zv(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,i,a){return new Zv(e,t,i,a)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zn(e,t){var i=e.alternate;return i===null?(i=Jt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Df(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qr(e,t,i,a,o,h){var d=0;if(a=e,typeof e=="function")uu(e)&&(d=1);else if(typeof e=="string")d=n_(e,i,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Jt(31,i,t,o),e.elementType=de,e.lanes=h,e;case R:return Ii(i.children,o,h,t);case C:d=8,o|=24;break;case D:return e=Jt(12,i,t,o|2),e.elementType=D,e.lanes=h,e;case Y:return e=Jt(13,i,t,o),e.elementType=Y,e.lanes=h,e;case q:return e=Jt(19,i,t,o),e.elementType=q,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:d=10;break e;case G:d=9;break e;case L:d=11;break e;case P:d=14;break e;case ue:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Jt(d,i,t,o),t.elementType=e,t.type=a,t.lanes=h,t}function Ii(e,t,i,a){return e=Jt(7,e,a,t),e.lanes=i,e}function cu(e,t,i){return e=Jt(6,e,null,t),e.lanes=i,e}function Uf(e){var t=Jt(18,null,null,0);return t.stateNode=e,t}function hu(e,t,i){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mf=new WeakMap;function an(e,t){if(typeof e=="object"&&e!==null){var i=Mf.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Ar(t)},Mf.set(e,t),t)}return{value:e,source:t,stack:Ar(t)}}var ks=[],Cs=0,Zr=null,Ca=0,rn=[],ln=0,ri=null,Tn=1,An="";function qn(e,t){ks[Cs++]=Ca,ks[Cs++]=Zr,Zr=e,Ca=t}function Bf(e,t,i){rn[ln++]=Tn,rn[ln++]=An,rn[ln++]=ri,ri=e;var a=Tn;e=An;var o=32-Bt(a)-1;a&=~(1<<o),i+=1;var h=32-Bt(t)+o;if(30<h){var d=o-o%5;h=(a&(1<<d)-1).toString(32),a>>=d,o-=d,Tn=1<<32-Bt(t)+o|i<<o|a,An=h+e}else Tn=1<<h|i<<o|a,An=e}function fu(e){e.return!==null&&(qn(e,1),Bf(e,1,0))}function du(e){for(;e===Zr;)Zr=ks[--Cs],ks[Cs]=null,Ca=ks[--Cs],ks[Cs]=null;for(;e===ri;)ri=rn[--ln],rn[ln]=null,An=rn[--ln],rn[ln]=null,Tn=rn[--ln],rn[ln]=null}function zf(e,t){rn[ln++]=Tn,rn[ln++]=An,rn[ln++]=ri,Tn=t.id,An=t.overflow,ri=e}var At=null,Ie=null,ke=!1,li=null,on=!1,pu=Error(r(519));function oi(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ja(an(t,e)),pu}function qf(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[rt]=e,t[lt]=a,i){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(i=0;i<Fa.length;i++)Se(Fa[i],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Qh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Fh(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||tg(t.textContent,i)?(a.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),a.onScroll!=null&&Se("scroll",t),a.onScrollEnd!=null&&Se("scrollend",t),a.onClick!=null&&(t.onclick=Mn),t=!0):t=!1,t||oi(e,!0)}function Lf(e){for(At=e.return;At;)switch(At.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:At=At.return}}function js(e){if(e!==At)return!1;if(!ke)return Lf(e),ke=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Nc(e.type,e.memoizedProps)),i=!i),i&&Ie&&oi(e),Lf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=cg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=cg(e)}else t===27?(t=Ie,wi(e.type)?(e=zc,zc=null,Ie=e):Ie=t):Ie=At?cn(e.stateNode.nextSibling):null;return!0}function Yi(){Ie=At=null,ke=!1}function gu(){var e=li;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),li=null),e}function ja(e){li===null?li=[e]:li.push(e)}var mu=O(null),Ki=null,Ln=null;function ui(e,t,i){X(mu,t._currentValue),t._currentValue=i}function Hn(e){e._currentValue=mu.current,$(mu)}function yu(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function vu(e,t,i,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){var d=o.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=o;for(var T=0;T<t.length;T++)if(y.context===t[T]){h.lanes|=i,y=h.alternate,y!==null&&(y.lanes|=i),yu(h.return,i,e),a||(d=null);break e}h=y.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,h=d.alternate,h!==null&&(h.lanes|=i),yu(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function xs(e,t,i,a){e=null;for(var o=t,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var y=o.type;Xt(o.pendingProps.value,d.value)||(e!==null?e.push(y):e=[y])}}else if(o===je.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ir):e=[ir])}o=o.return}e!==null&&vu(t,e,i,a),t.flags|=262144}function Fr(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){Ki=e,Ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Hf(Ki,e)}function Wr(e,t){return Ki===null&&Xi(e),Hf(e,t)}function Hf(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Ln===null){if(e===null)throw Error(r(308));Ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ln=Ln.next=t;return i}var Fv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Wv=l.unstable_scheduleCallback,e0=l.unstable_NormalPriority,ot={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _u(){return{controller:new Fv,data:new Map,refCount:0}}function xa(e){e.refCount--,e.refCount===0&&Wv(e0,function(){e.controller.abort()})}var Na=null,bu=0,Ns=0,Ds=null;function t0(e,t){if(Na===null){var i=Na=[];bu=0,Ns=Ec(),Ds={status:"pending",value:void 0,then:function(a){i.push(a)}}}return bu++,t.then($f,$f),t}function $f(){if(--bu===0&&Na!==null){Ds!==null&&(Ds.status="fulfilled");var e=Na;Na=null,Ns=0,Ds=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function n0(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),a}var Vf=B.S;B.S=function(e,t){Ap=Dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&t0(e,t),Vf!==null&&Vf(e,t)};var Ji=O(null);function Su(){var e=Ji.current;return e!==null?e:Ge.pooledCache}function el(e,t){t===null?X(Ji,Ji.current):X(Ji,t.pool)}function Gf(){var e=Su();return e===null?null:{parent:ot._currentValue,pool:e}}var Us=Error(r(460)),wu=Error(r(474)),tl=Error(r(542)),nl={then:function(){}};function Pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function If(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Mn,Mn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kf(e),e;default:if(typeof t.status=="string")t.then(Mn,Mn);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kf(e),e}throw Zi=t,Us}}function Qi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Zi=i,Us):i}}var Zi=null;function Yf(){if(Zi===null)throw Error(r(459));var e=Zi;return Zi=null,e}function Kf(e){if(e===Us||e===tl)throw Error(r(483))}var Ms=null,Da=0;function il(e){var t=Da;return Da+=1,Ms===null&&(Ms=[]),If(Ms,e,t)}function Ua(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sl(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xf(e){function t(k,A){if(e){var j=k.deletions;j===null?(k.deletions=[A],k.flags|=16):j.push(A)}}function i(k,A){if(!e)return null;for(;A!==null;)t(k,A),A=A.sibling;return null}function a(k){for(var A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function o(k,A){return k=zn(k,A),k.index=0,k.sibling=null,k}function h(k,A,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<A?(k.flags|=67108866,A):j):(k.flags|=67108866,A)):(k.flags|=1048576,A)}function d(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function y(k,A,j,H){return A===null||A.tag!==6?(A=cu(j,k.mode,H),A.return=k,A):(A=o(A,j),A.return=k,A)}function T(k,A,j,H){var ie=j.type;return ie===R?z(k,A,j.props.children,H,j.key):A!==null&&(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ue&&Qi(ie)===A.type)?(A=o(A,j.props),Ua(A,j),A.return=k,A):(A=Qr(j.type,j.key,j.props,null,k.mode,H),Ua(A,j),A.return=k,A)}function x(k,A,j,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=hu(j,k.mode,H),A.return=k,A):(A=o(A,j.children||[]),A.return=k,A)}function z(k,A,j,H,ie){return A===null||A.tag!==7?(A=Ii(j,k.mode,H,ie),A.return=k,A):(A=o(A,j),A.return=k,A)}function V(k,A,j){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=cu(""+A,k.mode,j),A.return=k,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return j=Qr(A.type,A.key,A.props,null,k.mode,j),Ua(j,A),j.return=k,j;case E:return A=hu(A,k.mode,j),A.return=k,A;case ue:return A=Qi(A),V(k,A,j)}if(_t(A)||Ae(A))return A=Ii(A,k.mode,j,null),A.return=k,A;if(typeof A.then=="function")return V(k,il(A),j);if(A.$$typeof===M)return V(k,Wr(k,A),j);sl(k,A)}return null}function N(k,A,j,H){var ie=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ie!==null?null:y(k,A,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return j.key===ie?T(k,A,j,H):null;case E:return j.key===ie?x(k,A,j,H):null;case ue:return j=Qi(j),N(k,A,j,H)}if(_t(j)||Ae(j))return ie!==null?null:z(k,A,j,H,null);if(typeof j.then=="function")return N(k,A,il(j),H);if(j.$$typeof===M)return N(k,A,Wr(k,j),H);sl(k,j)}return null}function U(k,A,j,H,ie){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return k=k.get(j)||null,y(A,k,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return k=k.get(H.key===null?j:H.key)||null,T(A,k,H,ie);case E:return k=k.get(H.key===null?j:H.key)||null,x(A,k,H,ie);case ue:return H=Qi(H),U(k,A,j,H,ie)}if(_t(H)||Ae(H))return k=k.get(j)||null,z(A,k,H,ie,null);if(typeof H.then=="function")return U(k,A,j,il(H),ie);if(H.$$typeof===M)return U(k,A,j,Wr(A,H),ie);sl(A,H)}return null}function ee(k,A,j,H){for(var ie=null,xe=null,te=A,ge=A=0,Te=null;te!==null&&ge<j.length;ge++){te.index>ge?(Te=te,te=null):Te=te.sibling;var Ne=N(k,te,j[ge],H);if(Ne===null){te===null&&(te=Te);break}e&&te&&Ne.alternate===null&&t(k,te),A=h(Ne,A,ge),xe===null?ie=Ne:xe.sibling=Ne,xe=Ne,te=Te}if(ge===j.length)return i(k,te),ke&&qn(k,ge),ie;if(te===null){for(;ge<j.length;ge++)te=V(k,j[ge],H),te!==null&&(A=h(te,A,ge),xe===null?ie=te:xe.sibling=te,xe=te);return ke&&qn(k,ge),ie}for(te=a(te);ge<j.length;ge++)Te=U(te,k,ge,j[ge],H),Te!==null&&(e&&Te.alternate!==null&&te.delete(Te.key===null?ge:Te.key),A=h(Te,A,ge),xe===null?ie=Te:xe.sibling=Te,xe=Te);return e&&te.forEach(function(Ri){return t(k,Ri)}),ke&&qn(k,ge),ie}function re(k,A,j,H){if(j==null)throw Error(r(151));for(var ie=null,xe=null,te=A,ge=A=0,Te=null,Ne=j.next();te!==null&&!Ne.done;ge++,Ne=j.next()){te.index>ge?(Te=te,te=null):Te=te.sibling;var Ri=N(k,te,Ne.value,H);if(Ri===null){te===null&&(te=Te);break}e&&te&&Ri.alternate===null&&t(k,te),A=h(Ri,A,ge),xe===null?ie=Ri:xe.sibling=Ri,xe=Ri,te=Te}if(Ne.done)return i(k,te),ke&&qn(k,ge),ie;if(te===null){for(;!Ne.done;ge++,Ne=j.next())Ne=V(k,Ne.value,H),Ne!==null&&(A=h(Ne,A,ge),xe===null?ie=Ne:xe.sibling=Ne,xe=Ne);return ke&&qn(k,ge),ie}for(te=a(te);!Ne.done;ge++,Ne=j.next())Ne=U(te,k,ge,Ne.value,H),Ne!==null&&(e&&Ne.alternate!==null&&te.delete(Ne.key===null?ge:Ne.key),A=h(Ne,A,ge),xe===null?ie=Ne:xe.sibling=Ne,xe=Ne);return e&&te.forEach(function(d_){return t(k,d_)}),ke&&qn(k,ge),ie}function $e(k,A,j,H){if(typeof j=="object"&&j!==null&&j.type===R&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case w:e:{for(var ie=j.key;A!==null;){if(A.key===ie){if(ie=j.type,ie===R){if(A.tag===7){i(k,A.sibling),H=o(A,j.props.children),H.return=k,k=H;break e}}else if(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ue&&Qi(ie)===A.type){i(k,A.sibling),H=o(A,j.props),Ua(H,j),H.return=k,k=H;break e}i(k,A);break}else t(k,A);A=A.sibling}j.type===R?(H=Ii(j.props.children,k.mode,H,j.key),H.return=k,k=H):(H=Qr(j.type,j.key,j.props,null,k.mode,H),Ua(H,j),H.return=k,k=H)}return d(k);case E:e:{for(ie=j.key;A!==null;){if(A.key===ie)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){i(k,A.sibling),H=o(A,j.children||[]),H.return=k,k=H;break e}else{i(k,A);break}else t(k,A);A=A.sibling}H=hu(j,k.mode,H),H.return=k,k=H}return d(k);case ue:return j=Qi(j),$e(k,A,j,H)}if(_t(j))return ee(k,A,j,H);if(Ae(j)){if(ie=Ae(j),typeof ie!="function")throw Error(r(150));return j=ie.call(j),re(k,A,j,H)}if(typeof j.then=="function")return $e(k,A,il(j),H);if(j.$$typeof===M)return $e(k,A,Wr(k,j),H);sl(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,A!==null&&A.tag===6?(i(k,A.sibling),H=o(A,j),H.return=k,k=H):(i(k,A),H=cu(j,k.mode,H),H.return=k,k=H),d(k)):i(k,A)}return function(k,A,j,H){try{Da=0;var ie=$e(k,A,j,H);return Ms=null,ie}catch(te){if(te===Us||te===tl)throw te;var xe=Jt(29,te,null,k.mode);return xe.lanes=H,xe.return=k,xe}finally{}}}var Fi=Xf(!0),Jf=Xf(!1),ci=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fi(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(De&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=Jr(e),Nf(e,null,i),t}return Xr(e,a,t,i),Jr(e)}function Ma(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,xr(e,i)}}function Au(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?o=h=d:h=h.next=d,i=i.next}while(i!==null);h===null?o=h=t:h=h.next=t}else o=h=t;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Ou=!1;function Ba(){if(Ou){var e=Ds;if(e!==null)throw e}}function za(e,t,i,a){Ou=!1;var o=e.updateQueue;ci=!1;var h=o.firstBaseUpdate,d=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var T=y,x=T.next;T.next=null,d===null?h=x:d.next=x,d=T;var z=e.alternate;z!==null&&(z=z.updateQueue,y=z.lastBaseUpdate,y!==d&&(y===null?z.firstBaseUpdate=x:y.next=x,z.lastBaseUpdate=T))}if(h!==null){var V=o.baseState;d=0,z=x=T=null,y=h;do{var N=y.lane&-536870913,U=N!==y.lane;if(U?(Ee&N)===N:(a&N)===N){N!==0&&N===Ns&&(Ou=!0),z!==null&&(z=z.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ee=e,re=y;N=t;var $e=i;switch(re.tag){case 1:if(ee=re.payload,typeof ee=="function"){V=ee.call($e,V,N);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,N=typeof ee=="function"?ee.call($e,V,N):ee,N==null)break e;V=S({},V,N);break e;case 2:ci=!0}}N=y.callback,N!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[N]:U.push(N))}else U={lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},z===null?(x=z=U,T=V):z=z.next=U,d|=N;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;U=y,y=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);z===null&&(T=V),o.baseState=T,o.firstBaseUpdate=x,o.lastBaseUpdate=z,h===null&&(o.shared.lanes=0),yi|=d,e.lanes=d,e.memoizedState=V}}function Qf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Zf(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Qf(i[e],t)}var Bs=O(null),al=O(0);function Ff(e,t){e=Jn,X(al,e),X(Bs,t),Jn=e|t.baseLanes}function Ru(){X(al,Jn),X(Bs,Bs.current)}function ku(){Jn=al.current,$(Bs),$(al)}var Qt=O(null),un=null;function di(e){var t=e.alternate;X(st,st.current&1),X(Qt,e),un===null&&(t===null||Bs.current!==null||t.memoizedState!==null)&&(un=e)}function Cu(e){X(st,st.current),X(Qt,e),un===null&&(un=e)}function Wf(e){e.tag===22?(X(st,st.current),X(Qt,e),un===null&&(un=e)):pi()}function pi(){X(st,st.current),X(Qt,Qt.current)}function Zt(e){$(Qt),un===e&&(un=null),$(st)}var st=O(0);function rl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Mc(i)||Bc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $n=0,pe=null,Le=null,ut=null,ll=!1,zs=!1,Wi=!1,ol=0,qa=0,qs=null,i0=0;function Fe(){throw Error(r(321))}function ju(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Xt(e[i],t[i]))return!1;return!0}function xu(e,t,i,a,o,h){return $n=h,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Bd:Yu,Wi=!1,h=i(a,o),Wi=!1,zs&&(h=td(t,i,a,o)),ed(e),h}function ed(e){B.H=$a;var t=Le!==null&&Le.next!==null;if($n=0,ut=Le=pe=null,ll=!1,qa=0,qs=null,t)throw Error(r(300));e===null||ct||(e=e.dependencies,e!==null&&Fr(e)&&(ct=!0))}function td(e,t,i,a){pe=e;var o=0;do{if(zs&&(qs=null),qa=0,zs=!1,25<=o)throw Error(r(301));if(o+=1,ut=Le=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=zd,h=t(i,a)}while(zs);return h}function s0(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?La(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(pe.flags|=1024),t}function Nu(){var e=ol!==0;return ol=0,e}function Du(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Uu(e){if(ll){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ll=!1}$n=0,ut=Le=pe=null,zs=!1,qa=ol=0,qs=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?pe.memoizedState=ut=e:ut=ut.next=e,ut}function at(){if(Le===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=ut===null?pe.memoizedState:ut.next;if(t!==null)ut=t,Le=e;else{if(e===null)throw pe.alternate===null?Error(r(467)):Error(r(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ut===null?pe.memoizedState=ut=e:ut=ut.next=e}return ut}function ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function La(e){var t=qa;return qa+=1,qs===null&&(qs=[]),e=If(qs,e,t),t=pe,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Bd:Yu),e}function cl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return La(e);if(e.$$typeof===M)return Ot(e)}throw Error(r(438,String(e)))}function Mu(e){var t=null,i=pe.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=pe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=ul(),pe.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=_e;return t.index++,i}function Vn(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=at();return Bu(t,Le,e)}function Bu(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var o=e.baseQueue,h=a.pending;if(h!==null){if(o!==null){var d=o.next;o.next=h.next,h.next=d}t.baseQueue=o=h,a.pending=null}if(h=e.baseState,o===null)e.memoizedState=h;else{t=o.next;var y=d=null,T=null,x=t,z=!1;do{var V=x.lane&-536870913;if(V!==x.lane?(Ee&V)===V:($n&V)===V){var N=x.revertLane;if(N===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),V===Ns&&(z=!0);else if(($n&N)===N){x=x.next,N===Ns&&(z=!0);continue}else V={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},T===null?(y=T=V,d=h):T=T.next=V,pe.lanes|=N,yi|=N;V=x.action,Wi&&i(h,V),h=x.hasEagerState?x.eagerState:i(h,V)}else N={lane:V,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},T===null?(y=T=N,d=h):T=T.next=N,pe.lanes|=V,yi|=V;x=x.next}while(x!==null&&x!==t);if(T===null?d=h:T.next=y,!Xt(h,e.memoizedState)&&(ct=!0,z&&(i=Ds,i!==null)))throw i;e.memoizedState=h,e.baseState=d,e.baseQueue=T,a.lastRenderedState=h}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function zu(e){var t=at(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,h=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do h=e(h,d.action),d=d.next;while(d!==o);Xt(h,t.memoizedState)||(ct=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,a]}function nd(e,t,i){var a=pe,o=at(),h=ke;if(h){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!Xt((Le||o).memoizedState,i);if(d&&(o.memoizedState=i,ct=!0),o=o.queue,Hu(ad.bind(null,a,o,e),[e]),o.getSnapshot!==t||d||ut!==null&&ut.memoizedState.tag&1){if(a.flags|=2048,Ls(9,{destroy:void 0},sd.bind(null,a,o,i,t),null),Ge===null)throw Error(r(349));h||($n&127)!==0||id(a,t,i)}return i}function id(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=pe.updateQueue,t===null?(t=ul(),pe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function sd(e,t,i,a){t.value=i,t.getSnapshot=a,rd(t)&&ld(e)}function ad(e,t,i){return i(function(){rd(t)&&ld(e)})}function rd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Xt(e,i)}catch{return!0}}function ld(e){var t=Pi(e,2);t!==null&&Pt(t,e,2)}function qu(e){var t=zt();if(typeof e=="function"){var i=e;if(e=i(),Wi){Sn(!0);try{i()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},t}function od(e,t,i,a){return e.baseState=i,Bu(e,Le,typeof a=="function"?a:Vn)}function a0(e,t,i,a,o){if(pl(e))throw Error(r(485));if(e=t.action,e!==null){var h={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){h.listeners.push(d)}};B.T!==null?i(!0):h.isTransition=!1,a(h),i=t.pending,i===null?(h.next=t.pending=h,ud(t,h)):(h.next=i.next,t.pending=i.next=h)}}function ud(e,t){var i=t.action,a=t.payload,o=e.state;if(t.isTransition){var h=B.T,d={};B.T=d;try{var y=i(o,a),T=B.S;T!==null&&T(d,y),cd(e,t,y)}catch(x){Lu(e,t,x)}finally{h!==null&&d.types!==null&&(h.types=d.types),B.T=h}}else try{h=i(o,a),cd(e,t,h)}catch(x){Lu(e,t,x)}}function cd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){hd(e,t,a)},function(a){return Lu(e,t,a)}):hd(e,t,i)}function hd(e,t,i){t.status="fulfilled",t.value=i,fd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ud(e,i)))}function Lu(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,fd(t),t=t.next;while(t!==a)}e.action=null}function fd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function dd(e,t){return t}function pd(e,t){if(ke){var i=Ge.formState;if(i!==null){e:{var a=pe;if(ke){if(Ie){t:{for(var o=Ie,h=on;o.nodeType!==8;){if(!h){o=null;break t}if(o=cn(o.nextSibling),o===null){o=null;break t}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){Ie=cn(o.nextSibling),a=o.data==="F!";break e}}oi(a)}a=!1}a&&(t=i[0])}}return i=zt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:t},i.queue=a,i=Dd.bind(null,pe,a),a.dispatch=i,a=qu(!1),h=Iu.bind(null,pe,!1,a.queue),a=zt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,i=a0.bind(null,pe,o,h,i),o.dispatch=i,a.memoizedState=e,[t,i,!1]}function gd(e){var t=at();return md(t,Le,e)}function md(e,t,i){if(t=Bu(e,t,dd)[0],e=hl(Vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=La(t)}catch(d){throw d===Us?tl:d}else a=t;t=at();var o=t.queue,h=o.dispatch;return i!==t.memoizedState&&(pe.flags|=2048,Ls(9,{destroy:void 0},r0.bind(null,o,i),null)),[a,h,e]}function r0(e,t){e.action=t}function yd(e){var t=at(),i=Le;if(i!==null)return md(t,i,e);at(),t=t.memoizedState,i=at();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function Ls(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=pe.updateQueue,t===null&&(t=ul(),pe.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function vd(){return at().memoizedState}function fl(e,t,i,a){var o=zt();pe.flags|=e,o.memoizedState=Ls(1|t,{destroy:void 0},i,a===void 0?null:a)}function dl(e,t,i,a){var o=at();a=a===void 0?null:a;var h=o.memoizedState.inst;Le!==null&&a!==null&&ju(a,Le.memoizedState.deps)?o.memoizedState=Ls(t,h,i,a):(pe.flags|=e,o.memoizedState=Ls(1|t,h,i,a))}function _d(e,t){fl(8390656,8,e,t)}function Hu(e,t){dl(2048,8,e,t)}function l0(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=ul(),pe.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function bd(e){var t=at().memoizedState;return l0({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Sd(e,t){return dl(4,2,e,t)}function wd(e,t){return dl(4,4,e,t)}function Ed(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Td(e,t,i){i=i!=null?i.concat([e]):null,dl(4,4,Ed.bind(null,t,e),i)}function $u(){}function Ad(e,t){var i=at();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&ju(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Od(e,t){var i=at();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&ju(t,a[1]))return a[0];if(a=e(),Wi){Sn(!0);try{e()}finally{Sn(!1)}}return i.memoizedState=[a,t],a}function Vu(e,t,i){return i===void 0||($n&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Rp(),pe.lanes|=e,yi|=e,i)}function Rd(e,t,i,a){return Xt(i,t)?i:Bs.current!==null?(e=Vu(e,i,a),Xt(e,t)||(ct=!0),e):($n&42)===0||($n&1073741824)!==0&&(Ee&261930)===0?(ct=!0,e.memoizedState=i):(e=Rp(),pe.lanes|=e,yi|=e,t)}function kd(e,t,i,a,o){var h=I.p;I.p=h!==0&&8>h?h:8;var d=B.T,y={};B.T=y,Iu(e,!1,t,i);try{var T=o(),x=B.S;if(x!==null&&x(y,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=n0(T,a);Ha(e,t,z,en(e))}else Ha(e,t,a,en(e))}catch(V){Ha(e,t,{then:function(){},status:"rejected",reason:V},en())}finally{I.p=h,d!==null&&y.types!==null&&(d.types=y.types),B.T=d}}function o0(){}function Gu(e,t,i,a){if(e.tag!==5)throw Error(r(476));var o=Cd(e).queue;kd(e,o,t,ae,i===null?o0:function(){return jd(e),i(a)})}function Cd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:ae},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jd(e){var t=Cd(e);t.next===null&&(t=e.alternate.memoizedState),Ha(e,t.next.queue,{},en())}function Pu(){return Ot(ir)}function xd(){return at().memoizedState}function Nd(){return at().memoizedState}function u0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=en();e=hi(i);var a=fi(t,e,i);a!==null&&(Pt(a,t,i),Ma(a,t,i)),t={cache:_u()},e.payload=t;return}t=t.return}}function c0(e,t,i){var a=en();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},pl(e)?Ud(t,i):(i=ou(e,t,i,a),i!==null&&(Pt(i,e,a),Md(i,t,a)))}function Dd(e,t,i){var a=en();Ha(e,t,i,a)}function Ha(e,t,i,a){var o={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(pl(e))Ud(t,o);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var d=t.lastRenderedState,y=h(d,i);if(o.hasEagerState=!0,o.eagerState=y,Xt(y,d))return Xr(e,t,o,0),Ge===null&&Kr(),!1}catch{}finally{}if(i=ou(e,t,o,a),i!==null)return Pt(i,e,a),Md(i,t,a),!0}return!1}function Iu(e,t,i,a){if(a={lane:2,revertLane:Ec(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pl(e)){if(t)throw Error(r(479))}else t=ou(e,i,a,2),t!==null&&Pt(t,e,2)}function pl(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Ud(e,t){zs=ll=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Md(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,xr(e,i)}}var $a={readContext:Ot,use:cl,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};$a.useEffectEvent=Fe;var Bd={readContext:Ot,use:cl,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:_d,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,fl(4194308,4,Ed.bind(null,t,e),i)},useLayoutEffect:function(e,t){return fl(4194308,4,e,t)},useInsertionEffect:function(e,t){fl(4,2,e,t)},useMemo:function(e,t){var i=zt();t=t===void 0?null:t;var a=e();if(Wi){Sn(!0);try{e()}finally{Sn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=zt();if(i!==void 0){var o=i(t);if(Wi){Sn(!0);try{i(t)}finally{Sn(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=c0.bind(null,pe,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=qu(e);var t=e.queue,i=Dd.bind(null,pe,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:$u,useDeferredValue:function(e,t){var i=zt();return Vu(i,e,t)},useTransition:function(){var e=qu(!1);return e=kd.bind(null,pe,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=pe,o=zt();if(ke){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Ge===null)throw Error(r(349));(Ee&127)!==0||id(a,t,i)}o.memoizedState=i;var h={value:i,getSnapshot:t};return o.queue=h,_d(ad.bind(null,a,h,e),[e]),a.flags|=2048,Ls(9,{destroy:void 0},sd.bind(null,a,h,i,t),null),i},useId:function(){var e=zt(),t=Ge.identifierPrefix;if(ke){var i=An,a=Tn;i=(a&~(1<<32-Bt(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=ol++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=i0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Pu,useFormState:pd,useActionState:pd,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Iu.bind(null,pe,!0,i),i.dispatch=t,[e,t]},useMemoCache:Mu,useCacheRefresh:function(){return zt().memoizedState=u0.bind(null,pe)},useEffectEvent:function(e){var t=zt(),i={impl:e};return t.memoizedState=i,function(){if((De&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Yu={readContext:Ot,use:cl,useCallback:Ad,useContext:Ot,useEffect:Hu,useImperativeHandle:Td,useInsertionEffect:Sd,useLayoutEffect:wd,useMemo:Od,useReducer:hl,useRef:vd,useState:function(){return hl(Vn)},useDebugValue:$u,useDeferredValue:function(e,t){var i=at();return Rd(i,Le.memoizedState,e,t)},useTransition:function(){var e=hl(Vn)[0],t=at().memoizedState;return[typeof e=="boolean"?e:La(e),t]},useSyncExternalStore:nd,useId:xd,useHostTransitionStatus:Pu,useFormState:gd,useActionState:gd,useOptimistic:function(e,t){var i=at();return od(i,Le,e,t)},useMemoCache:Mu,useCacheRefresh:Nd};Yu.useEffectEvent=bd;var zd={readContext:Ot,use:cl,useCallback:Ad,useContext:Ot,useEffect:Hu,useImperativeHandle:Td,useInsertionEffect:Sd,useLayoutEffect:wd,useMemo:Od,useReducer:zu,useRef:vd,useState:function(){return zu(Vn)},useDebugValue:$u,useDeferredValue:function(e,t){var i=at();return Le===null?Vu(i,e,t):Rd(i,Le.memoizedState,e,t)},useTransition:function(){var e=zu(Vn)[0],t=at().memoizedState;return[typeof e=="boolean"?e:La(e),t]},useSyncExternalStore:nd,useId:xd,useHostTransitionStatus:Pu,useFormState:yd,useActionState:yd,useOptimistic:function(e,t){var i=at();return Le!==null?od(i,Le,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Mu,useCacheRefresh:Nd};zd.useEffectEvent=bd;function Ku(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Xu={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=en(),o=hi(a);o.payload=t,i!=null&&(o.callback=i),t=fi(e,o,a),t!==null&&(Pt(t,e,a),Ma(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=en(),o=hi(a);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=fi(e,o,a),t!==null&&(Pt(t,e,a),Ma(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=en(),a=hi(i);a.tag=2,t!=null&&(a.callback=t),t=fi(e,a,i),t!==null&&(Pt(t,e,i),Ma(t,e,i))}};function qd(e,t,i,a,o,h,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,d):t.prototype&&t.prototype.isPureReactComponent?!Ra(i,a)||!Ra(o,h):!0}function Ld(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Xu.enqueueReplaceState(t,t.state,null)}function es(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Hd(e){Yr(e)}function $d(e){console.error(e)}function Vd(e){Yr(e)}function gl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Gd(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ju(e,t,i){return i=hi(i),i.tag=3,i.payload={element:null},i.callback=function(){gl(e,t)},i}function Pd(e){return e=hi(e),e.tag=3,e}function Id(e,t,i,a){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var h=a.value;e.payload=function(){return o(h)},e.callback=function(){Gd(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Gd(t,i,a),typeof o!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var y=a.stack;this.componentDidCatch(a.value,{componentStack:y!==null?y:""})})}function h0(e,t,i,a,o){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&xs(t,i,o,!0),i=Qt.current,i!==null){switch(i.tag){case 31:case 13:return un===null?Rl():i.alternate===null&&We===0&&(We=3),i.flags&=-257,i.flags|=65536,i.lanes=o,a===nl?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),bc(e,a,o)),!1;case 22:return i.flags|=65536,a===nl?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),bc(e,a,o)),!1}throw Error(r(435,i.tag))}return bc(e,a,o),Rl(),!1}if(ke)return t=Qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==pu&&(e=Error(r(422),{cause:a}),ja(an(e,i)))):(a!==pu&&(t=Error(r(423),{cause:a}),ja(an(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=an(a,i),o=Ju(e.stateNode,a,o),Au(e,o),We!==4&&(We=2)),!1;var h=Error(r(520),{cause:a});if(h=an(h,i),Ja===null?Ja=[h]:Ja.push(h),We!==4&&(We=2),t===null)return!0;a=an(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Ju(i.stateNode,a,e),Au(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(vi===null||!vi.has(h))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Pd(o),Id(o,e,i,a),Au(i,o),!1}i=i.return}while(i!==null);return!1}var Qu=Error(r(461)),ct=!1;function Rt(e,t,i,a){t.child=e===null?Jf(t,null,i,a):Fi(t,e.child,i,a)}function Yd(e,t,i,a,o){i=i.render;var h=t.ref;if("ref"in a){var d={};for(var y in a)y!=="ref"&&(d[y]=a[y])}else d=a;return Xi(t),a=xu(e,t,i,d,h,o),y=Nu(),e!==null&&!ct?(Du(e,t,o),Gn(e,t,o)):(ke&&y&&fu(t),t.flags|=1,Rt(e,t,a,o),t.child)}function Kd(e,t,i,a,o){if(e===null){var h=i.type;return typeof h=="function"&&!uu(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,Xd(e,t,h,a,o)):(e=Qr(i.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!sc(e,o)){var d=h.memoizedProps;if(i=i.compare,i=i!==null?i:Ra,i(d,a)&&e.ref===t.ref)return Gn(e,t,o)}return t.flags|=1,e=zn(h,a),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,i,a,o){if(e!==null){var h=e.memoizedProps;if(Ra(h,a)&&e.ref===t.ref)if(ct=!1,t.pendingProps=a=h,sc(e,o))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Gn(e,t,o)}return Zu(e,t,i,a,o)}function Jd(e,t,i,a){var o=a.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~h}else a=0,t.child=null;return Qd(e,t,h,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&el(t,h!==null?h.cachePool:null),h!==null?Ff(t,h):Ru(),Wf(t);else return a=t.lanes=536870912,Qd(e,t,h!==null?h.baseLanes|i:i,i,a)}else h!==null?(el(t,h.cachePool),Ff(t,h),pi(),t.memoizedState=null):(e!==null&&el(t,null),Ru(),pi());return Rt(e,t,o,i),t.child}function Va(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qd(e,t,i,a,o){var h=Su();return h=h===null?null:{parent:ot._currentValue,pool:h},t.memoizedState={baseLanes:i,cachePool:h},e!==null&&el(t,null),Ru(),Wf(t),e!==null&&xs(e,t,a,!0),t.childLanes=o,null}function ml(e,t){return t=vl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zd(e,t,i){return Fi(t,e.child,null,i),e=ml(t,t.pendingProps),e.flags|=2,Zt(t),t.memoizedState=null,e}function f0(e,t,i){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(a.mode==="hidden")return e=ml(t,a),t.lanes=536870912,Va(null,e);if(Cu(t),(e=Ie)?(e=ug(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ri!==null?{id:Tn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},i=Uf(e),i.return=t,t.child=i,At=t,Ie=null)):e=null,e===null)throw oi(t);return t.lanes=536870912,null}return ml(t,a)}var h=e.memoizedState;if(h!==null){var d=h.dehydrated;if(Cu(t),o)if(t.flags&256)t.flags&=-257,t=Zd(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(ct||xs(e,t,i,!1),o=(i&e.childLanes)!==0,ct||o){if(a=Ge,a!==null&&(d=Nr(a,i),d!==0&&d!==h.retryLane))throw h.retryLane=d,Pi(e,d),Pt(a,e,d),Qu;Rl(),t=Zd(e,t,i)}else e=h.treeContext,Ie=cn(d.nextSibling),At=t,ke=!0,li=null,on=!1,e!==null&&zf(t,e),t=ml(t,a),t.flags|=4096;return t}return e=zn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function yl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Zu(e,t,i,a,o){return Xi(t),i=xu(e,t,i,a,void 0,o),a=Nu(),e!==null&&!ct?(Du(e,t,o),Gn(e,t,o)):(ke&&a&&fu(t),t.flags|=1,Rt(e,t,i,o),t.child)}function Fd(e,t,i,a,o,h){return Xi(t),t.updateQueue=null,i=td(t,a,i,o),ed(e),a=Nu(),e!==null&&!ct?(Du(e,t,h),Gn(e,t,h)):(ke&&a&&fu(t),t.flags|=1,Rt(e,t,i,h),t.child)}function Wd(e,t,i,a,o){if(Xi(t),t.stateNode===null){var h=Rs,d=i.contextType;typeof d=="object"&&d!==null&&(h=Ot(d)),h=new i(a,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Xu,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=a,h.state=t.memoizedState,h.refs={},Eu(t),d=i.contextType,h.context=typeof d=="object"&&d!==null?Ot(d):Rs,h.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Ku(t,i,d,a),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(d=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),d!==h.state&&Xu.enqueueReplaceState(h,h.state,null),za(t,a,h,o),Ba(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){h=t.stateNode;var y=t.memoizedProps,T=es(i,y);h.props=T;var x=h.context,z=i.contextType;d=Rs,typeof z=="object"&&z!==null&&(d=Ot(z));var V=i.getDerivedStateFromProps;z=typeof V=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||x!==d)&&Ld(t,h,a,d),ci=!1;var N=t.memoizedState;h.state=N,za(t,a,h,o),Ba(),x=t.memoizedState,y||N!==x||ci?(typeof V=="function"&&(Ku(t,i,V,a),x=t.memoizedState),(T=ci||qd(t,i,T,a,N,x,d))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),h.props=a,h.state=x,h.context=d,a=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,Tu(e,t),d=t.memoizedProps,z=es(i,d),h.props=z,V=t.pendingProps,N=h.context,x=i.contextType,T=Rs,typeof x=="object"&&x!==null&&(T=Ot(x)),y=i.getDerivedStateFromProps,(x=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(d!==V||N!==T)&&Ld(t,h,a,T),ci=!1,N=t.memoizedState,h.state=N,za(t,a,h,o),Ba();var U=t.memoizedState;d!==V||N!==U||ci||e!==null&&e.dependencies!==null&&Fr(e.dependencies)?(typeof y=="function"&&(Ku(t,i,y,a),U=t.memoizedState),(z=ci||qd(t,i,z,a,N,U,T)||e!==null&&e.dependencies!==null&&Fr(e.dependencies))?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,U,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,U,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=U),h.props=a,h.state=U,h.context=T,a=z):(typeof h.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),a=!1)}return h=a,yl(e,t),a=(t.flags&128)!==0,h||a?(h=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&a?(t.child=Fi(t,e.child,null,o),t.child=Fi(t,null,i,o)):Rt(e,t,i,o),t.memoizedState=h.state,e=t.child):e=Gn(e,t,o),e}function ep(e,t,i,a){return Yi(),t.flags|=256,Rt(e,t,i,a),t.child}var Fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wu(e){return{baseLanes:e,cachePool:Gf()}}function ec(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Wt),e}function tp(e,t,i){var a=t.pendingProps,o=!1,h=(t.flags&128)!==0,d;if((d=h)||(d=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(o?di(t):pi(),(e=Ie)?(e=ug(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ri!==null?{id:Tn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},i=Uf(e),i.return=t,t.child=i,At=t,Ie=null)):e=null,e===null)throw oi(t);return Bc(e)?t.lanes=32:t.lanes=536870912,null}var y=a.children;return a=a.fallback,o?(pi(),o=t.mode,y=vl({mode:"hidden",children:y},o),a=Ii(a,o,i,null),y.return=t,a.return=t,y.sibling=a,t.child=y,a=t.child,a.memoizedState=Wu(i),a.childLanes=ec(e,d,i),t.memoizedState=Fu,Va(null,a)):(di(t),tc(t,y))}var T=e.memoizedState;if(T!==null&&(y=T.dehydrated,y!==null)){if(h)t.flags&256?(di(t),t.flags&=-257,t=nc(e,t,i)):t.memoizedState!==null?(pi(),t.child=e.child,t.flags|=128,t=null):(pi(),y=a.fallback,o=t.mode,a=vl({mode:"visible",children:a.children},o),y=Ii(y,o,i,null),y.flags|=2,a.return=t,y.return=t,a.sibling=y,t.child=a,Fi(t,e.child,null,i),a=t.child,a.memoizedState=Wu(i),a.childLanes=ec(e,d,i),t.memoizedState=Fu,t=Va(null,a));else if(di(t),Bc(y)){if(d=y.nextSibling&&y.nextSibling.dataset,d)var x=d.dgst;d=x,a=Error(r(419)),a.stack="",a.digest=d,ja({value:a,source:null,stack:null}),t=nc(e,t,i)}else if(ct||xs(e,t,i,!1),d=(i&e.childLanes)!==0,ct||d){if(d=Ge,d!==null&&(a=Nr(d,i),a!==0&&a!==T.retryLane))throw T.retryLane=a,Pi(e,a),Pt(d,e,a),Qu;Mc(y)||Rl(),t=nc(e,t,i)}else Mc(y)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ie=cn(y.nextSibling),At=t,ke=!0,li=null,on=!1,e!==null&&zf(t,e),t=tc(t,a.children),t.flags|=4096);return t}return o?(pi(),y=a.fallback,o=t.mode,T=e.child,x=T.sibling,a=zn(T,{mode:"hidden",children:a.children}),a.subtreeFlags=T.subtreeFlags&65011712,x!==null?y=zn(x,y):(y=Ii(y,o,i,null),y.flags|=2),y.return=t,a.return=t,a.sibling=y,t.child=a,Va(null,a),a=t.child,y=e.child.memoizedState,y===null?y=Wu(i):(o=y.cachePool,o!==null?(T=ot._currentValue,o=o.parent!==T?{parent:T,pool:T}:o):o=Gf(),y={baseLanes:y.baseLanes|i,cachePool:o}),a.memoizedState=y,a.childLanes=ec(e,d,i),t.memoizedState=Fu,Va(e.child,a)):(di(t),i=e.child,e=i.sibling,i=zn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function tc(e,t){return t=vl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function vl(e,t){return e=Jt(22,e,null,t),e.lanes=0,e}function nc(e,t,i){return Fi(t,e.child,null,i),e=tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function np(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),yu(e.return,t,i)}function ic(e,t,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o,treeForkCount:h}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=o,d.treeForkCount=h)}function ip(e,t,i){var a=t.pendingProps,o=a.revealOrder,h=a.tail;a=a.children;var d=st.current,y=(d&2)!==0;if(y?(d=d&1|2,t.flags|=128):d&=1,X(st,d),Rt(e,t,a,i),a=ke?Ca:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&np(e,i,t);else if(e.tag===19)np(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&rl(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),ic(t,!1,o,i,h,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&rl(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}ic(t,!0,i,null,h,a);break;case"together":ic(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Gn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(xs(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=zn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=zn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function sc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Fr(e)))}function d0(e,t,i){switch(t.tag){case 3:bt(t,t.stateNode.containerInfo),ui(t,ot,e.memoizedState.cache),Yi();break;case 27:case 5:ti(t);break;case 4:bt(t,t.stateNode.containerInfo);break;case 10:ui(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Cu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(di(t),t.flags|=128,null):(i&t.child.childLanes)!==0?tp(e,t,i):(di(t),e=Gn(e,t,i),e!==null?e.sibling:null);di(t);break;case 19:var o=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(xs(e,t,i,!1),a=(i&t.childLanes)!==0),o){if(a)return ip(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(st,st.current),a)break;return null;case 22:return t.lanes=0,Jd(e,t,i,t.pendingProps);case 24:ui(t,ot,e.memoizedState.cache)}return Gn(e,t,i)}function sp(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!sc(e,i)&&(t.flags&128)===0)return ct=!1,d0(e,t,i);ct=(e.flags&131072)!==0}else ct=!1,ke&&(t.flags&1048576)!==0&&Bf(t,Ca,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Qi(t.elementType),t.type=e,typeof e=="function")uu(e)?(a=es(e,a),t.tag=1,t=Wd(null,t,e,a,i)):(t.tag=0,t=Zu(null,t,e,a,i));else{if(e!=null){var o=e.$$typeof;if(o===L){t.tag=11,t=Yd(null,t,e,a,i);break e}else if(o===P){t.tag=14,t=Kd(null,t,e,a,i);break e}}throw t=et(e)||e,Error(r(306,t,""))}}return t;case 0:return Zu(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,o=es(a,t.pendingProps),Wd(e,t,a,o,i);case 3:e:{if(bt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var h=t.memoizedState;o=h.element,Tu(e,t),za(t,a,null,i);var d=t.memoizedState;if(a=d.cache,ui(t,ot,a),a!==h.cache&&vu(t,[ot],i,!0),Ba(),a=d.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=ep(e,t,a,i);break e}else if(a!==o){o=an(Error(r(424)),t),ja(o),t=ep(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=cn(e.firstChild),At=t,ke=!0,li=null,on=!0,i=Jf(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Yi(),a===o){t=Gn(e,t,i);break e}Rt(e,t,a,i)}t=t.child}return t;case 26:return yl(e,t),e===null?(i=gg(t.type,null,t.pendingProps,null))?t.memoizedState=i:ke||(i=t.type,e=t.pendingProps,a=Ul(ve.current).createElement(i),a[rt]=t,a[lt]=e,kt(a,i,e),Re(a),t.stateNode=a):t.memoizedState=gg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ti(t),e===null&&ke&&(a=t.stateNode=fg(t.type,t.pendingProps,ve.current),At=t,on=!0,o=Ie,wi(t.type)?(zc=o,Ie=cn(a.firstChild)):Ie=o),Rt(e,t,t.pendingProps.children,i),yl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((o=a=Ie)&&(a=G0(a,t.type,t.pendingProps,on),a!==null?(t.stateNode=a,At=t,Ie=cn(a.firstChild),on=!1,o=!0):o=!1),o||oi(t)),ti(t),o=t.type,h=t.pendingProps,d=e!==null?e.memoizedProps:null,a=h.children,Nc(o,h)?a=null:d!==null&&Nc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=xu(e,t,s0,null,null,i),ir._currentValue=o),yl(e,t),Rt(e,t,a,i),t.child;case 6:return e===null&&ke&&((e=i=Ie)&&(i=P0(i,t.pendingProps,on),i!==null?(t.stateNode=i,At=t,Ie=null,e=!0):e=!1),e||oi(t)),null;case 13:return tp(e,t,i);case 4:return bt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Fi(t,null,a,i):Rt(e,t,a,i),t.child;case 11:return Yd(e,t,t.type,t.pendingProps,i);case 7:return Rt(e,t,t.pendingProps,i),t.child;case 8:return Rt(e,t,t.pendingProps.children,i),t.child;case 12:return Rt(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,ui(t,t.type,a.value),Rt(e,t,a.children,i),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Xi(t),o=Ot(o),a=a(o),t.flags|=1,Rt(e,t,a,i),t.child;case 14:return Kd(e,t,t.type,t.pendingProps,i);case 15:return Xd(e,t,t.type,t.pendingProps,i);case 19:return ip(e,t,i);case 31:return f0(e,t,i);case 22:return Jd(e,t,i,t.pendingProps);case 24:return Xi(t),a=Ot(ot),e===null?(o=Su(),o===null&&(o=Ge,h=_u(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=i),o=h),t.memoizedState={parent:a,cache:o},Eu(t),ui(t,ot,o)):((e.lanes&i)!==0&&(Tu(e,t),za(t,null,null,i),Ba()),o=e.memoizedState,h=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ui(t,ot,a)):(a=h.cache,ui(t,ot,a),a!==o.cache&&vu(t,[ot],i,!0))),Rt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Pn(e){e.flags|=4}function ac(e,t,i,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(xp())e.flags|=8192;else throw Zi=nl,wu}else e.flags&=-16777217}function ap(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bg(t))if(xp())e.flags|=8192;else throw Zi=nl,wu}function _l(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ue():536870912,e.lanes|=t,Gs|=t)}function Ga(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function p0(e,t,i){var a=t.pendingProps;switch(du(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Hn(ot),Qe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(js(t)?Pn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gu())),Ye(t),null;case 26:var o=t.type,h=t.memoizedState;return e===null?(Pn(t),h!==null?(Ye(t),ap(t,h)):(Ye(t),ac(t,o,null,a,i))):h?h!==e.memoizedState?(Pn(t),Ye(t),ap(t,h)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Pn(t),Ye(t),ac(t,o,e,a,i)),null;case 27:if(fs(t),i=ve.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Ye(t),null}e=W.current,js(t)?qf(t):(e=fg(o,a,i),t.stateNode=e,Pn(t))}return Ye(t),null;case 5:if(fs(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Ye(t),null}if(h=W.current,js(t))qf(t);else{var d=Ul(ve.current);switch(h){case 1:h=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:h=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":h=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":h=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":h=d.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?h.multiple=!0:a.size&&(h.size=a.size);break;default:h=typeof a.is=="string"?d.createElement(o,{is:a.is}):d.createElement(o)}}h[rt]=t,h[lt]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)h.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=h;e:switch(kt(h,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Pn(t)}}return Ye(t),ac(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Pn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=ve.current,js(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,o=At,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[rt]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||tg(e.nodeValue,i)),e||oi(t,!0)}else e=Ul(e).createTextNode(a),e[rt]=t,t.stateNode=e}return Ye(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=js(t),i!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[rt]=t}else Yi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else i=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Zt(t),t):(Zt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ye(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=js(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[rt]=t}else Yi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else o=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Zt(t),t):(Zt(t),null)}return Zt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==o&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),_l(t,t.updateQueue),Ye(t),null);case 4:return Qe(),e===null&&Rc(t.stateNode.containerInfo),Ye(t),null;case 10:return Hn(t.type),Ye(t),null;case 19:if($(st),a=t.memoizedState,a===null)return Ye(t),null;if(o=(t.flags&128)!==0,h=a.rendering,h===null)if(o)Ga(a,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=rl(e),h!==null){for(t.flags|=128,Ga(a,!1),e=h.updateQueue,t.updateQueue=e,_l(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Df(i,e),i=i.sibling;return X(st,st.current&1|2),ke&&qn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Dt()>Tl&&(t.flags|=128,o=!0,Ga(a,!1),t.lanes=4194304)}else{if(!o)if(e=rl(h),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,_l(t,e),Ga(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!ke)return Ye(t),null}else 2*Dt()-a.renderingStartTime>Tl&&i!==536870912&&(t.flags|=128,o=!0,Ga(a,!1),t.lanes=4194304);a.isBackwards?(h.sibling=t.child,t.child=h):(e=a.last,e!==null?e.sibling=h:t.child=h,a.last=h)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Dt(),e.sibling=null,i=st.current,X(st,o?i&1|2:i&1),ke&&qn(t,a.treeForkCount),e):(Ye(t),null);case 22:case 23:return Zt(t),ku(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),i=t.updateQueue,i!==null&&_l(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&$(Ji),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Hn(ot),Ye(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function g0(e,t){switch(du(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(ot),Qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fs(t),null;case 31:if(t.memoizedState!==null){if(Zt(t),t.alternate===null)throw Error(r(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(st),null;case 4:return Qe(),null;case 10:return Hn(t.type),null;case 22:case 23:return Zt(t),ku(),e!==null&&$(Ji),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hn(ot),null;case 25:return null;default:return null}}function rp(e,t){switch(du(t),t.tag){case 3:Hn(ot),Qe();break;case 26:case 27:case 5:fs(t);break;case 4:Qe();break;case 31:t.memoizedState!==null&&Zt(t);break;case 13:Zt(t);break;case 19:$(st);break;case 10:Hn(t.type);break;case 22:case 23:Zt(t),ku(),e!==null&&$(Ji);break;case 24:Hn(ot)}}function Pa(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&e)===e){a=void 0;var h=i.create,d=i.inst;a=h(),d.destroy=a}i=i.next}while(i!==o)}}catch(y){qe(t,t.return,y)}}function gi(e,t,i){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){var d=a.inst,y=d.destroy;if(y!==void 0){d.destroy=void 0,o=t;var T=i,x=y;try{x()}catch(z){qe(o,T,z)}}}a=a.next}while(a!==h)}}catch(z){qe(t,t.return,z)}}function lp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Zf(t,i)}catch(a){qe(e,e.return,a)}}}function op(e,t,i){i.props=es(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){qe(e,t,a)}}function Ia(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(o){qe(e,t,o)}}function On(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(o){qe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){qe(e,t,o)}else i.current=null}function up(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(o){qe(e,e.return,o)}}function rc(e,t,i){try{var a=e.stateNode;z0(a,e.type,i,t),a[lt]=t}catch(o){qe(e,e.return,o)}}function cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wi(e.type)||e.tag===4}function lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oc(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Mn));else if(a!==4&&(a===27&&wi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(oc(e,t,i),e=e.sibling;e!==null;)oc(e,t,i),e=e.sibling}function bl(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&wi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(bl(e,t,i),e=e.sibling;e!==null;)bl(e,t,i),e=e.sibling}function hp(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);kt(t,a,i),t[rt]=e,t[lt]=i}catch(h){qe(e,e.return,h)}}var In=!1,ht=!1,uc=!1,fp=typeof WeakSet=="function"?WeakSet:Set,St=null;function m0(e,t){if(e=e.containerInfo,jc=$l,e=Tf(e),nu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var d=0,y=-1,T=-1,x=0,z=0,V=e,N=null;t:for(;;){for(var U;V!==i||o!==0&&V.nodeType!==3||(y=d+o),V!==h||a!==0&&V.nodeType!==3||(T=d+a),V.nodeType===3&&(d+=V.nodeValue.length),(U=V.firstChild)!==null;)N=V,V=U;for(;;){if(V===e)break t;if(N===i&&++x===o&&(y=d),N===h&&++z===a&&(T=d),(U=V.nextSibling)!==null)break;V=N,N=V.parentNode}V=U}i=y===-1||T===-1?null:{start:y,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(xc={focusedElem:e,selectionRange:i},$l=!1,St=t;St!==null;)if(t=St,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,St=e;else for(;St!==null;){switch(t=St,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,o=h.memoizedProps,h=h.memoizedState,a=i.stateNode;try{var ee=es(i.type,o);e=a.getSnapshotBeforeUpdate(ee,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(re){qe(i,i.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Uc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,St=e;break}St=t.return}}function dp(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Kn(e,i),a&4&&Pa(5,i);break;case 1:if(Kn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){qe(i,i.return,d)}else{var o=es(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){qe(i,i.return,d)}}a&64&&lp(i),a&512&&Ia(i,i.return);break;case 3:if(Kn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Zf(e,t)}catch(d){qe(i,i.return,d)}}break;case 27:t===null&&a&4&&hp(i);case 26:case 5:Kn(e,i),t===null&&a&4&&up(i),a&512&&Ia(i,i.return);break;case 12:Kn(e,i);break;case 31:Kn(e,i),a&4&&mp(e,i);break;case 13:Kn(e,i),a&4&&yp(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=A0.bind(null,i),I0(e,i))));break;case 22:if(a=i.memoizedState!==null||In,!a){t=t!==null&&t.memoizedState!==null||ht,o=In;var h=ht;In=a,(ht=t)&&!h?Xn(e,i,(i.subtreeFlags&8772)!==0):Kn(e,i),In=o,ht=h}break;case 30:break;default:Kn(e,i)}}function pp(e){var t=e.alternate;t!==null&&(e.alternate=null,pp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&se(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Ht=!1;function Yn(e,t,i){for(i=i.child;i!==null;)gp(e,t,i),i=i.sibling}function gp(e,t,i){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(xn,i)}catch{}switch(i.tag){case 26:ht||On(i,t),Yn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ht||On(i,t);var a=Xe,o=Ht;wi(i.type)&&(Xe=i.stateNode,Ht=!1),Yn(e,t,i),er(i.stateNode),Xe=a,Ht=o;break;case 5:ht||On(i,t);case 6:if(a=Xe,o=Ht,Xe=null,Yn(e,t,i),Xe=a,Ht=o,Xe!==null)if(Ht)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(i.stateNode)}catch(h){qe(i,t,h)}else try{Xe.removeChild(i.stateNode)}catch(h){qe(i,t,h)}break;case 18:Xe!==null&&(Ht?(e=Xe,lg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Zs(e)):lg(Xe,i.stateNode));break;case 4:a=Xe,o=Ht,Xe=i.stateNode.containerInfo,Ht=!0,Yn(e,t,i),Xe=a,Ht=o;break;case 0:case 11:case 14:case 15:gi(2,i,t),ht||gi(4,i,t),Yn(e,t,i);break;case 1:ht||(On(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&op(i,t,a)),Yn(e,t,i);break;case 21:Yn(e,t,i);break;case 22:ht=(a=ht)||i.memoizedState!==null,Yn(e,t,i),ht=a;break;default:Yn(e,t,i)}}function mp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zs(e)}catch(i){qe(t,t.return,i)}}}function yp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zs(e)}catch(i){qe(t,t.return,i)}}function y0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fp),t;default:throw Error(r(435,e.tag))}}function Sl(e,t){var i=y0(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var o=O0.bind(null,e,a);a.then(o,o)}})}function $t(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a],h=e,d=t,y=d;e:for(;y!==null;){switch(y.tag){case 27:if(wi(y.type)){Xe=y.stateNode,Ht=!1;break e}break;case 5:Xe=y.stateNode,Ht=!1;break e;case 3:case 4:Xe=y.stateNode.containerInfo,Ht=!0;break e}y=y.return}if(Xe===null)throw Error(r(160));gp(h,d,o),Xe=null,Ht=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vp(t,e),t=t.sibling}var gn=null;function vp(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),Vt(e),a&4&&(gi(3,e,e.return),Pa(3,e),gi(5,e,e.return));break;case 1:$t(t,e),Vt(e),a&512&&(ht||i===null||On(i,i.return)),a&64&&In&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var o=gn;if($t(t,e),Vt(e),a&512&&(ht||i===null||On(i,i.return)),a&4){var h=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":h=o.getElementsByTagName("title")[0],(!h||h[K]||h[rt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(a),o.head.insertBefore(h,o.querySelector("head > title"))),kt(h,a,i),h[rt]=e,Re(h),a=h;break e;case"link":var d=vg("link","href",o).get(a+(i.href||""));if(d){for(var y=0;y<d.length;y++)if(h=d[y],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(y,1);break t}}h=o.createElement(a),kt(h,a,i),o.head.appendChild(h);break;case"meta":if(d=vg("meta","content",o).get(a+(i.content||""))){for(y=0;y<d.length;y++)if(h=d[y],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(y,1);break t}}h=o.createElement(a),kt(h,a,i),o.head.appendChild(h);break;default:throw Error(r(468,a))}h[rt]=e,Re(h),a=h}e.stateNode=a}else _g(o,e.type,e.stateNode);else e.stateNode=yg(o,a,e.memoizedProps);else h!==a?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,a===null?_g(o,e.type,e.stateNode):yg(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&rc(e,e.memoizedProps,i.memoizedProps)}break;case 27:$t(t,e),Vt(e),a&512&&(ht||i===null||On(i,i.return)),i!==null&&a&4&&rc(e,e.memoizedProps,i.memoizedProps);break;case 5:if($t(t,e),Vt(e),a&512&&(ht||i===null||On(i,i.return)),e.flags&32){o=e.stateNode;try{bs(o,"")}catch(ee){qe(e,e.return,ee)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,rc(e,o,i!==null?i.memoizedProps:o)),a&1024&&(uc=!0);break;case 6:if($t(t,e),Vt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(ee){qe(e,e.return,ee)}}break;case 3:if(zl=null,o=gn,gn=Ml(t.containerInfo),$t(t,e),gn=o,Vt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(ee){qe(e,e.return,ee)}uc&&(uc=!1,_p(e));break;case 4:a=gn,gn=Ml(e.stateNode.containerInfo),$t(t,e),Vt(e),gn=a;break;case 12:$t(t,e),Vt(e);break;case 31:$t(t,e),Vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Sl(e,a)));break;case 13:$t(t,e),Vt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(El=Dt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Sl(e,a)));break;case 22:o=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,x=In,z=ht;if(In=x||o,ht=z||T,$t(t,e),ht=z,In=x,Vt(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||T||In||ht||ts(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(h=T.stateNode,o)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=T.stateNode;var V=T.memoizedProps.style,N=V!=null&&V.hasOwnProperty("display")?V.display:null;y.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(ee){qe(T,T.return,ee)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=o?"":T.memoizedProps}catch(ee){qe(T,T.return,ee)}}}else if(t.tag===18){if(i===null){T=t;try{var U=T.stateNode;o?og(U,!0):og(T.stateNode,!1)}catch(ee){qe(T,T.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Sl(e,i))));break;case 19:$t(t,e),Vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Sl(e,a)));break;case 30:break;case 21:break;default:$t(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(cp(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,h=lc(e);bl(e,h,o);break;case 5:var d=i.stateNode;i.flags&32&&(bs(d,""),i.flags&=-33);var y=lc(e);bl(e,y,d);break;case 3:case 4:var T=i.stateNode.containerInfo,x=lc(e);oc(e,x,T);break;default:throw Error(r(161))}}catch(z){qe(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_p(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dp(e,t.alternate,t),t=t.sibling}function ts(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gi(4,t,t.return),ts(t);break;case 1:On(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&op(t,t.return,i),ts(t);break;case 27:er(t.stateNode);case 26:case 5:On(t,t.return),ts(t);break;case 22:t.memoizedState===null&&ts(t);break;case 30:ts(t);break;default:ts(t)}e=e.sibling}}function Xn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,h=t,d=h.flags;switch(h.tag){case 0:case 11:case 15:Xn(o,h,i),Pa(4,h);break;case 1:if(Xn(o,h,i),a=h,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(x){qe(a,a.return,x)}if(a=h,o=a.updateQueue,o!==null){var y=a.stateNode;try{var T=o.shared.hiddenCallbacks;if(T!==null)for(o.shared.hiddenCallbacks=null,o=0;o<T.length;o++)Qf(T[o],y)}catch(x){qe(a,a.return,x)}}i&&d&64&&lp(h),Ia(h,h.return);break;case 27:hp(h);case 26:case 5:Xn(o,h,i),i&&a===null&&d&4&&up(h),Ia(h,h.return);break;case 12:Xn(o,h,i);break;case 31:Xn(o,h,i),i&&d&4&&mp(o,h);break;case 13:Xn(o,h,i),i&&d&4&&yp(o,h);break;case 22:h.memoizedState===null&&Xn(o,h,i),Ia(h,h.return);break;case 30:break;default:Xn(o,h,i)}t=t.sibling}}function cc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&xa(i))}function hc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xa(e))}function mn(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bp(e,t,i,a),t=t.sibling}function bp(e,t,i,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:mn(e,t,i,a),o&2048&&Pa(9,t);break;case 1:mn(e,t,i,a);break;case 3:mn(e,t,i,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xa(e)));break;case 12:if(o&2048){mn(e,t,i,a),e=t.stateNode;try{var h=t.memoizedProps,d=h.id,y=h.onPostCommit;typeof y=="function"&&y(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){qe(t,t.return,T)}}else mn(e,t,i,a);break;case 31:mn(e,t,i,a);break;case 13:mn(e,t,i,a);break;case 23:break;case 22:h=t.stateNode,d=t.alternate,t.memoizedState!==null?h._visibility&2?mn(e,t,i,a):Ya(e,t):h._visibility&2?mn(e,t,i,a):(h._visibility|=2,Hs(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&cc(d,t);break;case 24:mn(e,t,i,a),o&2048&&hc(t.alternate,t);break;default:mn(e,t,i,a)}}function Hs(e,t,i,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,d=t,y=i,T=a,x=d.flags;switch(d.tag){case 0:case 11:case 15:Hs(h,d,y,T,o),Pa(8,d);break;case 23:break;case 22:var z=d.stateNode;d.memoizedState!==null?z._visibility&2?Hs(h,d,y,T,o):Ya(h,d):(z._visibility|=2,Hs(h,d,y,T,o)),o&&x&2048&&cc(d.alternate,d);break;case 24:Hs(h,d,y,T,o),o&&x&2048&&hc(d.alternate,d);break;default:Hs(h,d,y,T,o)}t=t.sibling}}function Ya(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,o=a.flags;switch(a.tag){case 22:Ya(i,a),o&2048&&cc(a.alternate,a);break;case 24:Ya(i,a),o&2048&&hc(a.alternate,a);break;default:Ya(i,a)}t=t.sibling}}var Ka=8192;function $s(e,t,i){if(e.subtreeFlags&Ka)for(e=e.child;e!==null;)Sp(e,t,i),e=e.sibling}function Sp(e,t,i){switch(e.tag){case 26:$s(e,t,i),e.flags&Ka&&e.memoizedState!==null&&i_(i,gn,e.memoizedState,e.memoizedProps);break;case 5:$s(e,t,i);break;case 3:case 4:var a=gn;gn=Ml(e.stateNode.containerInfo),$s(e,t,i),gn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ka,Ka=16777216,$s(e,t,i),Ka=a):$s(e,t,i));break;default:$s(e,t,i)}}function wp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];St=a,Tp(a,e)}wp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ep(e),e=e.sibling}function Ep(e){switch(e.tag){case 0:case 11:case 15:Xa(e),e.flags&2048&&gi(9,e,e.return);break;case 3:Xa(e);break;case 12:Xa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wl(e)):Xa(e);break;default:Xa(e)}}function wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];St=a,Tp(a,e)}wp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:gi(8,t,t.return),wl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,wl(t));break;default:wl(t)}e=e.sibling}}function Tp(e,t){for(;St!==null;){var i=St;switch(i.tag){case 0:case 11:case 15:gi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:xa(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,St=a;else e:for(i=e;St!==null;){a=St;var o=a.sibling,h=a.return;if(pp(a),a===i){St=null;break e}if(o!==null){o.return=h,St=o;break e}St=h}}}var v0={getCacheForType:function(e){var t=Ot(ot),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ot(ot).controller.signal}},_0=typeof WeakMap=="function"?WeakMap:Map,De=0,Ge=null,be=null,Ee=0,ze=0,Ft=null,mi=!1,Vs=!1,fc=!1,Jn=0,We=0,yi=0,ns=0,dc=0,Wt=0,Gs=0,Ja=null,Gt=null,pc=!1,El=0,Ap=0,Tl=1/0,Al=null,vi=null,yt=0,_i=null,Ps=null,Qn=0,gc=0,mc=null,Op=null,Qa=0,yc=null;function en(){return(De&2)!==0&&Ee!==0?Ee&-Ee:B.T!==null?Ec():Dr()}function Rp(){if(Wt===0)if((Ee&536870912)===0||ke){var e=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Wt=e}else Wt=536870912;return e=Qt.current,e!==null&&(e.flags|=32),Wt}function Pt(e,t,i){(e===Ge&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Is(e,0),bi(e,Ee,Wt,!1)),Dn(e,i),((De&2)===0||e!==Ge)&&(e===Ge&&((De&2)===0&&(ns|=i),We===4&&bi(e,Ee,Wt,!1)),Rn(e))}function kp(e,t,i){if((De&6)!==0)throw Error(r(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||tt(e,t),o=a?w0(e,t):_c(e,t,!0),h=a;do{if(o===0){Vs&&!a&&bi(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!b0(i)){o=_c(e,t,!1),h=!1;continue}if(o===2){if(h=t,e.errorRecoveryDisabledLanes&h)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var y=e;o=Ja;var T=y.current.memoizedState.isDehydrated;if(T&&(Is(y,d).flags|=256),d=_c(y,d,!1),d!==2){if(fc&&!T){y.errorRecoveryDisabledLanes|=h,ns|=h,o=4;break e}h=Gt,Gt=o,h!==null&&(Gt===null?Gt=h:Gt.push.apply(Gt,h))}o=d}if(h=!1,o!==2)continue}}if(o===1){Is(e,0),bi(e,t,0,!0);break}e:{switch(a=e,h=o,h){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:bi(a,t,Wt,!mi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=El+300-Dt(),10<o)){if(bi(a,t,Wt,!mi),Et(a,0,!0)!==0)break e;Qn=t,a.timeoutHandle=ag(Cp.bind(null,a,i,Gt,Al,pc,t,Wt,ns,Gs,mi,h,"Throttled",-0,0),o);break e}Cp(a,i,Gt,Al,pc,t,Wt,ns,Gs,mi,h,null,-0,0)}}break}while(!0);Rn(e)}function Cp(e,t,i,a,o,h,d,y,T,x,z,V,N,U){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},Sp(t,h,V);var ee=(h&62914560)===h?El-Dt():(h&4194048)===h?Ap-Dt():0;if(ee=s_(V,ee),ee!==null){Qn=h,e.cancelPendingCommit=ee(zp.bind(null,e,t,h,i,a,o,d,y,T,z,V,null,N,U)),bi(e,h,d,!x);return}}zp(e,t,h,i,a,o,d,y,T)}function b0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var o=i[a],h=o.getSnapshot;o=o.value;try{if(!Xt(h(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bi(e,t,i,a){t&=~dc,t&=~ns,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var h=31-Bt(o),d=1<<h;a[h]=-1,o&=~d}i!==0&&jr(e,i,t)}function Ol(){return(De&6)===0?(Za(0),!1):!0}function vc(){if(be!==null){if(ze===0)var e=be.return;else e=be,Ln=Ki=null,Uu(e),Ms=null,Da=0,e=be;for(;e!==null;)rp(e.alternate,e),e=e.return;be=null}}function Is(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,H0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Qn=0,vc(),Ge=e,be=i=zn(e.current,null),Ee=t,ze=0,Ft=null,mi=!1,Vs=tt(e,t),fc=!1,Gs=Wt=dc=ns=yi=We=0,Gt=Ja=null,pc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-Bt(a),h=1<<o;t|=e[o],a&=~h}return Jn=t,Kr(),i}function jp(e,t){pe=null,B.H=$a,t===Us||t===tl?(t=Yf(),ze=3):t===wu?(t=Yf(),ze=4):ze=t===Qu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ft=t,be===null&&(We=1,gl(e,an(t,e.current)))}function xp(){var e=Qt.current;return e===null?!0:(Ee&4194048)===Ee?un===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===un:!1}function Np(){var e=B.H;return B.H=$a,e===null?$a:e}function Dp(){var e=B.A;return B.A=v0,e}function Rl(){We=4,mi||(Ee&4194048)!==Ee&&Qt.current!==null||(Vs=!0),(yi&134217727)===0&&(ns&134217727)===0||Ge===null||bi(Ge,Ee,Wt,!1)}function _c(e,t,i){var a=De;De|=2;var o=Np(),h=Dp();(Ge!==e||Ee!==t)&&(Al=null,Is(e,t)),t=!1;var d=We;e:do try{if(ze!==0&&be!==null){var y=be,T=Ft;switch(ze){case 8:vc(),d=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(t=!0);var x=ze;if(ze=0,Ft=null,Ys(e,y,T,x),i&&Vs){d=0;break e}break;default:x=ze,ze=0,Ft=null,Ys(e,y,T,x)}}S0(),d=We;break}catch(z){jp(e,z)}while(!0);return t&&e.shellSuspendCounter++,Ln=Ki=null,De=a,B.H=o,B.A=h,be===null&&(Ge=null,Ee=0,Kr()),d}function S0(){for(;be!==null;)Up(be)}function w0(e,t){var i=De;De|=2;var a=Np(),o=Dp();Ge!==e||Ee!==t?(Al=null,Tl=Dt()+500,Is(e,t)):Vs=tt(e,t);e:do try{if(ze!==0&&be!==null){t=be;var h=Ft;t:switch(ze){case 1:ze=0,Ft=null,Ys(e,t,h,1);break;case 2:case 9:if(Pf(h)){ze=0,Ft=null,Mp(t);break}t=function(){ze!==2&&ze!==9||Ge!==e||(ze=7),Rn(e)},h.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Pf(h)?(ze=0,Ft=null,Mp(t)):(ze=0,Ft=null,Ys(e,t,h,7));break;case 5:var d=null;switch(be.tag){case 26:d=be.memoizedState;case 5:case 27:var y=be;if(d?bg(d):y.stateNode.complete){ze=0,Ft=null;var T=y.sibling;if(T!==null)be=T;else{var x=y.return;x!==null?(be=x,kl(x)):be=null}break t}}ze=0,Ft=null,Ys(e,t,h,5);break;case 6:ze=0,Ft=null,Ys(e,t,h,6);break;case 8:vc(),We=6;break e;default:throw Error(r(462))}}E0();break}catch(z){jp(e,z)}while(!0);return Ln=Ki=null,B.H=a,B.A=o,De=i,be!==null?0:(Ge=null,Ee=0,Kr(),We)}function E0(){for(;be!==null&&!Mo();)Up(be)}function Up(e){var t=sp(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?kl(e):be=t}function Mp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Fd(i,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Fd(i,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Uu(t);default:rp(i,t),t=be=Df(t,Jn),t=sp(i,t,Jn)}e.memoizedProps=e.pendingProps,t===null?kl(e):be=t}function Ys(e,t,i,a){Ln=Ki=null,Uu(t),Ms=null,Da=0;var o=t.return;try{if(h0(e,o,t,i,Ee)){We=1,gl(e,an(i,e.current)),be=null;return}}catch(h){if(o!==null)throw be=o,h;We=1,gl(e,an(i,e.current)),be=null;return}t.flags&32768?(ke||a===1?e=!0:Vs||(Ee&536870912)!==0?e=!1:(mi=e=!0,(a===2||a===9||a===3||a===6)&&(a=Qt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Bp(t,e)):kl(t)}function kl(e){var t=e;do{if((t.flags&32768)!==0){Bp(t,mi);return}e=t.return;var i=p0(t.alternate,t,Jn);if(i!==null){be=i;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);We===0&&(We=5)}function Bp(e,t){do{var i=g0(e.alternate,e);if(i!==null){i.flags&=32767,be=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=i}while(e!==null);We=6,be=null}function zp(e,t,i,a,o,h,d,y,T){e.cancelPendingCommit=null;do Cl();while(yt!==0);if((De&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(h=t.lanes|t.childLanes,h|=lu,qo(e,i,h,d,y,T),e===Ge&&(be=Ge=null,Ee=0),Ps=t,_i=e,Qn=i,gc=h,mc=o,Op=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,R0(Bi,function(){return Vp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null,o=I.p,I.p=2,d=De,De|=4;try{m0(e,t,i)}finally{De=d,I.p=o,B.T=a}}yt=1,qp(),Lp(),Hp()}}function qp(){if(yt===1){yt=0;var e=_i,t=Ps,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var a=I.p;I.p=2;var o=De;De|=4;try{vp(t,e);var h=xc,d=Tf(e.containerInfo),y=h.focusedElem,T=h.selectionRange;if(d!==y&&y&&y.ownerDocument&&Ef(y.ownerDocument.documentElement,y)){if(T!==null&&nu(y)){var x=T.start,z=T.end;if(z===void 0&&(z=x),"selectionStart"in y)y.selectionStart=x,y.selectionEnd=Math.min(z,y.value.length);else{var V=y.ownerDocument||document,N=V&&V.defaultView||window;if(N.getSelection){var U=N.getSelection(),ee=y.textContent.length,re=Math.min(T.start,ee),$e=T.end===void 0?re:Math.min(T.end,ee);!U.extend&&re>$e&&(d=$e,$e=re,re=d);var k=wf(y,re),A=wf(y,$e);if(k&&A&&(U.rangeCount!==1||U.anchorNode!==k.node||U.anchorOffset!==k.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var j=V.createRange();j.setStart(k.node,k.offset),U.removeAllRanges(),re>$e?(U.addRange(j),U.extend(A.node,A.offset)):(j.setEnd(A.node,A.offset),U.addRange(j))}}}}for(V=[],U=y;U=U.parentNode;)U.nodeType===1&&V.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<V.length;y++){var H=V[y];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}$l=!!jc,xc=jc=null}finally{De=o,I.p=a,B.T=i}}e.current=t,yt=2}}function Lp(){if(yt===2){yt=0;var e=_i,t=Ps,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var a=I.p;I.p=2;var o=De;De|=4;try{dp(e,t.alternate,t)}finally{De=o,I.p=a,B.T=i}}yt=3}}function Hp(){if(yt===4||yt===3){yt=0,da();var e=_i,t=Ps,i=Qn,a=Op;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?yt=5:(yt=0,Ps=_i=null,$p(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(vi=null),va(i),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(xn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=B.T,o=I.p,I.p=2,B.T=null;try{for(var h=e.onRecoverableError,d=0;d<a.length;d++){var y=a[d];h(y.value,{componentStack:y.stack})}}finally{B.T=t,I.p=o}}(Qn&3)!==0&&Cl(),Rn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===yc?Qa++:(Qa=0,yc=e):Qa=0,Za(0)}}function $p(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xa(t)))}function Cl(){return qp(),Lp(),Hp(),Vp()}function Vp(){if(yt!==5)return!1;var e=_i,t=gc;gc=0;var i=va(Qn),a=B.T,o=I.p;try{I.p=32>i?32:i,B.T=null,i=mc,mc=null;var h=_i,d=Qn;if(yt=0,Ps=_i=null,Qn=0,(De&6)!==0)throw Error(r(331));var y=De;if(De|=4,Ep(h.current),bp(h,h.current,d,i),De=y,Za(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(xn,h)}catch{}return!0}finally{I.p=o,B.T=a,$p(e,t)}}function Gp(e,t,i){t=an(i,t),t=Ju(e.stateNode,t,2),e=fi(e,t,2),e!==null&&(Dn(e,2),Rn(e))}function qe(e,t,i){if(e.tag===3)Gp(e,e,i);else for(;t!==null;){if(t.tag===3){Gp(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(vi===null||!vi.has(a))){e=an(i,e),i=Pd(2),a=fi(t,i,2),a!==null&&(Id(i,a,t,e),Dn(a,2),Rn(a));break}}t=t.return}}function bc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new _0;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(i)||(fc=!0,o.add(i),e=T0.bind(null,e,t,i),t.then(e,e))}function T0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ge===e&&(Ee&i)===i&&(We===4||We===3&&(Ee&62914560)===Ee&&300>Dt()-El?(De&2)===0&&Is(e,0):dc|=i,Gs===Ee&&(Gs=0)),Rn(e)}function Pp(e,t){t===0&&(t=Ue()),e=Pi(e,t),e!==null&&(Dn(e,t),Rn(e))}function A0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Pp(e,i)}function O0(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Pp(e,i)}function R0(e,t){return ds(e,t)}var jl=null,Ks=null,Sc=!1,xl=!1,wc=!1,Si=0;function Rn(e){e!==Ks&&e.next===null&&(Ks===null?jl=Ks=e:Ks=Ks.next=e),xl=!0,Sc||(Sc=!0,C0())}function Za(e,t){if(!wc&&xl){wc=!0;do for(var i=!1,a=jl;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var h=0;else{var d=a.suspendedLanes,y=a.pingedLanes;h=(1<<31-Bt(42|e)+1)-1,h&=o&~(d&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Xp(a,h))}else h=Ee,h=Et(a,a===Ge?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||tt(a,h)||(i=!0,Xp(a,h));a=a.next}while(i);wc=!1}}function k0(){Ip()}function Ip(){xl=Sc=!1;var e=0;Si!==0&&L0()&&(e=Si);for(var t=Dt(),i=null,a=jl;a!==null;){var o=a.next,h=Yp(a,t);h===0?(a.next=null,i===null?jl=o:i.next=o,o===null&&(Ks=i)):(i=a,(e!==0||(h&3)!==0)&&(xl=!0)),a=o}yt!==0&&yt!==5||Za(e),Si!==0&&(Si=0)}function Yp(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var d=31-Bt(h),y=1<<d,T=o[d];T===-1?((y&i)===0||(y&a)!==0)&&(o[d]=zi(y,t)):T<=t&&(e.expiredLanes|=y),h&=~y}if(t=Ge,i=Ee,i=Et(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Mi(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||tt(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&Mi(a),va(i)){case 2:case 8:i=ga;break;case 32:i=Bi;break;case 268435456:i=Rr;break;default:i=Bi}return a=Kp.bind(null,e),i=ds(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&Mi(a),e.callbackPriority=2,e.callbackNode=null,2}function Kp(e,t){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Cl()&&e.callbackNode!==i)return null;var a=Ee;return a=Et(e,e===Ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(kp(e,a,t),Yp(e,Dt()),e.callbackNode!=null&&e.callbackNode===i?Kp.bind(null,e):null)}function Xp(e,t){if(Cl())return null;kp(e,t,!0)}function C0(){$0(function(){(De&6)!==0?ds(Or,k0):Ip()})}function Ec(){if(Si===0){var e=Ns;e===0&&(e=ps,ps<<=1,(ps&261888)===0&&(ps=256)),Si=e}return Si}function Jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Lr(""+e)}function Qp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function j0(e,t,i,a,o){if(t==="submit"&&i&&i.stateNode===o){var h=Jp((o[lt]||null).action),d=a.submitter;d&&(t=(t=d[lt]||null)?Jp(t.formAction):d.getAttribute("formAction"),t!==null&&(h=t,d=null));var y=new Gr("action","action",null,a,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Si!==0){var T=d?Qp(o,d):new FormData(o);Gu(i,{pending:!0,data:T,method:o.method,action:h},null,T)}}else typeof h=="function"&&(y.preventDefault(),T=d?Qp(o,d):new FormData(o),Gu(i,{pending:!0,data:T,method:o.method,action:h},h,T))},currentTarget:o}]})}}for(var Tc=0;Tc<ru.length;Tc++){var Ac=ru[Tc],x0=Ac.toLowerCase(),N0=Ac[0].toUpperCase()+Ac.slice(1);pn(x0,"on"+N0)}pn(Rf,"onAnimationEnd"),pn(kf,"onAnimationIteration"),pn(Cf,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(Xv,"onTransitionRun"),pn(Jv,"onTransitionStart"),pn(Qv,"onTransitionCancel"),pn(jf,"onTransitionEnd"),nt("onMouseEnter",["mouseout","mouseover"]),nt("onMouseLeave",["mouseout","mouseover"]),nt("onPointerEnter",["pointerout","pointerover"]),nt("onPointerLeave",["pointerout","pointerover"]),Ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fa));function Zp(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var d=a.length-1;0<=d;d--){var y=a[d],T=y.instance,x=y.currentTarget;if(y=y.listener,T!==h&&o.isPropagationStopped())break e;h=y,o.currentTarget=x;try{h(o)}catch(z){Yr(z)}o.currentTarget=null,h=T}else for(d=0;d<a.length;d++){if(y=a[d],T=y.instance,x=y.currentTarget,y=y.listener,T!==h&&o.isPropagationStopped())break e;h=y,o.currentTarget=x;try{h(o)}catch(z){Yr(z)}o.currentTarget=null,h=T}}}}function Se(e,t){var i=t[_a];i===void 0&&(i=t[_a]=new Set);var a=e+"__bubble";i.has(a)||(Fp(t,e,2,!1),i.add(a))}function Oc(e,t,i){var a=0;t&&(a|=4),Fp(i,e,a,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Rc(e){if(!e[Nl]){e[Nl]=!0,Ze.forEach(function(i){i!=="selectionchange"&&(D0.has(i)||Oc(i,!1,e),Oc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,Oc("selectionchange",!1,t))}}function Fp(e,t,i,a){switch(Rg(t)){case 2:var o=l_;break;case 8:o=o_;break;default:o=Vc}i=o.bind(null,t,i,e),o=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function kc(e,t,i,a,o){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var y=a.stateNode.containerInfo;if(y===o)break;if(d===4)for(d=a.return;d!==null;){var T=d.tag;if((T===3||T===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;y!==null;){if(d=Q(y),d===null)return;if(T=d.tag,T===5||T===6||T===26||T===27){a=h=d;continue e}y=y.parentNode}}a=a.return}nf(function(){var x=h,z=Io(i),V=[];e:{var N=xf.get(e);if(N!==void 0){var U=Gr,ee=e;switch(e){case"keypress":if($r(i)===0)break e;case"keydown":case"keyup":U=Ov;break;case"focusin":ee="focus",U=Zo;break;case"focusout":ee="blur",U=Zo;break;case"beforeblur":case"afterblur":U=Zo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Cv;break;case Rf:case kf:case Cf:U=yv;break;case jf:U=xv;break;case"scroll":case"scrollend":U=fv;break;case"wheel":U=Dv;break;case"copy":case"cut":case"paste":U=_v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=of;break;case"toggle":case"beforetoggle":U=Mv}var re=(t&4)!==0,$e=!re&&(e==="scroll"||e==="scrollend"),k=re?N!==null?N+"Capture":null:N;re=[];for(var A=x,j;A!==null;){var H=A;if(j=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||j===null||k===null||(H=ba(A,k),H!=null&&re.push(Wa(A,H,j))),$e)break;A=A.return}0<re.length&&(N=new U(N,ee,null,i,z),V.push({event:N,listeners:re}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",N&&i!==Po&&(ee=i.relatedTarget||i.fromElement)&&(Q(ee)||ee[ii]))break e;if((U||N)&&(N=z.window===z?z:(N=z.ownerDocument)?N.defaultView||N.parentWindow:window,U?(ee=i.relatedTarget||i.toElement,U=x,ee=ee?Q(ee):null,ee!==null&&($e=c(ee),re=ee.tag,ee!==$e||re!==5&&re!==27&&re!==6)&&(ee=null)):(U=null,ee=x),U!==ee)){if(re=rf,H="onMouseLeave",k="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(re=of,H="onPointerLeave",k="onPointerEnter",A="pointer"),$e=U==null?N:Ke(U),j=ee==null?N:Ke(ee),N=new re(H,A+"leave",U,i,z),N.target=$e,N.relatedTarget=j,H=null,Q(z)===x&&(re=new re(k,A+"enter",ee,i,z),re.target=j,re.relatedTarget=$e,H=re),$e=H,U&&ee)t:{for(re=U0,k=U,A=ee,j=0,H=k;H;H=re(H))j++;H=0;for(var ie=A;ie;ie=re(ie))H++;for(;0<j-H;)k=re(k),j--;for(;0<H-j;)A=re(A),H--;for(;j--;){if(k===A||A!==null&&k===A.alternate){re=k;break t}k=re(k),A=re(A)}re=null}else re=null;U!==null&&Wp(V,N,U,re,!1),ee!==null&&$e!==null&&Wp(V,$e,ee,re,!0)}}e:{if(N=x?Ke(x):window,U=N.nodeName&&N.nodeName.toLowerCase(),U==="select"||U==="input"&&N.type==="file")var xe=mf;else if(pf(N))if(yf)xe=Iv;else{xe=Gv;var te=Vv}else U=N.nodeName,!U||U.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?x&&Go(x.elementType)&&(xe=mf):xe=Pv;if(xe&&(xe=xe(e,x))){gf(V,xe,i,z);break e}te&&te(e,N,x),e==="focusout"&&x&&N.type==="number"&&x.memoizedProps.value!=null&&Vo(N,"number",N.value)}switch(te=x?Ke(x):window,e){case"focusin":(pf(te)||te.contentEditable==="true")&&(Ts=te,iu=x,ka=null);break;case"focusout":ka=iu=Ts=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Af(V,i,z);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":Af(V,i,z)}var ge;if(Wo)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Es?ff(e,i)&&(Te="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Te="onCompositionStart");Te&&(uf&&i.locale!=="ko"&&(Es||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Es&&(ge=sf()):(ai=z,Xo="value"in ai?ai.value:ai.textContent,Es=!0)),te=Dl(x,Te),0<te.length&&(Te=new lf(Te,e,null,i,z),V.push({event:Te,listeners:te}),ge?Te.data=ge:(ge=df(i),ge!==null&&(Te.data=ge)))),(ge=zv?qv(e,i):Lv(e,i))&&(Te=Dl(x,"onBeforeInput"),0<Te.length&&(te=new lf("onBeforeInput","beforeinput",null,i,z),V.push({event:te,listeners:Te}),te.data=ge)),j0(V,e,x,i,z)}Zp(V,t)})}function Wa(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Dl(e,t){for(var i=t+"Capture",a=[];e!==null;){var o=e,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=ba(e,i),o!=null&&a.unshift(Wa(e,o,h)),o=ba(e,t),o!=null&&a.push(Wa(e,o,h))),e.tag===3)return a;e=e.return}return[]}function U0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wp(e,t,i,a,o){for(var h=t._reactName,d=[];i!==null&&i!==a;){var y=i,T=y.alternate,x=y.stateNode;if(y=y.tag,T!==null&&T===a)break;y!==5&&y!==26&&y!==27||x===null||(T=x,o?(x=ba(i,h),x!=null&&d.unshift(Wa(i,x,T))):o||(x=ba(i,h),x!=null&&d.push(Wa(i,x,T)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var M0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function eg(e){return(typeof e=="string"?e:""+e).replace(M0,`
`).replace(B0,"")}function tg(e,t){return t=eg(t),eg(e)===t}function He(e,t,i,a,o,h){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||bs(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&bs(e,""+a);break;case"className":qi(e,"class",a);break;case"tabIndex":qi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":qi(e,i,a);break;case"style":ef(e,a,h);break;case"data":if(t!=="object"){qi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Lr(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&He(e,t,"name",o.name,o,null),He(e,t,"formEncType",o.formEncType,o,null),He(e,t,"formMethod",o.formMethod,o,null),He(e,t,"formTarget",o.formTarget,o,null)):(He(e,t,"encType",o.encType,o,null),He(e,t,"method",o.method,o,null),He(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Lr(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=Mn);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Lr(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Tt(e,"popover",a);break;case"xlinkActuate":mt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":mt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":mt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":mt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":mt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":mt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":mt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":mt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":mt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Tt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=cv.get(i)||i,Tt(e,i,a))}}function Cc(e,t,i,a,o,h){switch(i){case"style":ef(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?bs(e,a):(typeof a=="number"||typeof a=="bigint")&&bs(e,""+a);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gt.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),h=e[lt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,o),typeof a=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,o);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):Tt(e,i,a)}}}function kt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var a=!1,o=!1,h;for(h in i)if(i.hasOwnProperty(h)){var d=i[h];if(d!=null)switch(h){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:He(e,t,h,d,i,null)}}o&&He(e,t,"srcSet",i.srcSet,i,null),a&&He(e,t,"src",i.src,i,null);return;case"input":Se("invalid",e);var y=h=d=o=null,T=null,x=null;for(a in i)if(i.hasOwnProperty(a)){var z=i[a];if(z!=null)switch(a){case"name":o=z;break;case"type":d=z;break;case"checked":T=z;break;case"defaultChecked":x=z;break;case"value":h=z;break;case"defaultValue":y=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:He(e,t,a,z,i,null)}}Qh(e,h,y,T,x,d,o,!1);return;case"select":Se("invalid",e),a=d=h=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":h=y;break;case"defaultValue":d=y;break;case"multiple":a=y;default:He(e,t,o,y,i,null)}t=h,i=d,e.multiple=!!a,t!=null?_s(e,!!a,t,!1):i!=null&&_s(e,!!a,i,!0);return;case"textarea":Se("invalid",e),h=o=a=null;for(d in i)if(i.hasOwnProperty(d)&&(y=i[d],y!=null))switch(d){case"value":a=y;break;case"defaultValue":o=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:He(e,t,d,y,i,null)}Fh(e,a,o,h);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(a=i[T],a!=null))switch(T){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:He(e,t,T,a,i,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(a=0;a<Fa.length;a++)Se(Fa[a],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in i)if(i.hasOwnProperty(x)&&(a=i[x],a!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:He(e,t,x,a,i,null)}return;default:if(Go(t)){for(z in i)i.hasOwnProperty(z)&&(a=i[z],a!==void 0&&Cc(e,t,z,a,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(a=i[y],a!=null&&He(e,t,y,a,i,null))}function z0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,d=null,y=null,T=null,x=null,z=null;for(U in i){var V=i[U];if(i.hasOwnProperty(U)&&V!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":T=V;default:a.hasOwnProperty(U)||He(e,t,U,null,a,V)}}for(var N in a){var U=a[N];if(V=i[N],a.hasOwnProperty(N)&&(U!=null||V!=null))switch(N){case"type":h=U;break;case"name":o=U;break;case"checked":x=U;break;case"defaultChecked":z=U;break;case"value":d=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:U!==V&&He(e,t,N,U,a,V)}}$o(e,d,y,T,x,z,h,o);return;case"select":U=d=y=N=null;for(h in i)if(T=i[h],i.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":U=T;default:a.hasOwnProperty(h)||He(e,t,h,null,a,T)}for(o in a)if(h=a[o],T=i[o],a.hasOwnProperty(o)&&(h!=null||T!=null))switch(o){case"value":N=h;break;case"defaultValue":y=h;break;case"multiple":d=h;default:h!==T&&He(e,t,o,h,a,T)}t=y,i=d,a=U,N!=null?_s(e,!!i,N,!1):!!a!=!!i&&(t!=null?_s(e,!!i,t,!0):_s(e,!!i,i?[]:"",!1));return;case"textarea":U=N=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!a.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:He(e,t,y,null,a,o)}for(d in a)if(o=a[d],h=i[d],a.hasOwnProperty(d)&&(o!=null||h!=null))switch(d){case"value":N=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==h&&He(e,t,d,o,a,h)}Zh(e,N,U);return;case"option":for(var ee in i)if(N=i[ee],i.hasOwnProperty(ee)&&N!=null&&!a.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:He(e,t,ee,null,a,N)}for(T in a)if(N=a[T],U=i[T],a.hasOwnProperty(T)&&N!==U&&(N!=null||U!=null))switch(T){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:He(e,t,T,N,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in i)N=i[re],i.hasOwnProperty(re)&&N!=null&&!a.hasOwnProperty(re)&&He(e,t,re,null,a,N);for(x in a)if(N=a[x],U=i[x],a.hasOwnProperty(x)&&N!==U&&(N!=null||U!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:He(e,t,x,N,a,U)}return;default:if(Go(t)){for(var $e in i)N=i[$e],i.hasOwnProperty($e)&&N!==void 0&&!a.hasOwnProperty($e)&&Cc(e,t,$e,void 0,a,N);for(z in a)N=a[z],U=i[z],!a.hasOwnProperty(z)||N===U||N===void 0&&U===void 0||Cc(e,t,z,N,a,U);return}}for(var k in i)N=i[k],i.hasOwnProperty(k)&&N!=null&&!a.hasOwnProperty(k)&&He(e,t,k,null,a,N);for(V in a)N=a[V],U=i[V],!a.hasOwnProperty(V)||N===U||N==null&&U==null||He(e,t,V,N,a,U)}function ng(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var o=i[a],h=o.transferSize,d=o.initiatorType,y=o.duration;if(h&&y&&ng(d)){for(d=0,y=o.responseEnd,a+=1;a<i.length;a++){var T=i[a],x=T.startTime;if(x>y)break;var z=T.transferSize,V=T.initiatorType;z&&ng(V)&&(T=T.responseEnd,d+=z*(T<y?1:(y-x)/(T-x)))}if(--a,t+=8*(h+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jc=null,xc=null;function Ul(e){return e.nodeType===9?e:e.ownerDocument}function ig(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dc=null;function L0(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var ag=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(e){return rg.resolve(null).then(e).catch(V0)}:ag;function V0(e){setTimeout(function(){throw e})}function wi(e){return e==="head"}function lg(e,t){var i=t,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(o),Zs(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")er(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,er(i);for(var h=i.firstChild;h;){var d=h.nextSibling,y=h.nodeName;h[K]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=d}}else i==="body"&&er(e.ownerDocument.body);i=o}while(i);Zs(t)}function og(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function Uc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Uc(i),se(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function G0(e,t,i,a){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[K])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function P0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=cn(e.nextSibling),e===null))return null;return e}function ug(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=cn(e.nextSibling),e===null))return null;return e}function Mc(e){return e.data==="$?"||e.data==="$~"}function Bc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zc=null;function cg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return cn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function fg(e,t,i){switch(t=Ul(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function er(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);se(e)}var hn=new Map,dg=new Set;function Ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=I.d;I.d={f:Y0,r:K0,D:X0,C:J0,L:Q0,m:Z0,X:W0,S:F0,M:e_};function Y0(){var e=Zn.f(),t=Ol();return e||t}function K0(e){var t=we(e);t!==null&&t.tag===5&&t.type==="form"?jd(t):Zn.r(e)}var Xs=typeof document>"u"?null:document;function pg(e,t,i){var a=Xs;if(a&&typeof t=="string"&&t){var o=nn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),dg.has(o)||(dg.add(o),e={rel:e,crossOrigin:i,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),kt(t,"link",e),Re(t),a.head.appendChild(t)))}}function X0(e){Zn.D(e),pg("dns-prefetch",e,null)}function J0(e,t){Zn.C(e,t),pg("preconnect",e,t)}function Q0(e,t,i){Zn.L(e,t,i);var a=Xs;if(a&&e&&t){var o='link[rel="preload"][as="'+nn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+nn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+nn(i.imageSizes)+'"]')):o+='[href="'+nn(e)+'"]';var h=o;switch(t){case"style":h=Js(e);break;case"script":h=Qs(e)}hn.has(h)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),hn.set(h,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(tr(h))||t==="script"&&a.querySelector(nr(h))||(t=a.createElement("link"),kt(t,"link",e),Re(t),a.head.appendChild(t)))}}function Z0(e,t){Zn.m(e,t);var i=Xs;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+nn(a)+'"][href="'+nn(e)+'"]',h=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Qs(e)}if(!hn.has(h)&&(e=S({rel:"modulepreload",href:e},t),hn.set(h,e),i.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(nr(h)))return}a=i.createElement("link"),kt(a,"link",e),Re(a),i.head.appendChild(a)}}}function F0(e,t,i){Zn.S(e,t,i);var a=Xs;if(a&&e){var o=Be(a).hoistableStyles,h=Js(e);t=t||"default";var d=o.get(h);if(!d){var y={loading:0,preload:null};if(d=a.querySelector(tr(h)))y.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=hn.get(h))&&qc(e,i);var T=d=a.createElement("link");Re(T),kt(T,"link",e),T._p=new Promise(function(x,z){T.onload=x,T.onerror=z}),T.addEventListener("load",function(){y.loading|=1}),T.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Bl(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:y},o.set(h,d)}}}function W0(e,t){Zn.X(e,t);var i=Xs;if(i&&e){var a=Be(i).hoistableScripts,o=Qs(e),h=a.get(o);h||(h=i.querySelector(nr(o)),h||(e=S({src:e,async:!0},t),(t=hn.get(o))&&Lc(e,t),h=i.createElement("script"),Re(h),kt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(o,h))}}function e_(e,t){Zn.M(e,t);var i=Xs;if(i&&e){var a=Be(i).hoistableScripts,o=Qs(e),h=a.get(o);h||(h=i.querySelector(nr(o)),h||(e=S({src:e,async:!0,type:"module"},t),(t=hn.get(o))&&Lc(e,t),h=i.createElement("script"),Re(h),kt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(o,h))}}function gg(e,t,i,a){var o=(o=ve.current)?Ml(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Js(i.href),i=Be(o).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Js(i.href);var h=Be(o).hoistableStyles,d=h.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,d),(h=o.querySelector(tr(e)))&&!h._p&&(d.instance=h,d.state.loading=5),hn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},hn.set(e,i),h||t_(o,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qs(i),i=Be(o).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Js(e){return'href="'+nn(e)+'"'}function tr(e){return'link[rel="stylesheet"]['+e+"]"}function mg(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function t_(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),kt(t,"link",i),Re(t),e.head.appendChild(t))}function Qs(e){return'[src="'+nn(e)+'"]'}function nr(e){return"script[async]"+e}function yg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+nn(i.href)+'"]');if(a)return t.instance=a,Re(a),a;var o=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Re(a),kt(a,"style",o),Bl(a,i.precedence,e),t.instance=a;case"stylesheet":o=Js(i.href);var h=e.querySelector(tr(o));if(h)return t.state.loading|=4,t.instance=h,Re(h),h;a=mg(i),(o=hn.get(o))&&qc(a,o),h=(e.ownerDocument||e).createElement("link"),Re(h);var d=h;return d._p=new Promise(function(y,T){d.onload=y,d.onerror=T}),kt(h,"link",a),t.state.loading|=4,Bl(h,i.precedence,e),t.instance=h;case"script":return h=Qs(i.src),(o=e.querySelector(nr(h)))?(t.instance=o,Re(o),o):(a=i,(o=hn.get(h))&&(a=S({},i),Lc(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),Re(o),kt(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Bl(a,i.precedence,e));return t.instance}function Bl(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,h=o,d=0;d<a.length;d++){var y=a[d];if(y.dataset.precedence===t)h=y;else if(h!==o)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zl=null;function vg(e,t,i){if(zl===null){var a=new Map,o=zl=new Map;o.set(i,a)}else o=zl,a=o.get(i),a||(a=new Map,o.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var h=i[o];if(!(h[K]||h[rt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var d=h.getAttribute(t)||"";d=e+d;var y=a.get(d);y?y.push(h):a.set(d,[h])}}return a}function _g(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function n_(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function i_(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Js(a.href),h=t.querySelector(tr(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ql.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=h,Re(h);return}h=t.ownerDocument||t,a=mg(a),(o=hn.get(o))&&qc(a,o),h=h.createElement("link"),Re(h);var d=h;d._p=new Promise(function(y,T){d.onload=y,d.onerror=T}),kt(h,"link",a),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ql.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Hc=0;function s_(e,t){return e.stylesheets&&e.count===0&&Hl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&Hl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&Hc===0&&(Hc=62500*q0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Hc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function Hl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,t.forEach(a_,e),Ll=null,ql.call(e))}function a_(e,t){if(!(t.state.loading&4)){var i=Ll.get(e);if(i)var a=i.get(null);else{i=new Map,Ll.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var d=o[h];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}o=t.instance,d=o.getAttribute("data-precedence"),h=i.get(d)||a,h===a&&i.set(null,o),i.set(d,o),this.count++,a=ql.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),h?h.parentNode.insertBefore(o,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ir={$$typeof:M,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function r_(e,t,i,a,o,h,d,y,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.hiddenUpdates=ms(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Sg(e,t,i,a,o,h,d,y,T,x,z,V){return e=new r_(e,t,i,d,T,x,z,V,y),t=1,h===!0&&(t|=24),h=Jt(3,null,null,t),e.current=h,h.stateNode=e,t=_u(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:a,isDehydrated:i,cache:t},Eu(h),e}function wg(e){return e?(e=Rs,e):Rs}function Eg(e,t,i,a,o,h){o=wg(o),a.context===null?a.context=o:a.pendingContext=o,a=hi(t),a.payload={element:i},h=h===void 0?null:h,h!==null&&(a.callback=h),i=fi(e,a,t),i!==null&&(Pt(i,e,t),Ma(i,e,t))}function Tg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function $c(e,t){Tg(e,t),(e=e.alternate)&&Tg(e,t)}function Ag(e){if(e.tag===13||e.tag===31){var t=Pi(e,67108864);t!==null&&Pt(t,e,67108864),$c(e,67108864)}}function Og(e){if(e.tag===13||e.tag===31){var t=en();t=ys(t);var i=Pi(e,t);i!==null&&Pt(i,e,t),$c(e,t)}}var $l=!0;function l_(e,t,i,a){var o=B.T;B.T=null;var h=I.p;try{I.p=2,Vc(e,t,i,a)}finally{I.p=h,B.T=o}}function o_(e,t,i,a){var o=B.T;B.T=null;var h=I.p;try{I.p=8,Vc(e,t,i,a)}finally{I.p=h,B.T=o}}function Vc(e,t,i,a){if($l){var o=Gc(a);if(o===null)kc(e,t,a,Vl,i),kg(e,a);else if(c_(o,e,t,i,a))a.stopPropagation();else if(kg(e,a),t&4&&-1<u_.indexOf(e)){for(;o!==null;){var h=we(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=Nn(h.pendingLanes);if(d!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;d;){var T=1<<31-Bt(d);y.entanglements[1]|=T,d&=~T}Rn(h),(De&6)===0&&(Tl=Dt()+500,Za(0))}}break;case 31:case 13:y=Pi(h,2),y!==null&&Pt(y,h,2),Ol(),$c(h,2)}if(h=Gc(a),h===null&&kc(e,t,a,Vl,i),h===o)break;o=h}o!==null&&a.stopPropagation()}else kc(e,t,a,null,i)}}function Gc(e){return e=Io(e),Pc(e)}var Vl=null;function Pc(e){if(Vl=null,e=Q(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vl=e,null}function Rg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pa()){case Or:return 2;case ga:return 8;case Bi:case ma:return 32;case Rr:return 268435456;default:return 32}default:return 32}}var Ic=!1,Ei=null,Ti=null,Ai=null,sr=new Map,ar=new Map,Oi=[],u_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kg(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(t.pointerId)}}function rr(e,t,i,a,o,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[o]},t!==null&&(t=we(t),t!==null&&Ag(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function c_(e,t,i,a,o){switch(t){case"focusin":return Ei=rr(Ei,e,t,i,a,o),!0;case"dragenter":return Ti=rr(Ti,e,t,i,a,o),!0;case"mouseover":return Ai=rr(Ai,e,t,i,a,o),!0;case"pointerover":var h=o.pointerId;return sr.set(h,rr(sr.get(h)||null,e,t,i,a,o)),!0;case"gotpointercapture":return h=o.pointerId,ar.set(h,rr(ar.get(h)||null,e,t,i,a,o)),!0}return!1}function Cg(e){var t=Q(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,Ur(e.priority,function(){Og(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,Ur(e.priority,function(){Og(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Gc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Po=a,i.target.dispatchEvent(a),Po=null}else return t=we(i),t!==null&&Ag(t),e.blockedOn=i,!1;t.shift()}return!0}function jg(e,t,i){Gl(e)&&i.delete(t)}function h_(){Ic=!1,Ei!==null&&Gl(Ei)&&(Ei=null),Ti!==null&&Gl(Ti)&&(Ti=null),Ai!==null&&Gl(Ai)&&(Ai=null),sr.forEach(jg),ar.forEach(jg)}function Pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,h_)))}var Il=null;function xg(e){Il!==e&&(Il=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Il===e&&(Il=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(Pc(a||i)===null)continue;break}var h=we(i);h!==null&&(e.splice(t,3),t-=3,Gu(h,{pending:!0,data:o,method:i.method,action:a},a,o))}}))}function Zs(e){function t(T){return Pl(T,e)}Ei!==null&&Pl(Ei,e),Ti!==null&&Pl(Ti,e),Ai!==null&&Pl(Ai,e),sr.forEach(t),ar.forEach(t);for(var i=0;i<Oi.length;i++){var a=Oi[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Oi.length&&(i=Oi[0],i.blockedOn===null);)Cg(i),i.blockedOn===null&&Oi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var o=i[a],h=i[a+1],d=o[lt]||null;if(typeof h=="function")d||xg(i);else if(d){var y=null;if(h&&h.hasAttribute("formAction")){if(o=h,d=h[lt]||null)y=d.formAction;else if(Pc(o)!==null)continue}else y=d.action;typeof y=="function"?i[a+1]=y:(i.splice(a,3),a-=3),xg(i)}}}function Ng(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Yc(e){this._internalRoot=e}Yl.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=en();Eg(i,a,e,t,null,null)},Yl.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eg(e.current,2,null,e,null,null),Ol(),t[ii]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dr();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Oi.length&&t!==0&&t<Oi[i].priority;i++);Oi.splice(i,0,e),i===0&&Cg(e)}};var Dg=n.version;if(Dg!=="19.2.1")throw Error(r(527,Dg,"19.2.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var f_={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{xn=Kl.inject(f_),wt=Kl}catch{}}return or.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,a="",o=Hd,h=$d,d=Vd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Sg(e,1,!1,null,null,i,a,null,o,h,d,Ng),e[ii]=t.current,Rc(e),new Yc(t)},or.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var a=!1,o="",h=Hd,d=$d,y=Vd,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=Sg(e,1,!0,t,i??null,a,o,T,h,d,y,Ng),t.context=wg(null),i=t.current,a=en(),a=ys(a),o=hi(a),o.callback=null,fi(i,o,a),i=a,t.current.lanes=i,Dn(t,i),Rn(t),e[ii]=t.current,Rc(e),new Yl(t)},or.version="19.2.1",or}var Gg;function T_(){if(Gg)return Jc.exports;Gg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Jc.exports=E_(),Jc.exports}var A_=T_();const O_=["hearts","diamonds","clubs","spades"],R_=[2,3,4,5,6,7,8,9,10,11,12,13,14];function k_(){const l=[];for(const n of O_)for(const s of R_)l.push({suit:n,rank:s,id:`${n}-${s}`});return l}function C_(l){const n=[...l];for(let s=n.length-1;s>0;s--){const r=Math.floor(Math.random()*(s+1));[n[s],n[r]]=[n[r],n[s]]}return n}function ur(l,n){const s=l.slice(0,n),r=l.slice(n);return{drawn:s,remaining:r}}const dr=l=>l===14?14:l;function xi(l,n){const s=[...l],r=s.map(v=>dr(v.rank)).sort((v,w)=>v-w),u=s.map(v=>v.suit),c=u.every(v=>v===u[0]);let f=!1,p=0;r[0]+1===r[1]&&r[1]+1===r[2]&&(f=!0,p=r[2]),!f&&r[0]===2&&r[1]===3&&r[2]===14&&(f=!0,p=3);let g=!1,m=!1,_=!1;r[0]===r[1]&&r[1]===r[2]?m=!0:r[0]===r[1]?(g=!0,_=!0):(r[1]===r[2]||r[0]===r[2])&&(g=!0);const S=[...r].sort((v,w)=>w-v);if(c&&f){const v=s.map(D=>dr(D.rank)),w=v[0]+1===v[1]&&v[1]+1===v[2],E=v[0]-1===v[1]&&v[1]-1===v[2],R=v[0]===14&&v[1]===2&&v[2]===3,C=v[0]===3&&v[1]===2&&v[2]===14;if(w||E||R||C)return{type:"PureStraightFlush",score:n,rankValue:9,kickers:[p]}}if(m)return{type:"ThreeOfAKind",score:n,rankValue:8,kickers:[r[0]]};if(c&&f)return{type:"StraightFlush",score:n,rankValue:7,kickers:[p]};if(f&&!c){const v=s.map(D=>dr(D.rank)),w=v[0]+1===v[1]&&v[1]+1===v[2],E=v[0]-1===v[1]&&v[1]-1===v[2],R=v[0]===14&&v[1]===2&&v[2]===3,C=v[0]===3&&v[1]===2&&v[2]===14;if(w||E||R||C)return{type:"PureStraight",score:n,rankValue:6,kickers:[p]}}if(c)return{type:"Flush",score:n,rankValue:5,kickers:S.reverse()};if(g){const v=s.map(R=>dr(R.rank)),w=v[0]===v[1],E=v[1]===v[2];if(w||E){const R=_?r[0]:r[1],C=_?r[2]:r[0];return{type:"PureOnePair",score:n,rankValue:4,kickers:[R,C]}}}if(f)return{type:"Straight",score:n,rankValue:3,kickers:[p]};if(g){const v=r[0],w=r[1];return{type:"OnePair",score:n,rankValue:2,kickers:[v,w]}}return{type:"HighCard",score:n,rankValue:1,kickers:S.reverse()}}function Ni(l){const n=[...l],s=c=>{const f=c.map(v=>dr(v.rank)).sort((v,w)=>v-w),p=c.map(v=>v.suit),g=p.every(v=>v===p[0]);let m=!0;for(let v=0;v<4;v++)if(f[v]+1!==f[v+1]){m=!1;break}!m&&f[4]===14&&f[0]===2&&f[1]===3&&f[2]===4&&f[3]===5&&(m=!0);const _={};f.forEach(v=>_[v]=(_[v]||0)+1);const S=Object.values(_).sort((v,w)=>w-v);if(g&&m&&f[0]===10&&f[4]===14)return{type:"RoyalFlush",kickers:[]};if(g&&m)return{type:"StraightFlush",kickers:[f[4]]};if(S[0]===4){const v=Number(Object.keys(_).find(E=>_[Number(E)]===4)),w=Number(Object.keys(_).find(E=>_[Number(E)]===1));return{type:"FourOfAKind",kickers:[v,w]}}if(S[0]===3&&S[1]===2){const v=Number(Object.keys(_).find(E=>_[Number(E)]===3)),w=Number(Object.keys(_).find(E=>_[Number(E)]===2));return{type:"FullHouse",kickers:[v,w]}}if(g)return{type:"Flush",kickers:f.reverse()};if(m)return f[4]===14&&f[0]===2?{type:"Straight",kickers:[5]}:{type:"Straight",kickers:[f[4]]};if(S[0]===3){const v=Number(Object.keys(_).find(E=>_[Number(E)]===3)),w=f.filter(E=>E!==v).reverse();return{type:"ThreeOfAKind",kickers:[v,...w]}}if(S[0]===2&&S[1]===2){const v=Object.keys(_).filter(E=>_[Number(E)]===2).map(Number).sort((E,R)=>R-E),w=Number(Object.keys(_).find(E=>_[Number(E)]===1));return{type:"TwoPair",kickers:[...v,w]}}if(S[0]===2){const v=Number(Object.keys(_).find(E=>_[Number(E)]===2)),w=f.filter(E=>E!==v).reverse();return{type:"OnePair",kickers:[v,...w]}}return{type:"HighCard",kickers:f.reverse()}},r=c=>{switch(c){case"RoyalFlush":return 10;case"StraightFlush":return 9;case"FourOfAKind":return 8;case"FullHouse":return 7;case"Flush":return 6;case"Straight":return 5;case"ThreeOfAKind":return 4;case"TwoPair":return 3;case"OnePair":return 2;case"HighCard":return 1}},u=s(n);return{type:u.type,score:0,rankValue:r(u.type),kickers:u.kickers}}function Pg(l){switch(l){case"RoyalFlush":return 1e3;case"StraightFlush":return 16;case"FourOfAKind":return 14;case"FullHouse":return 12;case"Straight":return 10;case"Flush":return 8;case"ThreeOfAKind":return 6;case"TwoPair":return 4;case"OnePair":return 2;case"HighCard":return 0;default:return 0}}function go(l,n){let s=Pg(l.type),r=Pg(n.type);if(l.rankValue===n.rankValue){let u=!1,c=!1;for(let f=0;f<Math.max(l.kickers.length,n.kickers.length);f++){const p=l.kickers[f]||0,g=n.kickers[f]||0;if(p>g){u=!0;break}if(g>p){c=!0;break}}u?s+=1:c&&(r+=1)}return{p1Score:s,p2Score:r}}const mo={id:"",hand:[],board:Array(3).fill(null).map(()=>Array(5).fill(null)),dice:[],score:0,hiddenCardsCount:0,bonusesClaimed:0},ki={players:[{...mo,id:"p1"},{...mo,id:"p2"}],currentPlayerIndex:0,phase:"setup",deck:[],turnCount:0,winner:null};function j_(l,n){switch(n.type){case"START_GAME":{const s=n.payload?.initialDeck?[...n.payload.initialDeck]:C_(k_()),{drawn:r,remaining:u}=ur(s,4),{drawn:c,remaining:f}=ur(u,4),p=n.payload?.initialDice?n.payload.initialDice:Array.from({length:5},()=>Math.floor(Math.random()*6)+1).sort((m,_)=>_-m),g=Math.floor(Math.random()*2);return{...ki,phase:"playing",deck:f,currentPlayerIndex:g,players:[{...mo,id:"p1",hand:r,dice:p},{...mo,id:"p2",hand:c,dice:p}],turnCount:1}}case"PLACE_AND_DRAW":{const{cardId:s,colIndex:r,isHidden:u}=n.payload,c=l.currentPlayerIndex,f=l.players[c],p=f.hand.findIndex(_e=>_e.id===s);if(p===-1)return l;const g=f.hand[p];if(u){if(f.hiddenCardsCount>=3)return l;let _e=0;for(let me=0;me<3;me++)f.board[me][r]?.isHidden&&_e++;if(_e>=2)return l}let m=-1;for(let _e=0;_e<3;_e++)if(f.board[_e][r]===null){m=_e;break}if(m===-1)return l;const _=f.board.map(_e=>[..._e]),S={...g,isHidden:u};_[m][r]=S;const v=[...f.hand];v.splice(p,1);const w={...f,board:_,hand:v,hiddenCardsCount:u?f.hiddenCardsCount+1:f.hiddenCardsCount};let E=f.bonusesClaimed,R=0;m===2&&(l.players[c===0?1:0].board[2][r]!==null||(E+=1,R=1));let C=l.deck,D=w.hand;if(R>0){const{drawn:_e,remaining:me}=ur(C,R);C=me,D=[...D,..._e]}const{drawn:G,remaining:M}=ur(C,1);D=[...D,...G];const L={...w,hand:D,bonusesClaimed:E},Y=[...l.players];Y[c]=L;const q=c===0?1:0,P=Y[0].board.every(_e=>_e.every(me=>me!==null)),ue=Y[1].board.every(_e=>_e.every(me=>me!==null));let de=l.phase;return P&&ue&&(de="scoring"),{...l,players:Y,deck:M,currentPlayerIndex:q,phase:de,turnCount:l.turnCount+1}}case"DRAW_CARD":{const s=l.currentPlayerIndex,r=l.players[s],{drawn:u,remaining:c}=ur(l.deck,1),f=[...l.players];f[s]={...r,hand:[...r.hand,...u]};const p=s===0?1:0,g=f[0].board.every(S=>S.every(v=>v!==null)),m=f[1].board.every(S=>S.every(v=>v!==null));let _=l.phase;return g&&m&&(_="scoring"),{...l,players:f,deck:c,currentPlayerIndex:p,phase:_,turnCount:l.turnCount+1}}case"CALCULATE_SCORE":{let s=l.players[0].score,r=l.players[1].score;const u=l.players[0].board,c=l.players[1].board,f=l.players[0].dice;for(let E=0;E<5;E++){const R=[u[0][E],u[1][E],u[2][E]],C=[c[0][E],c[1][E],c[2][E]],D=xi(R,f[E]),G=xi(C,f[E]);if(D.rankValue>G.rankValue)s+=f[E];else if(G.rankValue>D.rankValue)r+=f[E];else{let M=!1,L=!1;for(let Y=0;Y<Math.max(D.kickers.length,G.kickers.length);Y++){const q=D.kickers[Y]||0,P=G.kickers[Y]||0;if(q>P){M=!0;break}if(P>q){L=!0;break}}M?s+=f[E]:L&&(r+=f[E])}}const p=u[2],g=c[2],m=Ni(p),_=Ni(g),{p1Score:S,p2Score:v}=go(m,_);if(m.type==="RoyalFlush")return{...l,winner:"p1",phase:"ended"};if(_.type==="RoyalFlush")return{...l,winner:"p2",phase:"ended"};s+=S,r+=v;const w=s>r?"p1":r>s?"p2":"draw";return{...l,players:[{...l.players[0],score:s},{...l.players[1],score:r}],winner:w,phase:"ended"}}case"SYNC_STATE":return n.payload;default:return l}}const x_={totalGames:0,wins:0,losses:0,draws:0,tripPreference:1,flushPreference:1,straightPreference:1,xHandFocus:1,bonusAggression:1,hidingStrategy:.3},Nm="xypoker_ai_learning";function ko(){try{const l=localStorage.getItem(Nm);if(l)return JSON.parse(l)}catch(l){console.error("Failed to load AI learning data:",l)}return{...x_}}function N_(l){try{localStorage.setItem(Nm,JSON.stringify(l))}catch(n){console.error("Failed to save AI learning data:",n)}}function D_(l,n=!1){const s=ko();if(s.totalGames+=1,n)s.draws+=1;else if(l)s.wins+=1,s.tripPreference*=1.05,s.flushPreference*=1.05,s.straightPreference*=1.05,s.xHandFocus*=1.05,s.bonusAggression*=1.05;else{s.losses+=1;const r=[{name:"tripPreference",value:s.tripPreference},{name:"flushPreference",value:s.flushPreference},{name:"straightPreference",value:s.straightPreference},{name:"xHandFocus",value:s.xHandFocus},{name:"bonusAggression",value:s.bonusAggression}];r.sort((f,p)=>f.value-p.value);const u=r[0].name,c=r[r.length-1].name;s[u]*=1.1,s[c]*=.95,s.bonusAggression*=1.08}s.tripPreference=Math.min(Math.max(s.tripPreference,.5),2),s.flushPreference=Math.min(Math.max(s.flushPreference,.5),2),s.straightPreference=Math.min(Math.max(s.straightPreference,.5),2),s.xHandFocus=Math.min(Math.max(s.xHandFocus,.5),2),s.bonusAggression=Math.min(Math.max(s.bonusAggression,.5),2.5),s.hidingStrategy=Math.min(Math.max(s.hidingStrategy,.1),.6),N_(s)}const U_={hearts:"",diamonds:"",clubs:"",spades:"",joker:""},M_={11:"J",12:"Q",13:"K",14:"A",15:"JOKER"},yo=({card:l,onClick:n,isSelected:s,isPlayable:r,isPeeking:u,isHidden:c,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:m,onTouchEnd:_,skin:S="classic",size:v="normal"})=>{if((l.isHidden||c)&&!u)return b.jsx("div",{className:`card ${v} hidden ${s?"selected":""} card-back-${S}`,onClick:n,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:m,onTouchEnd:_,children:b.jsx("div",{className:"card-back"})});const E=M_[l.rank]||l.rank.toString(),R=U_[l.suit];return b.jsxs("div",{className:`card ${v} ${l.suit} ${s?"selected":""} ${r?"playable":""} ${u?"peeking":""}`,onClick:n,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:m,onTouchEnd:_,"data-suit":l.suit,children:[u&&b.jsx("div",{className:"peek-overlay"}),b.jsxs("div",{className:"card-top",children:[b.jsx("span",{className:"rank",children:E}),b.jsx("span",{className:"suit",children:R})]}),b.jsx("div",{className:"card-center",children:R}),b.jsxs("div",{className:"card-bottom",children:[b.jsx("span",{className:"rank",children:E}),b.jsx("span",{className:"suit",children:R})]})]})},Mh=({value:l,size:n="medium",className:s="",skin:r="white"})=>{const u=()=>{const c=[];return(l===1||l===3||l===5)&&c.push(b.jsx("div",{className:"dot center"},"c")),l>=2&&(c.push(b.jsx("div",{className:"dot top-left"},"tl")),c.push(b.jsx("div",{className:"dot bottom-right"},"br"))),l>=4&&(c.push(b.jsx("div",{className:"dot top-right"},"tr")),c.push(b.jsx("div",{className:"dot bottom-left"},"bl"))),l===6&&(c.push(b.jsx("div",{className:"dot middle-left"},"ml")),c.push(b.jsx("div",{className:"dot middle-right"},"mr"))),c};return b.jsx("div",{className:`dice ${n} ${s} ${r}`,children:u()})},B_=({playerBoard:l,opponentBoard:n,dice:s,onColumnClick:r,isCurrentPlayer:u,revealAll:c=!1,winningColumns:f,xWinner:p,bottomPlayerId:g="p1",selectedSkin:m,selectedCardSkin:_,selectedBoardSkin:S,scoringStep:v=-1})=>{const[w,E]=Z.useState(null),[R,C]=Z.useState(null),D=(Y,q,P)=>{if(Y&&(R!==null&&(clearTimeout(R),C(null)),Y.isHidden&&!c)){const ue=window.setTimeout(()=>{E(Y.id)},500);C(ue)}},G=(Y,q,P)=>{R!==null&&(clearTimeout(R),C(null)),E(null),!Y&&u&&r(q)},M=(Y,q,P)=>{Y&&!Y.isHidden&&u&&r(q)},L=Array.from({length:5},(Y,q)=>{const P=g==="p1"?"p2":"p1",ue=[n[2][q],n[1][q],n[0][q]],de=[l[0][q],l[1][q],l[2][q]],_e=f?f[q]:null,me=v>=4-q,ye=_e===g&&me?`winning-slot-${g}`:"",_t=_e===P&&me?`winning-slot-${P}`:"",B=v>=5,I=p===P&&B,ae=p===g&&B;return b.jsxs("div",{className:`shared-column ${u?"interactive":""}`,children:[b.jsx("div",{className:"opponent-slots",children:ue.map((ce,Oe)=>b.jsx("div",{className:`card-slot opponent-slot ${_t} ${I&&Oe===0?"winning-row-yellow":""}`,children:ce?b.jsx(yo,{card:c?{...ce,isHidden:!1}:ce,skin:_}):b.jsx("div",{className:"empty-slot",onClick:()=>u&&r(q)})},`opp-${Oe}`))}),b.jsx("div",{className:"dice-row",children:b.jsx(Mh,{value:s[q],skin:m})}),b.jsx("div",{className:"player-slots",children:de.map((ce,Oe)=>b.jsx("div",{className:`card-slot player-slot ${ae&&Oe===2?"winning-row-yellow":""} ${ye}`,children:ce?b.jsx(yo,{card:c?{...ce,isHidden:!1}:ce,isPeeking:w===ce.id,onClick:()=>M(ce,q),onMouseDown:()=>D(ce),onMouseUp:()=>G(ce,q),onMouseLeave:()=>G(ce,q),onTouchStart:()=>D(ce),onTouchEnd:()=>G(ce,q),skin:_}):b.jsx("div",{className:"empty-slot",onClick:()=>u&&r(q)})},`pl-${Oe}`))})]},q)});return b.jsx("div",{className:`shared-board board-theme-${S}`,children:L})},z_=({hand:l,selectedCardId:n,onCardSelect:s,isCurrentPlayer:r=!1,isOpponent:u=!1,isHidden:c=!1,onCardClick:f})=>b.jsx("div",{className:`hand ${r?"active":""} ${u?"opponent":""}`,children:l.map(p=>b.jsx("div",{className:"hand-card-wrapper",children:b.jsx(yo,{card:p,isSelected:n===p.id,onClick:()=>{r&&s?s(p.id):f&&f()},isPlayable:r,isHidden:c})},p.id))}),q_=({gameState:l,isOnlineMode:n=!1,playerRole:s=null,playerName:r="Player 1",opponentName:u="Player 2",onSurrender:c})=>{const{phase:f,currentPlayerIndex:p,players:g,winner:m}=l,_=n&&s==="guest"?1:0,S=r,v=u,w=_===0?S:v,E=_===1?S:v;return b.jsxs("div",{className:"game-info","data-my-index":n?_:0,children:[b.jsxs("div",{className:"status-bar",children:[f==="playing"&&(p===(n?_:0)?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"turn-indicator your-turn",children:"YOUR TURN"}),c&&b.jsx("button",{className:"surrender-btn",onClick:c,children:"Cancel"})]}):b.jsx("div",{className:"turn-indicator opponent-turn",children:n?`${v}'s Turn`:`${E}'s Turn`})),f==="ended"&&b.jsx("div",{className:"winner-banner",children:m==="draw"?"Draw - Tie Game!":`Winner: ${m==="p1"?w:E}!`}),f==="scoring"&&b.jsx("div",{className:"scoring-banner",children:"Scoring Phase..."})]}),b.jsxs("div",{className:"scores",children:[b.jsxs("div",{className:"player-score-row player-1",children:[b.jsxs("span",{className:`score-item ${p===0?"active":""}`,children:[w,": ",g[0].score]}),b.jsxs("span",{className:"bonus-item",children:["Bonuses: ",g[0].bonusesClaimed]})]}),b.jsxs("div",{className:"player-score-row player-2",children:[b.jsxs("span",{className:`score-item ${p===1?"active":""}`,children:[E,": ",g[1].score]}),b.jsxs("span",{className:"bonus-item",children:["Bonuses: ",g[1].bonusesClaimed]})]})]})]})},Me=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),n=l.createOscillator(),s=l.createGain();n.connect(s),s.connect(l.destination),n.frequency.value=800,n.type="sine",s.gain.setValueAtTime(.3,l.currentTime),s.gain.exponentialRampToValueAtTime(.01,l.currentTime+.1),n.start(l.currentTime),n.stop(l.currentTime+.1)}catch(l){console.warn("Audio playback not supported:",l)}},as=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),n=l.createOscillator(),s=l.createGain();n.connect(s),s.connect(l.destination),n.frequency.setValueAtTime(523.25,l.currentTime),n.frequency.linearRampToValueAtTime(659.25,l.currentTime+.1),n.type="sine",s.gain.setValueAtTime(.3,l.currentTime),s.gain.exponentialRampToValueAtTime(.01,l.currentTime+.3),n.start(l.currentTime),n.stop(l.currentTime+.3)}catch(l){console.warn("Audio playback not supported:",l)}};let na=[];const Ig=()=>{const l=window.speechSynthesis.getVoices();l.length>0&&(na=l)};"speechSynthesis"in window&&(window.speechSynthesis.onvoiceschanged=Ig,Ig());const Yg=l=>{if("speechSynthesis"in window)try{window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(l);na.length===0&&(na=window.speechSynthesis.getVoices());const s=na.find(r=>r.lang==="en-US"&&!r.name.includes("Google"))||na.find(r=>r.lang==="en-US")||na.find(r=>r.lang.startsWith("en"));s&&(n.voice=s),n.lang="en-US",n.rate=1,n.pitch=1,n.volume=.8,window.speechSynthesis.speak(n)}catch(n){console.warn("Speech synthesis failed:",n)}},L_=({gameState:l,onRestart:n,onClose:s,onViewBoard:r,p1Name:u="Player 1",p2Name:c="Player 2",ratingUpdates:f})=>{const{players:p,winner:g}=l,m=p[0],_=p[1],S=p[0].dice,v=M=>M.replace(/([A-Z])/g," $1").trim(),w=Array.from({length:5}).map((M,L)=>{const Y=[m.board[0][L],m.board[1][L],m.board[2][L]],q=[_.board[0][L],_.board[1][L],_.board[2][L]],P=xi(Y,S[L]),ue=xi(q,S[L]);let de="draw";if(P.rankValue>ue.rankValue)de="p1";else if(ue.rankValue>P.rankValue)de="p2";else{let _e=!1,me=!1;for(let Ae=0;Ae<Math.max(P.kickers.length,ue.kickers.length);Ae++){const ye=P.kickers[Ae]||0,et=ue.kickers[Ae]||0;if(ye>et){_e=!0;break}if(et>ye){me=!0;break}}_e?de="p1":me&&(de="p2")}return{dice:S[L],p1Hand:v(P.type),p2Hand:v(ue.type),winner:de}}),E=Ni(m.board[2]),R=Ni(_.board[2]),{p1Score:C,p2Score:D}=go(E,R);let G="draw";return C>D?G="p1":D>C&&(G="p2"),b.jsx("div",{className:"game-result-overlay",children:b.jsxs("div",{className:"game-result-modal",children:[b.jsx("div",{className:"winner-announcement",children:g==="draw"?b.jsx("span",{className:"draw-text",children:"Draw - Tie Game!"}):b.jsxs(b.Fragment,{children:["Winner: ",b.jsx("span",{className:g==="p1"?"p1-text":"p2-text",children:g==="p1"?u:c}),"!"]})}),b.jsxs("div",{className:"results-table",children:[b.jsxs("div",{className:"table-header",children:[b.jsx("div",{children:"Dice"}),b.jsx("div",{children:u}),b.jsx("div",{children:c})]}),w.map((M,L)=>b.jsxs("div",{className:"table-row",children:[b.jsx("div",{className:"dice-val",children:M.dice}),b.jsx("div",{className:`hand-name ${M.winner==="p1"?"p1-text":""}`,children:M.p1Hand}),b.jsx("div",{className:`hand-name ${M.winner==="p2"?"p2-text":""}`,children:M.p2Hand})]},L)),b.jsx("div",{className:"table-divider"}),b.jsxs("div",{className:"table-row x-hand-row",children:[b.jsx("div",{children:"X-Hand"}),b.jsxs("div",{className:`hand-name ${G==="p1"?"p1-text":""}`,children:[v(E.type)," ",b.jsxs("span",{className:"score-detail",children:["(",C,")"]})]}),b.jsxs("div",{className:`hand-name ${G==="p2"?"p2-text":""}`,children:[v(R.type)," ",b.jsxs("span",{className:"score-detail",children:["(",D,")"]})]})]})]}),b.jsxs("div",{className:"final-scores",children:[b.jsxs("div",{className:`score-box p1 ${g==="p1"?"winner-box":""}`,children:[b.jsx("h3",{children:u}),b.jsx("div",{className:"score-val",children:m.score}),b.jsxs("div",{className:"bonus-val",children:["Bonuses: ",m.bonusesClaimed]}),f&&f.p1&&b.jsxs("div",{className:"rating-update",children:[b.jsx("div",{children:"Rating"}),b.jsxs("div",{className:"rating-values",children:[f.p1.old,"  ",b.jsx("span",{className:"rating-new",children:f.p1.new})]}),b.jsxs("div",{className:`rating-change ${f.p1.change>=0?"pos":"neg"}`,children:[f.p1.change>=0?"+":"",f.p1.change]})]})]}),b.jsxs("div",{className:`score-box p2 ${g==="p2"?"winner-box":""}`,children:[b.jsx("h3",{children:c}),b.jsx("div",{className:"score-val",children:_.score}),b.jsxs("div",{className:"bonus-val",children:["Bonuses: ",_.bonusesClaimed]}),f&&f.p2&&b.jsxs("div",{className:"rating-update",children:[b.jsx("div",{children:"Rating"}),b.jsxs("div",{className:"rating-values",children:[f.p2.old,"  ",b.jsx("span",{className:"rating-new",children:f.p2.new})]}),b.jsxs("div",{className:`rating-change ${f.p2.change>=0?"pos":"neg"}`,children:[f.p2.change>=0?"+":"",f.p2.change]})]})]})]}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn-secondary view-board-btn",onClick:()=>{Me(),r()},children:"View Board"}),b.jsx("button",{className:"btn-secondary quit-btn",onClick:()=>{Me(),s()},children:"Back to Lobby"}),b.jsx("button",{className:"btn-primary restart-btn",onClick:()=>{Me(),n()},children:"Play Again"})]})]})})},H_=({onCreateRoom:l,onJoinRoom:n,onQuickMatch:s,onCancelMatchmaking:r,roomId:u,isConnected:c,playerRole:f,playerName:p,onPlayerNameChange:g,rating:m,onShowRules:_})=>{const[S,v]=Z.useState("");return c?b.jsxs("div",{className:"lobby-container",children:[b.jsx("h2",{children:"Online Multiplayer"}),b.jsxs("div",{className:"name-input-section",children:[b.jsx("label",{htmlFor:"playerName",children:"Your Name:"}),b.jsx("input",{id:"playerName",type:"text",value:p,onChange:w=>g(w.target.value),maxLength:10,placeholder:"Enter your name"}),m!=null&&b.jsxs("div",{className:"player-rating-display",style:{marginTop:"8px",fontSize:"0.9rem",color:"#ffffff",fontWeight:"bold",backgroundColor:"rgba(0, 0, 0, 0.8)",padding:"4px 12px",borderRadius:"12px",display:"inline-block",textShadow:"none"},children:["Your Rating: ",b.jsx("span",{style:{fontSize:"1.1rem"},children:m})]})]}),b.jsxs("div",{className:"quick-match-section",children:[b.jsx("button",{className:"btn-primary btn-large",onClick:()=>{Me(),s()},children:" Quick Match"}),b.jsx("p",{className:"quick-match-hint",children:"Play against a random opponent"})]}),b.jsx("div",{className:"lobby-helper-actions",style:{display:"flex",justifyContent:"center",marginTop:"1rem"},children:b.jsx("button",{className:"btn-secondary",onClick:()=>{Me(),_()},children:" Rules"})}),b.jsx("div",{className:"divider",children:b.jsx("span",{children:"OR"})}),u?b.jsxs("div",{className:"waiting-room",children:[b.jsx("h3",{children:f==="host"?"Room Created!":"Joined Room!"}),b.jsxs("div",{className:"room-id-display",children:["Room ID: ",b.jsx("span",{children:u}),f==="host"&&b.jsx("button",{className:"btn-icon copy-btn",onClick:()=>{navigator.clipboard.writeText(u),alert("Room ID copied!")},title:"Copy to Clipboard",children:""})]}),b.jsx("p",{children:f==="host"?"Share this ID with your friend.":"Waiting for game to start..."}),f==="host"&&b.jsx("div",{className:"loading-spinner",children:"Waiting for opponent... Game starts automatically."}),f==="guest"&&b.jsx("div",{className:"loading-spinner",children:"Connected to Room"}),b.jsx("button",{className:"btn-cancel",onClick:()=>{Me(),r()},children:"Cancel"})]}):b.jsxs("div",{className:"lobby-actions",children:[b.jsxs("div",{className:"action-box",children:[b.jsx("h3",{children:"Create Room"}),b.jsx("p",{children:"Start a new game and invite a friend."}),b.jsx("button",{className:"btn-primary",onClick:()=>{Me(),l()},children:"Create Room"})]}),b.jsx("div",{className:"divider",children:"OR"}),b.jsxs("div",{className:"action-box",children:[b.jsx("h3",{children:"Join Room"}),b.jsx("p",{children:"Enter the Room ID to join."}),b.jsx("input",{type:"text",placeholder:"Room ID",value:S,onChange:w=>v(w.target.value),maxLength:4}),b.jsx("button",{className:"btn-secondary",onClick:()=>{Me(),n(S)},disabled:S.length!==4,children:"Join Room"})]})]})]}):b.jsxs("div",{className:"lobby-container",children:[b.jsx("h2",{children:"Online Multiplayer"}),b.jsxs("div",{className:"waiting-room",children:[b.jsx("div",{className:"loading-spinner",children:"Connecting to server..."}),b.jsx("p",{style:{marginTop:"1rem",color:"#888"},children:"Ensure the server is running on port 3001."})]})]})},$_=[{id:"white",name:"Classic White",color:"#ffffff"},{id:"red",name:"Ruby Red",color:"#d32f2f"},{id:"blue",name:"Ocean Blue",color:"#1976d2"},{id:"green",name:"Emerald Green",color:"#388e3c"},{id:"yellow",name:"Solar Yellow",color:"#fbc02d"},{id:"purple",name:"Amethyst",color:"#7b1fa2"},{id:"black",name:"Obsidian",color:"#212121"},{id:"pink",name:"Neon Pink",color:"#e91e63"},{id:"orange",name:"Sunset Orange",color:"#f57c00"},{id:"teal",name:"Aqua Teal",color:"#00796b"},{id:"silver",name:"Chrome Silver",color:"#c0c0c0"},{id:"gold",name:"Pure Gold",color:"#ffd700"}],V_=[{id:"classic",name:"Classic Blue",color:"#2196f3"},{id:"red-modern",name:"Modern Red",color:"#f44336"},{id:"blue-modern",name:"Geometric Blue",color:"#3f51b5"},{id:"gold-luxury",name:"Luxury Gold",color:"#ffd700"},{id:"cyber-neon",name:"Cyber Neon",color:"#00e5ff"},{id:"dark-matter",name:"Dark Matter",color:"#202020"},{id:"wood-grain",name:"Oaken Wood",color:"#8d6e63"},{id:"matrix",name:"The Matrix",color:"#00c853"},{id:"sunset",name:"Vaporwave",color:"#ff4081"},{id:"royal-purple",name:"Royal Velvet",color:"#6200ea"},{id:"cool-mint",name:"Cool Mint",color:"#a7ffeb"},{id:"dragon-scale",name:"Dragon Scale",color:"#bf360c"}],G_=[{id:"classic-green",name:"Classic Felt",color:"#2e7d32"},{id:"midnight-blue",name:"Midnight",color:"#1a237e"},{id:"casino-red",name:"Casino Royale",color:"#b71c1c"},{id:"void-black",name:"The Void",color:"#000000"},{id:"neon-grid",name:"Retro Grid",color:"#263238"},{id:"warm-wood",name:"Mahogany",color:"#3e2723"},{id:"ice-blue",name:"Glacier",color:"#e0f7fa"},{id:"royal-gold",name:"VIP Room",color:"#fff8e1"},{id:"cyber-punk",name:"Night City",color:"#212121"},{id:"minimal-grey",name:"Minimalist",color:"#eeeeee"},{id:"space-station",name:"Space Station",color:"#cfd8dc"},{id:"volcano",name:"Volcano",color:"#3e2723"}],P_=({isOpen:l,onClose:n,unlockedSkins:s,selectedSkin:r,onUnlock:u,onSelect:c,unlockedCardSkins:f,selectedCardSkin:p,onUnlockCard:g,onSelectCard:m,unlockedBoardSkins:_,selectedBoardSkin:S,onUnlockBoard:v,onSelectBoard:w})=>{const[E,R]=Z.useState("dice"),[C,D]=Z.useState(null),[G,M]=Z.useState(!1);if(Z.useEffect(()=>{l||(D(null),M(!1),R("dice"))},[l]),!l)return null;const L=(P,ue,de)=>{if(Me(),ue)de(P);else{if(C===P)return;window.open("https://otieu.com/4/10307496","_blank"),D(P),M(!1),setTimeout(()=>{M(!0)},3e3)}},Y=(P,ue,de)=>{P.stopPropagation(),G&&(as(),de(ue),D(null),M(!1))},q=()=>{let P=[],ue=[],de="",_e=()=>{},me=()=>{},Ae=null;return E==="dice"?(P=$_,ue=s,de=r,_e=u,me=c,Ae=({id:ye})=>b.jsx(Mh,{value:6,size:"medium",skin:ye})):E==="card"?(P=V_,ue=f,de=p,_e=g,me=m,Ae=({id:ye})=>b.jsx("div",{className:`preview-card card-back-${ye}`,children:b.jsx("div",{className:"card-inner"})})):(P=G_,ue=_,de=S,_e=v,me=w,Ae=({id:ye,color:et})=>b.jsx("div",{className:`preview-board board-theme-${ye}`,style:{background:ye==="classic-green"?void 0:et},children:b.jsx("div",{className:"board-line"})})),b.jsx("div",{className:"skins-grid",children:P.map(ye=>{const et=ue.includes(ye.id),_t=de===ye.id,B=C===ye.id;return b.jsxs("div",{className:`skin-item ${et?"unlocked":"locked"} ${_t?"selected":""} ${B?"pending":""}`,onClick:()=>L(ye.id,et,me),children:[b.jsx("div",{className:"skin-preview",children:b.jsx(Ae,{id:ye.id,color:ye.color})}),b.jsx("div",{className:"skin-name",children:ye.name}),!et&&!B&&b.jsx("div",{className:"lock-icon",children:""}),_t&&b.jsx("div",{className:"check-icon",children:""}),B&&b.jsx("div",{className:"claim-overlay",children:G?b.jsx("button",{className:"btn-claim pulse-animation",onClick:I=>Y(I,ye.id,_e),children:"CLAIM"}):b.jsx("div",{className:"watching-text",children:"Watching..."})})]},ye.id)})})};return b.jsx("div",{className:"skin-store-overlay",children:b.jsxs("div",{className:"skin-store-modal",children:[b.jsx("button",{className:"btn-close-x",onClick:()=>{Me(),n()},children:""}),b.jsx("h2",{children:"Skin Shop"}),b.jsx("p",{className:"store-subtitle",children:"Watch ad: 3h Skin Unlock"}),b.jsxs("div",{className:"store-tabs",children:[b.jsx("button",{className:`tab-btn ${E==="dice"?"active":""}`,onClick:()=>{Me(),R("dice")},children:"Dice"}),b.jsx("button",{className:`tab-btn ${E==="card"?"active":""}`,onClick:()=>{Me(),R("card")},children:"Cards"}),b.jsx("button",{className:`tab-btn ${E==="board"?"active":""}`,onClick:()=>{Me(),R("board")},children:"Boards"})]}),q(),b.jsx("button",{className:"btn-close",onClick:()=>{Me(),n()},children:"Close"})]})})},I_=({targetValues:l,onComplete:n,selectedSkin:s})=>{const[r,u]=Z.useState([1,1,1,1,1]),[c,f]=Z.useState([!0,!0,!0,!0,!0]),[p,g]=Z.useState("ready");return Z.useEffect(()=>{console.log("[DiceRollOverlay] Mounted. Target Values:",l),g("rolling");const m=[],_=[1500,1800,2100,2400,2700];r.forEach((w,E)=>{const R=setInterval(()=>{u(C=>{const D=[...C];return D[E]=Math.floor(Math.random()*6)+1,D})},80);m.push(R),setTimeout(()=>{clearInterval(m[E]),u(C=>{const D=[...C];return D[E]=l[E],D}),f(C=>{const D=[...C];return D[E]=!1,D}),Me()},_[E])});const v=setTimeout(()=>{g("finished"),setTimeout(n,500)},3500);return()=>{m.forEach(clearInterval),clearTimeout(v)}},[]),b.jsx("div",{className:"dice-roll-overlay",children:b.jsxs("div",{className:"dice-roll-content",children:[b.jsx("h2",{className:"dice-roll-title",children:p==="rolling"?"Rolling Dice...":"Battle Start!"}),b.jsx("div",{className:"dice-container-large",children:r.map((m,_)=>b.jsx("div",{className:`rolling-dice ${c[_]?"shaking":"landed"}`,children:b.jsx(Mh,{value:m,size:"large",skin:s})},_))})]})})},J=(l,n)=>({id:`demo-${l}-${n}-${Math.random()}`,rank:l,suit:n,isJoker:!1,isHidden:!1,isFlipped:!1}),vt=({title:l,note:n,cards:s})=>b.jsxs("div",{className:"hand-example",children:[b.jsxs("div",{className:"hand-header",children:[b.jsx("span",{className:"hand-title",children:l}),n&&b.jsx("span",{className:"hand-note",children:n})]}),b.jsx("div",{className:"hand-cards",children:s.map((r,u)=>b.jsx(yo,{card:r,size:"xs"},u))})]}),Y_=({onClose:l})=>b.jsx("div",{className:"rules-overlay",onClick:l,children:b.jsxs("div",{className:"rules-content",onClick:n=>n.stopPropagation(),children:[b.jsx("button",{className:"close-btn",onClick:l,children:""}),b.jsx("h2",{children:'How to Play "XY Poker"'}),b.jsxs("div",{className:"rules-scroll-area",children:[b.jsxs("section",{children:[b.jsx("h3",{children:" Goal"}),b.jsxs("p",{children:["Build the strongest ",b.jsx("strong",{children:"Poker Hands (Rows)"})," and match ",b.jsx("strong",{children:"Dice Values (Columns)"})," to score points."]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Game Flow"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Turns:"})," Players take turns placing ",b.jsx("strong",{children:"1 Card"})," from their hand onto the ",b.jsx("strong",{children:"5x3 Grid"}),"."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"X-Axis (Rows):"})," The bottom row (Row 3, 5 cards) forms a standard Poker Hand. Stronger hand wins bonus points."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Y-Axis (Columns):"}),` Each of the 5 columns (3 cards vertical) forms a "3-Card Hand". The strength is multiplied by the column's `,b.jsx("strong",{children:"Dice Value"}),"."]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Pure vs Normal"}),b.jsx("p",{children:"There are two types of 3-card hands in the Y-Axis:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Pure (Stronger):"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Straight:"})," Ranks must be ordered (e.g., 3-4-5)."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Pair:"})," Cards must be adjacent (e.g., 5-5-9 or 9-5-5, but NOT 5-9-5)."]})]})]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Normal (Weaker):"})," Any other valid combination (e.g., 3-5-4 Straight, or 5-9-5 Split Pair)."]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Hand Rankings (Strongest to Weakest)"}),b.jsxs("div",{className:"rankings-grid",children:[b.jsxs("div",{className:"ranking-column",children:[b.jsx("h4",{children:"X-Axis (Horizontal - 5 Cards)"}),b.jsxs("div",{className:"hand-list-visual",children:[b.jsx(vt,{title:"Royal Flush",cards:[J(10,"spades"),J(11,"spades"),J(12,"spades"),J(13,"spades"),J(14,"spades")]}),b.jsx(vt,{title:"Straight Flush",cards:[J(5,"hearts"),J(6,"hearts"),J(7,"hearts"),J(8,"hearts"),J(9,"hearts")]}),b.jsx(vt,{title:"Four of a Kind",cards:[J(8,"clubs"),J(8,"diamonds"),J(8,"hearts"),J(8,"spades"),J(13,"clubs")]}),b.jsx(vt,{title:"Full House",cards:[J(12,"diamonds"),J(12,"clubs"),J(12,"hearts"),J(9,"spades"),J(9,"clubs")]}),b.jsx(vt,{title:"Flush",cards:[J(2,"diamonds"),J(5,"diamonds"),J(8,"diamonds"),J(11,"diamonds"),J(13,"diamonds")]}),b.jsx(vt,{title:"Straight",cards:[J(3,"clubs"),J(4,"diamonds"),J(5,"hearts"),J(6,"spades"),J(7,"clubs")]}),b.jsx(vt,{title:"Three of a Kind",cards:[J(7,"spades"),J(7,"hearts"),J(7,"clubs"),J(2,"diamonds"),J(12,"clubs")]}),b.jsx(vt,{title:"Two Pair",cards:[J(11,"hearts"),J(11,"clubs"),J(4,"diamonds"),J(4,"spades"),J(14,"clubs")]}),b.jsx(vt,{title:"One Pair",cards:[J(9,"clubs"),J(9,"spades"),J(2,"hearts"),J(5,"diamonds"),J(13,"clubs")]}),b.jsx(vt,{title:"High Card",cards:[J(14,"spades"),J(11,"hearts"),J(8,"clubs"),J(5,"diamonds"),J(2,"spades")]})]})]}),b.jsxs("div",{className:"ranking-column",children:[b.jsx("h4",{children:"Y-Axis (Vertical - 3 Cards)"}),b.jsx("p",{style:{fontSize:"0.8rem",color:"#888",marginBottom:"8px"},children:"Cards shown Left to Right = Top to Bottom (Row 1, 2, 3)"}),b.jsxs("div",{className:"hand-list-visual",children:[b.jsx(vt,{title:"Pure Straight Flush",note:"Ordered",cards:[J(5,"hearts"),J(6,"hearts"),J(7,"hearts")]}),b.jsx(vt,{title:"Three of a Kind",cards:[J(8,"clubs"),J(8,"diamonds"),J(8,"spades")]}),b.jsx(vt,{title:"Straight Flush",note:"Unordered",cards:[J(7,"spades"),J(9,"spades"),J(8,"spades")]}),b.jsx(vt,{title:"Pure Straight",note:"Ordered",cards:[J(3,"clubs"),J(4,"hearts"),J(5,"diamonds")]}),b.jsx(vt,{title:"Flush",cards:[J(2,"clubs"),J(9,"clubs"),J(11,"clubs")]}),b.jsx(vt,{title:"Pure One Pair",note:"Adjacent",cards:[J(5,"hearts"),J(5,"clubs"),J(9,"diamonds")]}),b.jsx(vt,{title:"Straight",note:"Unordered",cards:[J(4,"diamonds"),J(6,"spades"),J(5,"clubs")]}),b.jsx(vt,{title:"One Pair",note:"Split",cards:[J(8,"clubs"),J(12,"diamonds"),J(8,"spades")]}),b.jsx(vt,{title:"High Card",cards:[J(13,"hearts"),J(5,"clubs"),J(2,"diamonds")]})]})]})]})]})]})]})}),K_=({timeLeft:l,currentPlayerIndex:n,isMyTurn:s})=>{const r=n===0?"#4da8da":"#ff4d4d";return b.jsxs("div",{className:`turn-timer ${l<=10?"warning":""}`,style:{borderColor:r},children:[b.jsx("div",{className:"timer-label",children:s?"Your Turn":"Opponent's Turn"}),b.jsxs("div",{className:"timer-value",children:[l,"s"]})]})};var Fn={},Xl={},hh=function(l,n){return hh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(s[u]=r[u])},hh(l,n)};function Dm(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");hh(l,n);function s(){this.constructor=l}l.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var vo=function(){return vo=Object.assign||function(n){for(var s,r=1,u=arguments.length;r<u;r++){s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},vo.apply(this,arguments)};function ua(l,n){var s={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&n.indexOf(r)<0&&(s[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(l);u<r.length;u++)n.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(l,r[u])&&(s[r[u]]=l[r[u]]);return s}function Um(l,n,s,r){var u=arguments.length,c=u<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,s):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,n,s,r);else for(var p=l.length-1;p>=0;p--)(f=l[p])&&(c=(u<3?f(c):u>3?f(n,s,c):f(n,s))||c);return u>3&&c&&Object.defineProperty(n,s,c),c}function Mm(l,n){return function(s,r){n(s,r,l)}}function Bm(l,n,s,r,u,c){function f(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var p=r.kind,g=p==="getter"?"get":p==="setter"?"set":"value",m=!n&&l?r.static?l:l.prototype:null,_=n||(m?Object.getOwnPropertyDescriptor(m,r.name):{}),S,v=!1,w=s.length-1;w>=0;w--){var E={};for(var R in r)E[R]=R==="access"?{}:r[R];for(var R in r.access)E.access[R]=r.access[R];E.addInitializer=function(D){if(v)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(D||null))};var C=(0,s[w])(p==="accessor"?{get:_.get,set:_.set}:_[g],E);if(p==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(S=f(C.get))&&(_.get=S),(S=f(C.set))&&(_.set=S),(S=f(C.init))&&u.unshift(S)}else(S=f(C))&&(p==="field"?u.unshift(S):_[g]=S)}m&&Object.defineProperty(m,r.name,_),v=!0}function zm(l,n,s){for(var r=arguments.length>2,u=0;u<n.length;u++)s=r?n[u].call(l,s):n[u].call(l);return r?s:void 0}function qm(l){return typeof l=="symbol"?l:"".concat(l)}function Lm(l,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function Hm(l,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,n)}function F(l,n,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(_){try{m(r.next(_))}catch(S){f(S)}}function g(_){try{m(r.throw(_))}catch(S){f(S)}}function m(_){_.done?c(_.value):u(_.value).then(p,g)}m((r=r.apply(l,n||[])).next())})}function $m(l,n){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,u,c,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=p(0),f.throw=p(1),f.return=p(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(_){return g([m,_])}}function g(m){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(s=0)),s;)try{if(r=1,u&&(c=m[0]&2?u.return:m[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,m[1])).done)return c;switch(u=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,u=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(l,s)}catch(_){m=[6,_],u=0}finally{r=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Co=Object.create?(function(l,n,s,r){r===void 0&&(r=s);var u=Object.getOwnPropertyDescriptor(n,s);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(l,r,u)}):(function(l,n,s,r){r===void 0&&(r=s),l[r]=n[s]});function Vm(l,n){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&Co(n,l,s)}function _o(l){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&l[n],r=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bh(l,n){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var r=s.call(l),u,c=[],f;try{for(;(n===void 0||n-- >0)&&!(u=r.next()).done;)c.push(u.value)}catch(p){f={error:p}}finally{try{u&&!u.done&&(s=r.return)&&s.call(r)}finally{if(f)throw f.error}}return c}function Gm(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(Bh(arguments[n]));return l}function Pm(){for(var l=0,n=0,s=arguments.length;n<s;n++)l+=arguments[n].length;for(var r=Array(l),u=0,n=0;n<s;n++)for(var c=arguments[n],f=0,p=c.length;f<p;f++,u++)r[u]=c[f];return r}function Im(l,n,s){if(s||arguments.length===2)for(var r=0,u=n.length,c;r<u;r++)(c||!(r in n))&&(c||(c=Array.prototype.slice.call(n,0,r)),c[r]=n[r]);return l.concat(c||Array.prototype.slice.call(n))}function la(l){return this instanceof la?(this.v=l,this):new la(l)}function Ym(l,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(l,n||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(w){return function(E){return Promise.resolve(E).then(w,S)}}function p(w,E){r[w]&&(u[w]=function(R){return new Promise(function(C,D){c.push([w,R,C,D])>1||g(w,R)})},E&&(u[w]=E(u[w])))}function g(w,E){try{m(r[w](E))}catch(R){v(c[0][3],R)}}function m(w){w.value instanceof la?Promise.resolve(w.value.v).then(_,S):v(c[0][2],w)}function _(w){g("next",w)}function S(w){g("throw",w)}function v(w,E){w(E),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Km(l){var n,s;return n={},r("next"),r("throw",function(u){throw u}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(u,c){n[u]=l[u]?function(f){return(s=!s)?{value:la(l[u](f)),done:!1}:c?c(f):f}:c}}function Xm(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],s;return n?n.call(l):(l=typeof _o=="function"?_o(l):l[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(c){s[c]=l[c]&&function(f){return new Promise(function(p,g){f=l[c](f),u(p,g,f.done,f.value)})}}function u(c,f,p,g){Promise.resolve(g).then(function(m){c({value:m,done:p})},f)}}function Jm(l,n){return Object.defineProperty?Object.defineProperty(l,"raw",{value:n}):l.raw=n,l}var X_=Object.create?(function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}):function(l,n){l.default=n},fh=function(l){return fh=Object.getOwnPropertyNames||function(n){var s=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[s.length]=r);return s},fh(l)};function Qm(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var s=fh(l),r=0;r<s.length;r++)s[r]!=="default"&&Co(n,l,s[r]);return X_(n,l),n}function Zm(l){return l&&l.__esModule?l:{default:l}}function Fm(l,n,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?l!==n||!r:!n.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(l):r?r.value:n.get(l)}function Wm(l,n,s,r,u){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?l!==n||!u:!n.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?u.call(l,s):u?u.value=s:n.set(l,s),s}function ey(l,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?n===l:l.has(n)}function ty(l,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],s&&(u=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");u&&(r=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:n,dispose:r,async:s})}else s&&l.stack.push({async:!0});return n}var J_=typeof SuppressedError=="function"?SuppressedError:function(l,n,s){var r=new Error(s);return r.name="SuppressedError",r.error=l,r.suppressed=n,r};function ny(l){function n(c){l.error=l.hasError?new J_(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var s,r=0;function u(){for(;s=l.stack.pop();)try{if(!s.async&&r===1)return r=0,l.stack.push(s),Promise.resolve().then(u);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(c).then(u,function(f){return n(f),u()})}else r|=1}catch(f){n(f)}if(r===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()}function iy(l,n){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,u,c,f){return r?n?".jsx":".js":u&&(!c||!f)?s:u+c+"."+f.toLowerCase()+"js"}):l}const Q_={__extends:Dm,__assign:vo,__rest:ua,__decorate:Um,__param:Mm,__esDecorate:Bm,__runInitializers:zm,__propKey:qm,__setFunctionName:Lm,__metadata:Hm,__awaiter:F,__generator:$m,__createBinding:Co,__exportStar:Vm,__values:_o,__read:Bh,__spread:Gm,__spreadArrays:Pm,__spreadArray:Im,__await:la,__asyncGenerator:Ym,__asyncDelegator:Km,__asyncValues:Xm,__makeTemplateObject:Jm,__importStar:Qm,__importDefault:Zm,__classPrivateFieldGet:Fm,__classPrivateFieldSet:Wm,__classPrivateFieldIn:ey,__addDisposableResource:ty,__disposeResources:ny,__rewriteRelativeImportExtension:iy},Z_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ty,get __assign(){return vo},__asyncDelegator:Km,__asyncGenerator:Ym,__asyncValues:Xm,__await:la,__awaiter:F,__classPrivateFieldGet:Fm,__classPrivateFieldIn:ey,__classPrivateFieldSet:Wm,__createBinding:Co,__decorate:Um,__disposeResources:ny,__esDecorate:Bm,__exportStar:Vm,__extends:Dm,__generator:$m,__importDefault:Zm,__importStar:Qm,__makeTemplateObject:Jm,__metadata:Hm,__param:Mm,__propKey:qm,__read:Bh,__rest:ua,__rewriteRelativeImportExtension:iy,__runInitializers:zm,__setFunctionName:Lm,__spread:Gm,__spreadArray:Im,__spreadArrays:Pm,__values:_o,default:Q_},Symbol.toStringTag,{value:"Module"})),F_=l=>l?(...n)=>l(...n):(...n)=>fetch(...n);let jo=class extends Error{constructor(n,s="FunctionsError",r){super(n),this.name=s,this.context=r}},sy=class extends jo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},dh=class extends jo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},ph=class extends jo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var bo;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(bo||(bo={}));class W_{constructor(n,{headers:s={},customFetch:r,region:u=bo.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=F_(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return F(this,arguments,void 0,function*(s,r={}){var u;let c,f;try{const{headers:p,method:g,body:m,signal:_,timeout:S}=r;let v={},{region:w}=r;w||(w=this.region);const E=new URL(`${this.url}/${s}`);w&&w!=="any"&&(v["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let R;m&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",R=m):typeof m=="string"?(v["Content-Type"]="text/plain",R=m):typeof FormData<"u"&&m instanceof FormData?R=m:(v["Content-Type"]="application/json",R=JSON.stringify(m)):R=m;let C=_;S&&(f=new AbortController,c=setTimeout(()=>f.abort(),S),_?(C=f.signal,_.addEventListener("abort",()=>f.abort())):C=f.signal);const D=yield this.fetch(E.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),p),body:R,signal:C}).catch(Y=>{throw new sy(Y)}),G=D.headers.get("x-relay-error");if(G&&G==="true")throw new dh(D);if(!D.ok)throw new ph(D);let M=((u=D.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),L;return M==="application/json"?L=yield D.json():M==="application/octet-stream"||M==="application/pdf"?L=yield D.blob():M==="text/event-stream"?L=D:M==="multipart/form-data"?L=yield D.formData():L=yield D.text(),{data:L,error:null,response:D}}catch(p){return{data:null,error:p,response:p instanceof ph||p instanceof dh?p.context:void 0}}finally{c&&clearTimeout(c)}})}}const eb=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return bo},FunctionsClient:W_,FunctionsError:jo,FunctionsFetchError:sy,FunctionsHttpError:ph,FunctionsRelayError:dh},Symbol.toStringTag,{value:"Module"})),ay=br(eb);var Mt={};const ca=br(Z_);var Jl={},Ql={},Zl={},Fl={},Wl={},eo={},Kg;function ry(){if(Kg)return eo;Kg=1,Object.defineProperty(eo,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return eo.default=l,eo}var Xg;function ly(){if(Xg)return Wl;Xg=1,Object.defineProperty(Wl,"__esModule",{value:!0});const n=ca.__importDefault(ry());let s=class{constructor(u){var c,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var m,_,S,v;let w=null,E=null,R=null,C=g.status,D=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Y=await g.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?E=Y:E=JSON.parse(Y))}const M=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),L=(S=g.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");M&&L&&L.length>1&&(R=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,R=null,C=406,D="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const M=await g.text();try{w=JSON.parse(M),Array.isArray(w)&&g.status===404&&(E=[],w=null,C=200,D="OK")}catch{g.status===404&&M===""?(C=204,D="No Content"):w={message:M}}if(w&&this.isMaybeSingle&&(!((v=w?.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,C=200,D="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:E,count:R,status:C,statusText:D}});return this.shouldThrowOnError||(p=p.catch(g=>{var m,_,S,v,w,E;let R="";const C=g?.cause;if(C){const D=(m=C?.message)!==null&&m!==void 0?m:"",G=(_=C?.code)!==null&&_!==void 0?_:"";R=`${(S=g?.name)!==null&&S!==void 0?S:"FetchError"}: ${g?.message}`,R+=`

Caused by: ${(v=C?.name)!==null&&v!==void 0?v:"Error"}: ${D}`,G&&(R+=` (${G})`),C?.stack&&(R+=`
${C.stack}`)}else R=(w=g?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(E=g?.name)!==null&&E!==void 0?E:"FetchError"}: ${g?.message}`,details:R,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}};return Wl.default=s,Wl}var Jg;function oy(){if(Jg)return Fl;Jg=1,Object.defineProperty(Fl,"__esModule",{value:!0});const n=ca.__importDefault(ly());let s=class extends n.default{select(u){let c=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",_=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${_?`${_},`:""}${u}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,c,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(m,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var _;const S=[u?"analyze":null,c?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),v=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${S};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}};return Fl.default=s,Fl}var Qg;function zh(){if(Qg)return Zl;Qg=1,Object.defineProperty(Zl,"__esModule",{value:!0});const n=ca.__importDefault(oy()),s=new RegExp("[,()]");let r=class extends n.default{eq(c,f){return this.url.searchParams.append(c,`eq.${f}`),this}neq(c,f){return this.url.searchParams.append(c,`neq.${f}`),this}gt(c,f){return this.url.searchParams.append(c,`gt.${f}`),this}gte(c,f){return this.url.searchParams.append(c,`gte.${f}`),this}lt(c,f){return this.url.searchParams.append(c,`lt.${f}`),this}lte(c,f){return this.url.searchParams.append(c,`lte.${f}`),this}like(c,f){return this.url.searchParams.append(c,`like.${f}`),this}likeAllOf(c,f){return this.url.searchParams.append(c,`like(all).{${f.join(",")}}`),this}likeAnyOf(c,f){return this.url.searchParams.append(c,`like(any).{${f.join(",")}}`),this}ilike(c,f){return this.url.searchParams.append(c,`ilike.${f}`),this}ilikeAllOf(c,f){return this.url.searchParams.append(c,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(c,f){return this.url.searchParams.append(c,`ilike(any).{${f.join(",")}}`),this}regexMatch(c,f){return this.url.searchParams.append(c,`match.${f}`),this}regexIMatch(c,f){return this.url.searchParams.append(c,`imatch.${f}`),this}is(c,f){return this.url.searchParams.append(c,`is.${f}`),this}isDistinct(c,f){return this.url.searchParams.append(c,`isdistinct.${f}`),this}in(c,f){const p=Array.from(new Set(f)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cs.{${f.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(f)}`),this}containedBy(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cd.{${f.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(f)}`),this}rangeGt(c,f){return this.url.searchParams.append(c,`sr.${f}`),this}rangeGte(c,f){return this.url.searchParams.append(c,`nxl.${f}`),this}rangeLt(c,f){return this.url.searchParams.append(c,`sl.${f}`),this}rangeLte(c,f){return this.url.searchParams.append(c,`nxr.${f}`),this}rangeAdjacent(c,f){return this.url.searchParams.append(c,`adj.${f}`),this}overlaps(c,f){return typeof f=="string"?this.url.searchParams.append(c,`ov.${f}`):this.url.searchParams.append(c,`ov.{${f.join(",")}}`),this}textSearch(c,f,{config:p,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const _=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${m}fts${_}.${f}`),this}match(c){return Object.entries(c).forEach(([f,p])=>{this.url.searchParams.append(f,`eq.${p}`)}),this}not(c,f,p){return this.url.searchParams.append(c,`not.${f}.${p}`),this}or(c,{foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,f,p){return this.url.searchParams.append(c,`${f}.${p}`),this}};return Zl.default=r,Zl}var Zg;function uy(){if(Zg)return Ql;Zg=1,Object.defineProperty(Ql,"__esModule",{value:!0});const n=ca.__importDefault(zh());let s=class{constructor(u,{headers:c={},schema:f,fetch:p}){this.url=u,this.headers=new Headers(c),this.schema=f,this.fetch=p}select(u,c){const{head:f=!1,count:p}=c??{},g=f?"HEAD":"GET";let m=!1;const _=(u??"*").split("").map(S=>/\s/.test(S)&&!m?"":(S==='"'&&(m=!m),S)).join("");return this.url.searchParams.set("select",_),p&&this.headers.append("Prefer",`count=${p}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:f=!0}={}){var p;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const m=u.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(m.length>0){const _=[...new Set(m)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var m;const _="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const S=u.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(S.length>0){const v=[...new Set(S)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(u,{count:c}={}){var f;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var c;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Ql.default=s,Ql}var Fg;function tb(){if(Fg)return Jl;Fg=1,Object.defineProperty(Jl,"__esModule",{value:!0});const l=ca,n=l.__importDefault(uy()),s=l.__importDefault(zh());let r=class cy{constructor(c,{headers:f={},schema:p,fetch:g}={}){this.url=c,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new cy(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:p=!1,get:g=!1,count:m}={}){var _;let S;const v=new URL(`${this.url}/rpc/${c}`);let w;p||g?(S=p?"HEAD":"GET",Object.entries(f).filter(([R,C])=>C!==void 0).map(([R,C])=>[R,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([R,C])=>{v.searchParams.append(R,C)})):(S="POST",w=f);const E=new Headers(this.headers);return m&&E.set("Prefer",`count=${m}`),new s.default({method:S,url:v,headers:E,schema:this.schemaName,body:w,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}};return Jl.default=r,Jl}var Wg;function hy(){if(Wg)return Mt;Wg=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const l=ca,n=l.__importDefault(tb());Mt.PostgrestClient=n.default;const s=l.__importDefault(uy());Mt.PostgrestQueryBuilder=s.default;const r=l.__importDefault(zh());Mt.PostgrestFilterBuilder=r.default;const u=l.__importDefault(oy());Mt.PostgrestTransformBuilder=u.default;const c=l.__importDefault(ly());Mt.PostgrestBuilder=c.default;const f=l.__importDefault(ry());return Mt.PostgrestError=f.default,Mt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:f.default},Mt}class fy{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,u=parseInt(r.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const r=this.getWebSocketConstructor();return new r(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const nb="2.87.1",ib=`realtime-js/${nb}`,dy="1.0.0",sb="2.0.0",em=dy,gh=1e4,ab=1e3,rb=100;var us;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(us||(us={}));var ft;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(ft||(ft={}));var _n;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(_n||(_n={}));var mh;(function(l){l.websocket="websocket"})(mh||(mh={}));var cs;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(cs||(cs={}));class lb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,r;const u=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var s,r;const u=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,r){var u,c;const f=n.topic,p=(u=n.ref)!==null&&u!==void 0?u:"",g=(c=n.join_ref)!==null&&c!==void 0?c:"",m=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+f.length+m.length+S.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let E=new DataView(w),R=0;E.setUint8(R++,this.KINDS.userBroadcastPush),E.setUint8(R++,g.length),E.setUint8(R++,p.length),E.setUint8(R++,f.length),E.setUint8(R++,m.length),E.setUint8(R++,S.length),E.setUint8(R++,s),Array.from(g,D=>E.setUint8(R++,D.charCodeAt(0))),Array.from(p,D=>E.setUint8(R++,D.charCodeAt(0))),Array.from(f,D=>E.setUint8(R++,D.charCodeAt(0))),Array.from(m,D=>E.setUint8(R++,D.charCodeAt(0))),Array.from(S,D=>E.setUint8(R++,D.charCodeAt(0)));var C=new Uint8Array(w.byteLength+r.byteLength);return C.set(new Uint8Array(w),0),C.set(new Uint8Array(r),w.byteLength),C.buffer}decode(n,s){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return s(r)}if(typeof n=="string"){const r=JSON.parse(n),[u,c,f,p,g]=r;return s({join_ref:u,ref:c,topic:f,event:p,payload:g})}return s({})}_binaryDecode(n){const s=new DataView(n),r=s.getUint8(0),u=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,u)}}_decodeUserBroadcast(n,s,r){const u=s.getUint8(1),c=s.getUint8(2),f=s.getUint8(3),p=s.getUint8(4);let g=this.HEADER_LENGTH+4;const m=r.decode(n.slice(g,g+u));g=g+u;const _=r.decode(n.slice(g,g+c));g=g+c;const S=r.decode(n.slice(g,g+f));g=g+f;const v=n.slice(g,n.byteLength),w=p===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,E={type:this.BROADCAST_EVENT,event:_,payload:w};return f>0&&(E.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>s.includes(r)))}}class py{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Pe||(Pe={}));const tm=(l,n,s={})=>{var r;const u=(r=s.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=ob(f,l,n,u),c),{}):{}},ob=(l,n,s,r)=>{const u=n.find(p=>p.name===l),c=u?.type,f=s[l];return c&&!r.includes(c)?gy(c,f):yh(f)},gy=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return fb(n,s)}switch(l){case Pe.bool:return ub(n);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return cb(n);case Pe.json:case Pe.jsonb:return hb(n);case Pe.timestamp:return db(n);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return yh(n);default:return yh(n)}},yh=l=>l,ub=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},cb=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},hb=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},fb=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,r=l[s];if(l[0]==="{"&&r==="}"){let c;const f=l.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>gy(n,p))}return l},db=l=>typeof l=="string"?l.replace(" ","T"):l,my=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Wc{constructor(n,s,r={},u=gh){this.channel=n,this.event=s,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var r;return this._hasReceived(n)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var vh;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(vh||(vh={}));let yy=class ro{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ro.syncState(this.state,u,c,f),this.pendingDiffs.forEach(g=>{this.state=ro.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},u=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ro.syncDiff(this.state,u,c,f),p())}),this.onJoin((u,c,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:f})}),this.onLeave((u,c,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,r,u){const c=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(c,(m,_)=>{f[m]||(g[m]=_)}),this.map(f,(m,_)=>{const S=c[m];if(S){const v=_.map(C=>C.presence_ref),w=S.map(C=>C.presence_ref),E=_.filter(C=>w.indexOf(C.presence_ref)<0),R=S.filter(C=>v.indexOf(C.presence_ref)<0);E.length>0&&(p[m]=E),R.length>0&&(g[m]=R)}else p[m]=_}),this.syncDiff(c,{joins:p,leaves:g},r,u)}static syncDiff(n,s,r,u){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(c,(p,g)=>{var m;const _=(m=n[p])!==null&&m!==void 0?m:[];if(n[p]=this.cloneDeep(g),_.length>0){const S=n[p].map(w=>w.presence_ref),v=_.filter(w=>S.indexOf(w.presence_ref)<0);n[p].unshift(...v)}r(p,_,g)}),this.map(f,(p,g)=>{let m=n[p];if(!m)return;const _=g.map(S=>S.presence_ref);m=m.filter(S=>_.indexOf(S.presence_ref)<0),n[p]=m,u(p,m,g),m.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(r=>s(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,r)=>{const u=n[r];return"metas"in u?s[r]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[r]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var _h;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(_h||(_h={}));var aa;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(aa||(aa={}));var kn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));const pb=ft;let vy=class pr{constructor(n,s={config:{}},r){var u,c;if(this.topic=n,this.params=s,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Wc(this,_n.join,this.params,this.timeout),this.rejoinTimer=new py(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new yy(this),this.broadcastEndpointURL=my(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var r,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,m=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[aa.PRESENCE]&&this.bindings[aa.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,S={},v={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:_}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(kn.CHANNEL_ERROR,w)),this._onClose(()=>n?.(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},S)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){n?.(kn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,C=(E=R?.length)!==null&&E!==void 0?E:0,D=[];for(let G=0;G<C;G++){const M=R[G],{filter:{event:L,schema:Y,table:q,filter:P}}=M,ue=w&&w[G];if(ue&&ue.event===L&&pr.isFilterValueEqual(ue.schema,Y)&&pr.isFilterValueEqual(ue.table,q)&&pr.isFilterValueEqual(ue.filter,P))D.push(Object.assign(Object.assign({},M),{id:ue.id}));else{this.unsubscribe(),this.state=ft.errored,n?.(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,n&&n(kn.SUBSCRIBED);return}}).receive("error",w=>{this.state=ft.errored,n?.(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,r){return this.state===ft.joined&&n===aa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,r)}async httpSend(n,s,r={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=r.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const m=await p.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(n,s={}){var r,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,g;const m=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ft.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new Wc(this,_n.leave,{},n),r.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(n,s,r){const u=new AbortController,c=setTimeout(()=>u.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),f}_push(n,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Wc(this,n,s,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>rb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,r){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,r){var u,c;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:m,join:_}=_n;if(r&&[p,g,m,_].indexOf(f)>=0&&r!==this._joinRef())return;let v=this._onMessage(f,s,r);if(s&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(w=>{var E,R,C;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(R=w.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===f}).map(w=>w.callback(v,r)):(c=this.bindings[f])===null||c===void 0||c.filter(w=>{var E,R,C,D,G,M;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const L=w.id,Y=(E=w.filter)===null||E===void 0?void 0:E.event;return L&&((R=s.ids)===null||R===void 0?void 0:R.includes(L))&&(Y==="*"||Y?.toLocaleLowerCase()===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const L=(G=(D=w?.filter)===null||D===void 0?void 0:D.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return L==="*"||L===((M=s?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:R,table:C,commit_timestamp:D,type:G,errors:M}=E;v=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:D,eventType:G,new:{},old:{},errors:M}),this._getPayloadRecords(E))}w.callback(v,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,r){const u=n.toLocaleLowerCase(),c={type:u,filter:s,callback:r};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,s){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&pr.isEqual(u.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(n[r]!==s[r])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(_n.close,{},n)}_onError(n){this._on(_n.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=tm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=tm(n.columns,n.old_record)),s}};const eh=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gb=[1e3,2e3,5e3,1e4],mb=1e4,yb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let vb=class{constructor(n,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gh,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eh,this.ref=0,this.reconnectTimer=null,this.vsn=em,this.logger=eh,this.conn=null,this.sendBuffer=[],this.serializer=new lb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${mh.websocket}`,this.httpEndpoint=my(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fy.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,r){this.logger(n,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return cs.Connecting;case us.open:return cs.Open;case us.closing:return cs.Closing;default:return cs.Closed}}isConnected(){return this.connectionState()===cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const r=`realtime:${n}`,u=this.getChannels().find(c=>c.topic===r);if(u)return u;{const c=new vy(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:r,payload:u,ref:c}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${r} (${c})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(ab,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:u,payload:c,ref:f}=s,p=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${r} ${u} ${p}`.trim(),c),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(u,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===us.open||this.conn.readyState===us.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(_n.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const r=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${r}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const r=new Blob([yb],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,r=!1;if(n)s=n,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:ib};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(_n.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(s)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new py(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,r,u,c,f,p,g,m,_,S,v,w;switch(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:gh,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:to.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:eh,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:em,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n?.reconnectAfterMs)!==null&&m!==void 0?m:(E=>gb[E-1]||mb),this.vsn){case dy:this.encode=(_=n?.encode)!==null&&_!==void 0?_:((E,R)=>R(JSON.stringify(E))),this.decode=(S=n?.decode)!==null&&S!==void 0?S:((E,R)=>R(JSON.parse(E)));break;case sb:this.encode=(v=n?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=n?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};const _b=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:pb,get REALTIME_LISTEN_TYPES(){return aa},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return _h},get REALTIME_PRESENCE_LISTEN_EVENTS(){return vh},get REALTIME_SUBSCRIBE_STATES(){return kn},RealtimeChannel:vy,RealtimeClient:vb,RealtimePresence:yy,WebSocketFactory:fy},Symbol.toStringTag,{value:"Module"})),_y=br(_b);class Sr extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Je(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class by extends Sr{constructor(n,s,r){super(n),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class So extends Sr{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const qh=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),bb=()=>Response,bh=l=>{if(Array.isArray(l))return l.map(s=>bh(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,r])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=bh(r)}),n},Sb=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},wb=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),th=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},Eb=(l,n,s)=>F(void 0,void 0,void 0,function*(){const r=yield bb();l instanceof r&&!s?.noResolveJson?l.json().then(u=>{const c=l.status||500,f=u?.statusCode||c+"";n(new by(th(u),c,f))}).catch(u=>{n(new So(th(u),u))}):n(new So(th(l),l))}),Tb=(l,n,s,r)=>{const u={method:l,headers:n?.headers||{}};return l==="GET"||!r?u:(Sb(r)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(r)):u.body=r,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),s))};function wr(l,n,s,r,u,c){return F(this,void 0,void 0,function*(){return new Promise((f,p)=>{l(s,Tb(n,r,u,c)).then(g=>{if(!g.ok)throw g;return r?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Eb(g,p,r))})})}function vr(l,n,s,r){return F(this,void 0,void 0,function*(){return wr(l,"GET",n,s,r)})}function vn(l,n,s,r,u){return F(this,void 0,void 0,function*(){return wr(l,"POST",n,r,u,s)})}function Sh(l,n,s,r,u){return F(this,void 0,void 0,function*(){return wr(l,"PUT",n,r,u,s)})}function Ab(l,n,s,r){return F(this,void 0,void 0,function*(){return wr(l,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Lh(l,n,s,r,u){return F(this,void 0,void 0,function*(){return wr(l,"DELETE",n,r,u,s)})}class Ob{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}var Sy;class Rb{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[Sy]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ob(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}Sy=Symbol.toStringTag;const kb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cb{constructor(n,s={},r,u){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=r,this.fetch=qh(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,r,u){return F(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},nm),u);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const m=this._removeEmptyFolders(s),_=this._getFinalPath(m),S=yield(n=="PUT"?Sh:vn)(this.fetch,`${this.url}/object/${_}`,c,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:S.Id,fullPath:S.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}upload(n,s,r){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,r)})}uploadToSignedUrl(n,s,r,u){return F(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const m=Object.assign({upsert:nm.upsert},u),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",m.cacheControl)):(g=r,_["cache-control"]=`max-age=${m.cacheControl}`,_["content-type"]=m.contentType);const S=yield Sh(this.fetch,p.toString(),g,{headers:_});return{data:{path:c,fullPath:S.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Je(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return F(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:u}),f=new URL(this.url+c.url),p=f.searchParams.get("token");if(!p)throw new Sr("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}update(n,s,r){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,r)})}move(n,s,r){return F(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}copy(n,s,r){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}createSignedUrl(n,s,r){return F(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield vn(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}createSignedUrls(n,s,r){return F(this,void 0,void 0,function*(){try{const u=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}download(n,s){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),f=c?`?${c}`:"",p=this._getFinalPath(n),g=()=>vr(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new Rb(g,this.shouldThrowOnError)}info(n){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const r=yield vr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:bh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}exists(n){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Ab(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r)&&r instanceof So){const u=r.originalError;if([400,404].includes(u?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,s){const r=this._getFinalPath(n),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&u.push(g);let m=u.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${r}${m}`)}}}remove(n){return F(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}list(n,s,r){return F(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},kb),s),{prefix:n||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},r),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}listV2(n,s){return F(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const wy="2.87.1",Ey={"X-Client-Info":`storage-js/${wy}`};class jb{constructor(n,s={},r,u){this.shouldThrowOnError=!1;const c=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ey),s),this.fetch=qh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return F(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield vr(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}getBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createBucket(n){return F(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}})}updateBucket(n,s){return F(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}emptyBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var _r=class extends Error{constructor(l,n){super(l),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xb(l,n,s){const r=new URL(n,l);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&r.searchParams.set(u,c);return r.toString()}async function Nb(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Db(l){const n=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:u,body:c,headers:f}){const p=xb(l.baseUrl,r,u),g=await Nb(l.auth),m=await n(p,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...g,...f},body:c?JSON.stringify(c):void 0}),_=await m.text(),S=(m.headers.get("content-type")||"").includes("application/json"),v=S&&_?JSON.parse(_):_;if(!m.ok){const w=S?v:void 0,E=w?.error;throw new _r(E?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:E?.type,icebergCode:E?.code,details:w})}return{status:m.status,headers:m.headers,data:v}}}}function no(l){return l.join("")}var Ub=class{constructor(l,n=""){this.client=l,this.prefix=n}async listNamespaces(l){const n=l?{parent:no(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(l,n){const s={namespace:l.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(l.namespace)}`}),!0}catch(n){if(n instanceof _r&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(l,n){try{return await this.createNamespace(l,n)}catch(s){if(s instanceof _r&&s.status===409)return;throw s}}};function Fs(l){return l.join("")}var Mb=class{constructor(l,n="",s){this.client=l,this.prefix=n,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(l.namespace)}/tables`})).data.identifiers}async createTable(l,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(l.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(l,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(l.namespace)}/tables/${l.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fs(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(l){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(l.namespace)}/tables/${l.name}`,headers:n})).data.metadata}async tableExists(l){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fs(l.namespace)}/tables/${l.name}`,headers:n}),!0}catch(s){if(s instanceof _r&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,n){try{return await this.createTable(l,n)}catch(s){if(s instanceof _r&&s.status===409)return await this.loadTable({namespace:l.namespace,name:n.name});throw s}}},Bb=class{constructor(l){let n="v1";l.catalogName&&(n+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Db({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Ub(this.client,n),this.tableOps=new Mb(this.client,n,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,n){return this.namespaceOps.createNamespace(l,n)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,n){return this.tableOps.createTable(l,n)}async updateTable(l,n){return this.tableOps.updateTable(l,n)}async dropTable(l,n){await this.tableOps.dropTable(l,n)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,n){return this.namespaceOps.createNamespaceIfNotExists(l,n)}async createTableIfNotExists(l,n){return this.tableOps.createTableIfNotExists(l,n)}};class Ty{constructor(n,s={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ey),s),this.fetch=qh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listBuckets(n){return F(this,void 0,void 0,function*(){try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const r=s.toString(),u=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield vr(this.fetch,u,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}from(n){if(!wb(n))throw new Sr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Bb({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>F(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(c,f){const p=c[f];return typeof p!="function"?p:(...g)=>F(this,void 0,void 0,function*(){try{return{data:yield p.apply(c,g),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}})}})}}const Hh={"X-Client-Info":`storage-js/${wy}`,"Content-Type":"application/json"};class $h extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class lo extends $h{constructor(n,s,r){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ay extends $h{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var wh;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wh||(wh={}));const xo=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),zb=()=>Response,Oy=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},qb=l=>Array.from(new Float32Array(l)),Lb=(l,n)=>{if(n!==void 0&&l.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${l.float32.length}`)},im=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Hb=(l,n,s)=>F(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!s?.noResolveJson){const u=l.status||500,c=l;if(typeof c.json=="function")c.json().then(f=>{const p=f?.statusCode||f?.code||u+"";n(new lo(im(f),u,p))}).catch(()=>{const f=u+"",p=c.statusText||`HTTP ${u} error`;n(new lo(p,u,f))});else{const f=u+"",p=c.statusText||`HTTP ${u} error`;n(new lo(p,u,f))}}else n(new Ay(im(l),l))}),$b=(l,n,s,r)=>{const u={method:l,headers:n?.headers||{}};return r?(Oy(r)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(r)):u.body=r,Object.assign(Object.assign({},u),s)):u};function Vb(l,n,s,r,u,c){return F(this,void 0,void 0,function*(){return new Promise((f,p)=>{l(s,$b(n,r,u,c)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Hb(g,p,r))})})}function tn(l,n,s,r,u){return F(this,void 0,void 0,function*(){return Vb(l,"POST",n,r,u,s)})}class Ry{constructor(n,s={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hh),s),this.fetch=xo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return F(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}getIndex(n,s){return F(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listIndexes(n){return F(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return F(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class ky{constructor(n,s={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hh),s),this.fetch=xo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return F(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tn(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}getVectors(n){return F(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}listVectors(n){return F(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield tn(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}queryVectors(n){return F(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}deleteVectors(n){return F(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tn(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}}class Cy{constructor(n,s={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hh),s),this.fetch=xo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return F(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}getBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}listBuckets(){return F(this,arguments,void 0,function*(n={}){try{return{data:yield tn(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}}class jy extends Cy{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new xy(this.url,this.headers,n,this.fetch)}createBucket(n){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return F(this,void 0,void 0,function*(){return s.createBucket.call(this,n)})}getBucket(n){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return F(this,void 0,void 0,function*(){return s.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return F(this,arguments,void 0,function*(s={}){return n.listBuckets.call(this,s)})}deleteBucket(n){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return F(this,void 0,void 0,function*(){return s.deleteBucket.call(this,n)})}}class xy extends Ry{constructor(n,s,r,u){super(n,s,u),this.vectorBucketName=r}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Ny(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Ny extends ky{constructor(n,s,r,u,c){super(n,s,c),this.vectorBucketName=r,this.indexName=u}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Gb extends jb{constructor(n,s={},r,u){super(n,s,r,u)}from(n){return new Cb(this.url,this.headers,n,this.fetch)}get vectors(){return new jy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ty(this.url+"/iceberg",this.headers,this.fetch)}}const Pb=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Ty,StorageApiError:by,StorageClient:Gb,StorageError:Sr,StorageUnknownError:So,StorageVectorsApiError:lo,StorageVectorsClient:jy,StorageVectorsError:$h,get StorageVectorsErrorCode(){return wh},StorageVectorsUnknownError:Ay,VectorBucketApi:Cy,VectorBucketScope:xy,VectorDataApi:ky,VectorIndexApi:Ry,VectorIndexScope:Ny,isPlainObject:Oy,isStorageError:Je,isStorageVectorsError:Yt,normalizeToFloat32:qb,resolveFetch:xo,resolveResponse:zb,validateVectorDimension:Lb},Symbol.toStringTag,{value:"Module"})),Ib=br(Pb);var nh={},cr={},sm;function Yb(){return sm||(sm=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.version=void 0,cr.version="2.87.1"),cr}var am;function Kb(){return am||(am=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_REALTIME_OPTIONS=l.DEFAULT_AUTH_OPTIONS=l.DEFAULT_DB_OPTIONS=l.DEFAULT_GLOBAL_OPTIONS=l.DEFAULT_HEADERS=void 0;const n=Yb();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",l.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${n.version}`},l.DEFAULT_GLOBAL_OPTIONS={headers:l.DEFAULT_HEADERS},l.DEFAULT_DB_OPTIONS={schema:"public"},l.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l.DEFAULT_REALTIME_OPTIONS={}})(nh)),nh}var ih={},rm;function Xb(){return rm||(rm=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.fetchWithAuth=l.resolveHeadersConstructor=l.resolveFetch=void 0;const n=u=>u?(...c)=>u(...c):(...c)=>fetch(...c);l.resolveFetch=n;const s=()=>Headers;l.resolveHeadersConstructor=s;const r=(u,c,f)=>{const p=(0,l.resolveFetch)(f),g=(0,l.resolveHeadersConstructor)();return async(m,_)=>{var S;const v=(S=await c())!==null&&S!==void 0?S:u;let w=new g(_?.headers);return w.has("apikey")||w.set("apikey",u),w.has("Authorization")||w.set("Authorization",`Bearer ${v}`),p(m,Object.assign(Object.assign({},_),{headers:w}))}};l.fetchWithAuth=r})(ih)),ih}var Wn={},lm;function Jb(){if(lm)return Wn;lm=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.isBrowser=void 0,Wn.uuid=l,Wn.ensureTrailingSlash=n,Wn.applySettingDefaults=r,Wn.validateSupabaseUrl=u;function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var f=Math.random()*16|0,p=c=="x"?f:f&3|8;return p.toString(16)})}function n(c){return c.endsWith("/")?c:c+"/"}const s=()=>typeof window<"u";Wn.isBrowser=s;function r(c,f){var p,g;const{db:m,auth:_,realtime:S,global:v}=c,{db:w,auth:E,realtime:R,global:C}=f,D={db:Object.assign(Object.assign({},w),m),auth:Object.assign(Object.assign({},E),_),realtime:Object.assign(Object.assign({},R),S),storage:{},global:Object.assign(Object.assign(Object.assign({},C),v),{headers:Object.assign(Object.assign({},(p=C?.headers)!==null&&p!==void 0?p:{}),(g=v?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return c.accessToken?D.accessToken=c.accessToken:delete D.accessToken,D}function u(c){const f=c?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Wn}var hr={};const Dy="2.87.1",ia=30*1e3,Eh=3,sh=Eh*ia,Qb="http://localhost:9999",Zb="supabase.auth.token",Fb={"X-Client-Info":`gotrue-js/${Dy}`},Th="X-Supabase-Api-Version",Uy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eS=600*1e3;let oa=class extends Error{constructor(n,s,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}};function ne(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}let My=class extends oa{constructor(n,s,r){super(n,s,r),this.name="AuthApiError",this.status=s,this.code=r}};function By(l){return ne(l)&&l.name==="AuthApiError"}let Ci=class extends oa{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}},ei=class extends oa{constructor(n,s,r,u){super(n,r,u),this.name=s,this.status=r}},It=class extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function zy(l){return ne(l)&&l.name==="AuthSessionMissingError"}let rs=class extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},gr=class extends ei{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},mr=class extends ei{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function qy(l){return ne(l)&&l.name==="AuthImplicitGrantRedirectError"}let Ah=class extends ei{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wo=class extends ei{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}};function oo(l){return ne(l)&&l.name==="AuthRetryableFetchError"}let Oh=class extends ei{constructor(n,s,r){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}};function tS(l){return ne(l)&&l.name==="AuthWeakPasswordError"}let Eo=class extends ei{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const To="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),om=` 	
\r=`.split(""),nS=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<om.length;n+=1)l[om[n].charCodeAt(0)]=-2;for(let n=0;n<To.length;n+=1)l[To[n].charCodeAt(0)]=n;return l})();function um(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(To[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(To[r]),n.queuedBits-=6}}function Ly(l,n,s){const r=nS[l];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function cm(l){const n=[],s=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=f=>{aS(f,r,s)};for(let f=0;f<l.length;f+=1)Ly(l.charCodeAt(f),u,c);return n.join("")}function iS(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function sS(l,n){for(let s=0;s<l.length;s+=1){let r=l.charCodeAt(s);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(l.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}iS(r,n)}}function aS(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let r=1;r<6;r+=1)if((l>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function ra(l){const n=[],s={queue:0,queuedBits:0},r=u=>{n.push(u)};for(let u=0;u<l.length;u+=1)Ly(l.charCodeAt(u),s,r);return new Uint8Array(n)}function rS(l){const n=[];return sS(l,s=>n.push(s)),new Uint8Array(n)}function hs(l){const n=[],s={queue:0,queuedBits:0},r=u=>{n.push(u)};return l.forEach(u=>um(u,s,r)),um(null,s,r),n.join("")}function lS(l){return Math.round(Date.now()/1e3)+l}function oS(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},Hy=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function uS(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return s.searchParams.forEach((r,u)=>{n[u]=r}),n}const $y=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),cS=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",sa=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},ss=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ct=async(l,n)=>{await l.removeItem(n)};class No{constructor(){this.promise=new No.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}No.promiseConstructor=Promise;function ah(l){const n=l.split(".");if(n.length!==3)throw new Eo("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Wb.test(n[r]))throw new Eo("JWT not in base64url format");return{header:JSON.parse(cm(n[0])),payload:JSON.parse(cm(n[1])),signature:ra(n[2]),raw:{header:n[0],payload:n[1]}}}async function hS(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function fS(l,n){return new Promise((r,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await l(c);if(!n(c,null,f)){r(f);return}}catch(f){if(!n(c,f)){u(f);return}}})()})}function dS(l){return("0"+l.toString(16)).substr(-2)}function pS(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(n),Array.from(n,dS).join("")}async function gS(l){const s=new TextEncoder().encode(l),r=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(r);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function mS(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await gS(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ws(l,n,s=!1){const r=pS();let u=r;s&&(u+="/PASSWORD_RECOVERY"),await sa(l,`${n}-code-verifier`,u);const c=await mS(r);return[c,r===c?"plain":"s256"]}const yS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vS(l){const n=l.headers.get(Th);if(!n||!n.match(yS))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function _S(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function bS(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ea(l){if(!SS.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rh(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wS(l,n){return new Proxy(l,{get:(s,r,u)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const c=r.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,u)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,r,u)}})}function hm(l){return JSON.parse(JSON.stringify(l))}const ls=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),ES=[502,503,504];async function fm(l){var n;if(!cS(l))throw new wo(ls(l),0);if(ES.includes(l.status))throw new wo(ls(l),l.status);let s;try{s=await l.json()}catch(c){throw new Ci(ls(c),c)}let r;const u=vS(l);if(u&&u.getTime()>=Uy["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Oh(ls(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new It}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Oh(ls(s),l.status,s.weak_password.reasons);throw new My(ls(s),l.status||500,r)}const TS=(l,n,s,r)=>{const u={method:l,headers:n?.headers||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),s))};async function oe(l,n,s,r){var u;const c=Object.assign({},r?.headers);c[Th]||(c[Th]=Uy["2024-01-01"].name),r?.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const f=(u=r?.query)!==null&&u!==void 0?u:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await AS(l,n,s+p,{headers:c,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(g):{data:Object.assign({},g),error:null}}async function AS(l,n,s,r,u,c){const f=TS(n,r,u,c);let p;try{p=await l(s,Object.assign({},f))}catch(g){throw console.error(g),new wo(ls(g),0)}if(p.ok||await fm(p),r?.noResolveJson)return p;try{return await p.json()}catch(g){await fm(g)}}function yn(l){var n;let s=null;kS(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=lS(l.expires_in)));const r=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:r},error:null}}function dm(l){const n=yn(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(n.data.weak_password=l.weak_password),n}function ji(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function OS(l){return{data:l,error:null}}function RS(l){const{action_link:n,email_otp:s,hashed_token:r,redirect_to:u,verification_type:c}=l,f=ua(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:r,redirect_to:u,verification_type:c},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function pm(l){return l}function kS(l){return l.access_token&&l.refresh_token&&l.expires_in}const uo=["global","local","others"];let Vh=class{constructor({url:n="",headers:s={},fetch:r}){this.url=n,this.headers=s,this.fetch=$y(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=uo[0]){if(uo.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uo.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ji})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:s}=n,r=ua(n,["options"]),u=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(u.new_email=r?.newEmail,delete u.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:RS,redirectTo:s?.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ji})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,r,u,c,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},_=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:pm});if(_.error)throw _.error;const S=await _.json(),v=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(g=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},S),m),error:null}}catch(m){if(ne(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){ea(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ji})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){ea(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:ji})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,s=!1){ea(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:ji})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){ea(n.userId);try{const{data:s,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:r}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(n){ea(n.userId),ea(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,r,u,c,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},_=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:pm});if(_.error)throw _.error;const S=await _.json(),v=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(g=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},S),m),error:null}}catch(m){if(ne(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}};function gm(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const os={debug:!!(globalThis&&Hy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gh extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let Vy=class extends Gh{};class CS extends Gh{}async function Gy(l,n,s){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async u=>{if(u){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await s()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(n===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Vy(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(os.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const mm={};async function jS(l,n,s){var r;const u=(r=mm[l])!==null&&r!==void 0?r:Promise.resolve(),c=Promise.race([u.catch(()=>null),n>=0?new Promise((f,p)=>{setTimeout(()=>{p(new CS(`Acquring process lock with name "${l}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await s());return mm[l]=c.catch(async f=>{if(f&&f.isAcquireTimeout)return await u,null;throw f}),await c}function xS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Py(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function NS(l){return parseInt(l,16)}function DS(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function US(l){var n;const{chainId:s,domain:r,expirationTime:u,issuedAt:c=new Date,nonce:f,notBefore:p,requestId:g,resources:m,scheme:_,uri:S,version:v}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const w=Py(l.address),E=_?`${_}://${r}`:r,R=l.statement?`${l.statement}
`:"",C=`${E} wants you to sign in with your Ethereum account:
${w}

${R}`;let D=`URI: ${S}
Version: ${v}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(u&&(D+=`
Expiration Time: ${u.toISOString()}`),p&&(D+=`
Not Before: ${p.toISOString()}`),g&&(D+=`
Request ID: ${g}`),m){let G=`
Resources:`;for(const M of m){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);G+=`
- ${M}`}D+=G}return`${C}
${D}`}class dt extends Error{constructor({message:n,code:s,cause:r,name:u}){var c;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=u??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Ao extends dt{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function MS({error:l,options:n}){var s,r,u;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new dt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Iy(f)){if(c.rp.id!==f)return new dt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function BS({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new dt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const r=window.location.hostname;if(Iy(r)){if(s.rpId!==r)return new dt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class zS{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const qS=new zS;function LS(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:r}=l,u=ua(l,["challenge","user","excludeCredentials"]),c=ra(n).buffer,f=Object.assign(Object.assign({},s),{id:ra(s.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:f});if(r&&r.length>0){p.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const m=r[g];p.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:ra(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function HS(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,r=ua(l,["challenge","allowCredentials"]),u=ra(n).buffer,c=Object.assign(Object.assign({},r),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];c.allowCredentials[f]=Object.assign(Object.assign({},p),{id:ra(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function $S(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:hs(new Uint8Array(l.response.attestationObject)),clientDataJSON:hs(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function VS(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,r=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:hs(new Uint8Array(u.authenticatorData)),clientDataJSON:hs(new Uint8Array(u.clientDataJSON)),signature:hs(new Uint8Array(u.signature)),userHandle:u.userHandle?hs(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Iy(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function ym(){var l,n;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function GS(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",n)}:{data:null,error:new Ao("Empty credential response",n)}}catch(n){return{data:null,error:MS({error:n,options:l})}}}async function PS(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",n)}:{data:null,error:new Ao("Empty credential response",n)}}catch(n){return{data:null,error:BS({error:n,options:l})}}}const IS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},YS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oo(...l){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of l)if(u)for(const c in u){const f=u[c];if(f!==void 0)if(Array.isArray(f))r[c]=f;else if(s(f))r[c]=f;else if(n(f)){const p=r[c];n(p)?r[c]=Oo(p,f):r[c]=Oo(f)}else r[c]=f}return r}function KS(l,n){return Oo(IS,l,n||{})}function XS(l,n){return Oo(YS,l,n||{})}class JS{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:r,signal:u},c){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:p};const g=u??qS.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=KS(f.webauthn.credential_options.publicKey,c?.create),{data:_,error:S}=await GS({publicKey:m,signal:g});return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const m=XS(f.webauthn.credential_options.publicKey,c?.request),{data:_,error:S}=await PS(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:g}));return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Ci("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new oa("rpId is required for WebAuthn authentication")};try{if(!ym())return{data:null,error:new Ci("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:r},signal:u},{request:c});if(!f)return{data:null,error:p};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:r,credential_response:g.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Ci("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new oa("rpId is required for WebAuthn registration")};try{if(!ym())return{data:null,error:new Ci("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(_=>{var S;return(S=_.data)===null||S===void 0?void 0:S.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===n&&v.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:p};const{data:g,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:u},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Ci("Unexpected error in register",f)}}}}xS();const QS={url:Qb,storageKey:Zb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vm(l,n,s){return await s()}const ta={};let Ph=class Rh{get jwks(){var n,s;return(s=(n=ta[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=ta[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{cachedAt:n})}constructor(n){var s,r,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},QS),n);if(this.storageKey=c.storageKey,this.instanceID=(s=Rh.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Rh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&xt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Vh({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=$y(c.fetch),this.lock=c.lock||vm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&xt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Gy:this.lock=vm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Hy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gm(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=gm(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Dy}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},r="none";if(xt()&&(s=uS(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),qy(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?this._returnResult({error:s}):this._returnResult({error:new Ci("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,r,u;try{const c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:yn}),{data:f,error:p}=c;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var s,r,u;try{let c;if("email"in n){const{email:_,password:S,options:v}=n;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await Ws(this.storage,this.storageKey)),c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:_,password:S,data:(s=v?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:E},xform:yn})}else if("phone"in n){const{phone:_,password:S,options:v}=n;c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:S,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(u=v?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:yn})}else throw new gr("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return await Ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:p}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:dm})}else if("phone"in n){const{phone:c,password:f,options:p}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:dm})}else throw new gr("You must provide either an email or phone number and a password");const{data:r,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r||!r.session||!r.user){const c=new rs;return this._returnResult({data:{user:null,session:null},error:c})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,r,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,r,u,c,f,p,g,m,_,S,v;let w,E;if("message"in n)w=n.message,E=n.signature;else{const{chain:R,wallet:C,statement:D,options:G}=n;let M;if(xt())if(typeof C=="object")M=C;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")M=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const L=new URL((s=G?.url)!==null&&s!==void 0?s:window.location.href),Y=await M.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=Py(Y[0]);let P=(r=G?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const de=await M.request({method:"eth_chainId"});P=NS(de)}const ue={domain:L.host,address:q,statement:D,uri:L.href,version:"1",chainId:P,nonce:(u=G?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(c=G?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=G?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=G?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=G?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(_=G?.signInWithEthereum)===null||_===void 0?void 0:_.resources};w=US(ue),E=await M.request({method:"personal_sign",params:[DS(w),q]})}try{const{data:R,error:C}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(v=n.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:yn});if(C)throw C;if(!R||!R.session||!R.user){const D=new rs;return this._returnResult({data:{user:null,session:null},error:D})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:C})}catch(R){if(ne(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var s,r,u,c,f,p,g,m,_,S,v,w;let E,R;if("message"in n)E=n.message,R=n.signature;else{const{chain:C,wallet:D,statement:G,options:M}=n;let L;if(xt())if(typeof D=="object")L=D;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))L=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=D}const Y=new URL((s=M?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in L&&L.signIn){const q=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),G?{statement:G}:null));let P;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")P=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)P=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)E=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),R=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Y.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(u=(r=M?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=M?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((S=(_=M?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||S===void 0)&&S.length?["Resources",...M.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const q=await L.signMessage(new TextEncoder().encode(E),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=q}}try{const{data:C,error:D}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:hs(R)},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:yn});if(D)throw D;if(!C||!C.session||!C.user){const G=new rs;return this._returnResult({data:{user:null,session:null},error:G})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:D})}catch(C){if(ne(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(n){const s=await ss(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(s??"").split("/");try{const{data:c,error:f}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:yn});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const p=new rs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:f})}catch(c){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:s,provider:r,token:u,access_token:c,nonce:f}=n,p=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:yn}),{data:g,error:m}=p;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const _=new rs;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,r,u,c,f;try{if("email"in n){const{email:p,options:g}=n;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await Ws(this.storage,this.storageKey));const{error:S}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(r=g?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:_},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:p,options:g}=n,{data:m,error:_}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:_})}throw new gr("You must provide either an email or phone number.")}catch(p){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var s,r;try{let u,c;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:p}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:yn});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var s,r,u,c,f;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ws(this.storage,this.storageKey));const m=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:OS});return!((c=m.data)===null||c===void 0)&&c.url&&xt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(p){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)throw r;if(!s)throw new It;const{error:u}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:r,type:u,options:c}=n,{error:f}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:u,options:c}=n,{data:f,error:p}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new gr("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<sh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await ss(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=rh()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=wS(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ji}):await this._useSession(async s=>{var r,u,c;const{data:f,error:p}=s;if(p)throw p;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:ji})})}catch(s){if(ne(s))return zy(s)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async r=>{const{data:u,error:c}=r;if(c)throw c;if(!u.session)throw new It;const f=u.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await Ws(this.storage,this.storageKey));const{data:m,error:_}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:ji});if(_)throw _;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new It;const s=Date.now()/1e3;let r=s,u=!0,c=null;const{payload:f}=ah(n.access_token);if(f.exp&&(r=f.exp,u=r<=s),u){const{data:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var r;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new It;const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!xt())throw new mr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new mr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ah("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ah("No code detected.");const{data:G,error:M}=await this._exchangeCodeForSession(n.code);if(M)throw M;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:c,refresh_token:f,expires_in:p,expires_at:g,token_type:m}=n;if(!c||!p||!f||!m)throw new mr("No session defined in URL");const _=Math.round(Date.now()/1e3),S=parseInt(p);let v=_+S;g&&(v=parseInt(g));const w=v-_;w*1e3<=ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${S}s`);const E=v-S;_-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,_):_-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,_);const{data:R,error:C}=await this._getUser(c);if(C)throw C;const D={provider_token:r,provider_refresh_token:u,access_token:c,expires_in:S,expires_at:v,refresh_token:f,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:n.type},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await ss(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const f=(r=u.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(By(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=oS(),r={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async s=>{var r,u;try{const{data:{session:c},error:f}=s;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let r=null,u=null;this.flowType==="pkce"&&([r,u]=await Ws(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:r,error:u}=await this._useSession(async c=>{var f,p,g,m,_;const{data:S,error:v}=c;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",w,{headers:this.headers,jwt:(_=(m=S.session)===null||m===void 0?void 0:m.access_token)!==null&&_!==void 0?_:void 0})});if(u)throw u;return xt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(ne(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var r;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:f,provider:p,token:g,access_token:m,nonce:_}=n,S=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:p,id_token:g,access_token:m,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:yn}),{data:v,error:w}=S;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new rs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(u){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var r,u;const{data:c,error:f}=s;if(f)throw f;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await fS(async u=>(u>0&&await hS(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:yn})),(u,c)=>{const f=200*Math.pow(2,u);return c&&oo(c)&&Date.now()+f-r<ia})}catch(r){if(this._debug(s,"error",r),ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",r),xt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=await ss(this.storage,this.storageKey);if(u&&this.userStorage){let f=await ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await sa(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:rh()}else if(u&&!u.user&&!u.user){const f=await ss(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await Ct(this.storage,this.storageKey+"-user"),await sa(this.storage,this.storageKey,u)):u.user=rh()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<sh;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${sh}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),oo(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var s,r;if(!n)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new No;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new It;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),ne(c)){const f={data:null,error:c};return oo(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,r=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Ct(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await sa(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=hm(u);await sa(this.storage,this.storageKey,c)}else{const u=hm(s);await sa(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ia);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-n)/ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${ia}ms, refresh threshold is ${Eh} ticks`),u<=Eh&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Gh)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,r){const u=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,f]=await Ws(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(r?.queryParams){const c=new URLSearchParams(r.queryParams);u.push(c.toString())}return r?.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var r,u;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:m}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?$S(n.webauthn.credential_response):VS(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:g}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:LS(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:HS(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s?.factors)!==null&&n!==void 0?n:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:r},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ah(r.access_token);let f=null;c.aal&&(f=c.aal);let p=f;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const m=c.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:r},error:u}=s;return u?this._returnResult({data:null,error:u}):r?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new It})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:u},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new It});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&xt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:u},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new It});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&xt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new It})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:r},error:u}=s;return u?this._returnResult({data:null,error:u}):r?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let r=s.keys.find(p=>p.kid===n);if(r)return r;const u=Date.now();if(r=this.jwks.keys.find(p=>p.kid===n),r&&this.jwks_cached_at+eS>u)return r;const{data:c,error:f}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,r=c.keys.find(p=>p.kid===n),!r)?null:r}async getClaims(n,s={}){try{let r=n;if(!r){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});r=w.session.access_token}const{header:u,payload:c,signature:f,raw:{header:p,payload:g}}=ah(r);s?.allowExpired||_S(c.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:c,header:u,signature:f},error:null}}const _=bS(u.alg),S=await crypto.subtle.importKey("jwk",m,_,!0,["verify"]);if(!await crypto.subtle.verify(_,S,f,rS(`${p}.${g}`)))throw new Eo("Invalid JWT signature");return{data:{claims:c,header:u,signature:f},error:null}}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}};Ph.nextInstanceID={};const ZS=Vh,FS=Ph,WS=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:ZS,AuthApiError:My,AuthClient:FS,AuthError:oa,AuthImplicitGrantRedirectError:mr,AuthInvalidCredentialsError:gr,AuthInvalidJwtError:Eo,AuthInvalidTokenResponseError:rs,AuthPKCEGrantCodeExchangeError:Ah,AuthRetryableFetchError:wo,AuthSessionMissingError:It,AuthUnknownError:Ci,AuthWeakPasswordError:Oh,CustomAuthError:ei,GoTrueAdminApi:Vh,GoTrueClient:Ph,NavigatorLockAcquireTimeoutError:Vy,SIGN_OUT_SCOPES:uo,isAuthApiError:By,isAuthError:ne,isAuthImplicitGrantRedirectError:qy,isAuthRetryableFetchError:oo,isAuthSessionMissingError:zy,isAuthWeakPasswordError:tS,lockInternals:os,navigatorLock:Gy,processLock:jS},Symbol.toStringTag,{value:"Module"})),Yy=br(WS);var _m;function ew(){if(_m)return hr;_m=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.SupabaseAuthClient=void 0;const l=Yy;let n=class extends l.AuthClient{constructor(r){super(r)}};return hr.SupabaseAuthClient=n,hr}var bm;function Sm(){if(bm)return Xl;bm=1,Object.defineProperty(Xl,"__esModule",{value:!0});const l=ay,n=hy(),s=_y,r=Ib,u=Kb(),c=Xb(),f=Jb(),p=ew();class g{constructor(_,S,v){var w,E,R;this.supabaseUrl=_,this.supabaseKey=S;const C=(0,f.validateSupabaseUrl)(_);if(!S)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",C),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",C),this.storageUrl=new URL("storage/v1",C),this.functionsUrl=new URL("functions/v1",C);const D=`sb-${C.hostname.split(".")[0]}-auth-token`,G={db:u.DEFAULT_DB_OPTIONS,realtime:u.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},u.DEFAULT_AUTH_OPTIONS),{storageKey:D}),global:u.DEFAULT_GLOBAL_OPTIONS},M=(0,f.applySettingDefaults)(v??{},G);this.storageKey=(w=M.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(E=M.global.headers)!==null&&E!==void 0?E:{},M.accessToken?(this.accessToken=M.accessToken,this.auth=new Proxy({},{get:(L,Y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((R=M.auth)!==null&&R!==void 0?R:{},this.headers,M.global.fetch),this.fetch=(0,c.fetchWithAuth)(S,this._getAccessToken.bind(this),M.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},M.realtime)),this.accessToken&&this.accessToken().then(L=>this.realtime.setAuth(L)).catch(L=>console.warn("Failed to set initial Realtime auth token:",L)),this.rest=new n.PostgrestClient(new URL("rest/v1",C).href,{headers:this.headers,schema:M.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),M.accessToken||this._listenForAuthEvents()}get functions(){return new l.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(_){return this.rest.from(_)}schema(_){return this.rest.schema(_)}rpc(_,S={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(_,S,v)}channel(_,S={config:{}}){return this.realtime.channel(_,S)}getChannels(){return this.realtime.getChannels()}removeChannel(_){return this.realtime.removeChannel(_)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var _,S;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(S=(_=v.session)===null||_===void 0?void 0:_.access_token)!==null&&S!==void 0?S:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:_,persistSession:S,detectSessionInUrl:v,storage:w,userStorage:E,storageKey:R,flowType:C,lock:D,debug:G,throwOnError:M},L,Y){const q={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},q),L),storageKey:R,autoRefreshToken:_,persistSession:S,detectSessionInUrl:v,storage:w,userStorage:E,flowType:C,lock:D,debug:G,throwOnError:M,fetch:Y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(_){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},_),{params:Object.assign({apikey:this.supabaseKey},_?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((S,v)=>{this._handleTokenChanged(S,"CLIENT",v?.access_token)})}_handleTokenChanged(_,S,v){(_==="TOKEN_REFRESHED"||_==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):_==="SIGNED_OUT"&&(this.realtime.setAuth(),S=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Xl.default=g,Xl}var wm;function tw(){return wm||(wm=1,(function(l){var n=Fn&&Fn.__createBinding||(Object.create?(function(_,S,v,w){w===void 0&&(w=v);var E=Object.getOwnPropertyDescriptor(S,v);(!E||("get"in E?!S.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return S[v]}}),Object.defineProperty(_,w,E)}):(function(_,S,v,w){w===void 0&&(w=v),_[w]=S[v]})),s=Fn&&Fn.__exportStar||function(_,S){for(var v in _)v!=="default"&&!Object.prototype.hasOwnProperty.call(S,v)&&n(S,_,v)},r=Fn&&Fn.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0}),l.createClient=l.SupabaseClient=l.FunctionRegion=l.FunctionsError=l.FunctionsRelayError=l.FunctionsFetchError=l.FunctionsHttpError=l.PostgrestError=void 0;const u=r(Sm());s(Yy,l);var c=hy();Object.defineProperty(l,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var f=ay;Object.defineProperty(l,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(l,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(l,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(l,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(l,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),s(_y,l);var p=Sm();Object.defineProperty(l,"SupabaseClient",{enumerable:!0,get:function(){return r(p).default}});const g=(_,S,v)=>new u.default(_,S,v);l.createClient=g;function m(){if(typeof window<"u"||typeof process>"u")return!1;const _=process.version;if(_==null)return!1;const S=_.match(/^v(\d+)\./);return S?parseInt(S[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Fn)),Fn}var Ky=tw();const Xy=g_(Ky),nw=p_({__proto__:null,default:Xy},[Ky]),{PostgrestError:zE,FunctionsHttpError:qE,FunctionsFetchError:LE,FunctionsRelayError:HE,FunctionsError:$E,FunctionRegion:VE,SupabaseClient:GE,createClient:iw,GoTrueAdminApi:PE,GoTrueClient:IE,AuthAdminApi:YE,AuthClient:KE,navigatorLock:XE,NavigatorLockAcquireTimeoutError:JE,lockInternals:QE,processLock:ZE,SIGN_OUT_SCOPES:FE,AuthError:WE,AuthApiError:e1,AuthUnknownError:t1,CustomAuthError:n1,AuthSessionMissingError:i1,AuthInvalidTokenResponseError:s1,AuthInvalidCredentialsError:a1,AuthImplicitGrantRedirectError:r1,AuthPKCEGrantCodeExchangeError:l1,AuthRetryableFetchError:o1,AuthWeakPasswordError:u1,AuthInvalidJwtError:c1,isAuthError:h1,isAuthApiError:f1,isAuthSessionMissingError:d1,isAuthImplicitGrantRedirectError:p1,isAuthRetryableFetchError:g1,isAuthWeakPasswordError:m1,RealtimePresence:y1,RealtimeChannel:v1,RealtimeClient:_1,REALTIME_LISTEN_TYPES:b1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:S1,REALTIME_PRESENCE_LISTEN_EVENTS:w1,REALTIME_SUBSCRIBE_STATES:E1,REALTIME_CHANNEL_STATES:T1}=Xy||nw,sw="https://jrhcxnurojglpdtkaslf.supabase.co",aw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpyaGN4bnVyb2pnbHBkdGthc2xmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjA0NDMsImV4cCI6MjA4MDY5NjQ0M30.RuwYXc6kkISZa28EfHA6-_XsbiS98xutaqCdy_oZEIk",Ro=iw(sw,aw),rw=({isOpen:l,onClose:n,onSuccess:s})=>{const[r,u]=Z.useState(""),[c,f]=Z.useState(""),[p,g]=Z.useState(!1),[m,_]=Z.useState(!1),[S,v]=Z.useState(null);if(!l)return null;const w=async E=>{E.preventDefault(),_(!0),v(null);try{if(p){const{error:R}=await Ro.auth.signUp({email:r,password:c});if(R)throw R;alert("Account created! You are now logged in."),s()}else{const{error:R}=await Ro.auth.signInWithPassword({email:r,password:c});if(R)throw R;s()}n()}catch(R){v(R.message||"An error occurred")}finally{_(!1)}};return b.jsx("div",{className:"auth-overlay",children:b.jsxs("div",{className:"auth-content",children:[b.jsx("button",{className:"close-btn",onClick:n,children:""}),b.jsx("h2",{children:p?"Create Account":"Sign In"}),b.jsx("p",{className:"auth-description",children:p?"Create an account to save your rating permanently.":"Sign in to sync your rating across devices."}),S&&b.jsx("div",{className:"auth-error",children:S}),b.jsxs("form",{onSubmit:w,children:[b.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:E=>u(E.target.value),required:!0}),b.jsx("input",{type:"password",placeholder:"Password",value:c,onChange:E=>f(E.target.value),required:!0,minLength:6}),b.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:m,children:m?"Processing...":p?"Sign Up":"Sign In"})]}),b.jsx("div",{className:"auth-toggle",children:b.jsx("button",{onClick:()=>g(!p),children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})},jn=Object.create(null);jn.open="0";jn.close="1";jn.ping="2";jn.pong="3";jn.message="4";jn.upgrade="5";jn.noop="6";const co=Object.create(null);Object.keys(jn).forEach(l=>{co[jn[l]]=l});const kh={type:"error",data:"parser error"},Jy=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Qy=typeof ArrayBuffer=="function",Zy=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,Ih=({type:l,data:n},s,r)=>Jy&&n instanceof Blob?s?r(n):Em(n,r):Qy&&(n instanceof ArrayBuffer||Zy(n))?s?r(n):Em(new Blob([n]),r):r(jn[l]+(n||"")),Em=(l,n)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];n("b"+(r||""))},s.readAsDataURL(l)};function Tm(l){return l instanceof Uint8Array?l:l instanceof ArrayBuffer?new Uint8Array(l):new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}let lh;function lw(l,n){if(Jy&&l.data instanceof Blob)return l.data.arrayBuffer().then(Tm).then(n);if(Qy&&(l.data instanceof ArrayBuffer||Zy(l.data)))return n(Tm(l.data));Ih(l,!1,s=>{lh||(lh=new TextEncoder),n(lh.encode(s))})}const Am="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let l=0;l<Am.length;l++)yr[Am.charCodeAt(l)]=l;const ow=l=>{let n=l.length*.75,s=l.length,r,u=0,c,f,p,g;l[l.length-1]==="="&&(n--,l[l.length-2]==="="&&n--);const m=new ArrayBuffer(n),_=new Uint8Array(m);for(r=0;r<s;r+=4)c=yr[l.charCodeAt(r)],f=yr[l.charCodeAt(r+1)],p=yr[l.charCodeAt(r+2)],g=yr[l.charCodeAt(r+3)],_[u++]=c<<2|f>>4,_[u++]=(f&15)<<4|p>>2,_[u++]=(p&3)<<6|g&63;return m},uw=typeof ArrayBuffer=="function",Yh=(l,n)=>{if(typeof l!="string")return{type:"message",data:Fy(l,n)};const s=l.charAt(0);return s==="b"?{type:"message",data:cw(l.substring(1),n)}:co[s]?l.length>1?{type:co[s],data:l.substring(1)}:{type:co[s]}:kh},cw=(l,n)=>{if(uw){const s=ow(l);return Fy(s,n)}else return{base64:!0,data:l}},Fy=(l,n)=>{switch(n){case"blob":return l instanceof Blob?l:new Blob([l]);case"arraybuffer":default:return l instanceof ArrayBuffer?l:l.buffer}},Wy="",hw=(l,n)=>{const s=l.length,r=new Array(s);let u=0;l.forEach((c,f)=>{Ih(c,!1,p=>{r[f]=p,++u===s&&n(r.join(Wy))})})},fw=(l,n)=>{const s=l.split(Wy),r=[];for(let u=0;u<s.length;u++){const c=Yh(s[u],n);if(r.push(c),c.type==="error")break}return r};function dw(){return new TransformStream({transform(l,n){lw(l,s=>{const r=s.length;let u;if(r<126)u=new Uint8Array(1),new DataView(u.buffer).setUint8(0,r);else if(r<65536){u=new Uint8Array(3);const c=new DataView(u.buffer);c.setUint8(0,126),c.setUint16(1,r)}else{u=new Uint8Array(9);const c=new DataView(u.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(r))}l.data&&typeof l.data!="string"&&(u[0]|=128),n.enqueue(u),n.enqueue(s)})}})}let oh;function io(l){return l.reduce((n,s)=>n+s.length,0)}function so(l,n){if(l[0].length===n)return l.shift();const s=new Uint8Array(n);let r=0;for(let u=0;u<n;u++)s[u]=l[0][r++],r===l[0].length&&(l.shift(),r=0);return l.length&&r<l[0].length&&(l[0]=l[0].slice(r)),s}function pw(l,n){oh||(oh=new TextDecoder);const s=[];let r=0,u=-1,c=!1;return new TransformStream({transform(f,p){for(s.push(f);;){if(r===0){if(io(s)<1)break;const g=so(s,1);c=(g[0]&128)===128,u=g[0]&127,u<126?r=3:u===126?r=1:r=2}else if(r===1){if(io(s)<2)break;const g=so(s,2);u=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),r=3}else if(r===2){if(io(s)<8)break;const g=so(s,8),m=new DataView(g.buffer,g.byteOffset,g.length),_=m.getUint32(0);if(_>Math.pow(2,21)-1){p.enqueue(kh);break}u=_*Math.pow(2,32)+m.getUint32(4),r=3}else{if(io(s)<u)break;const g=so(s,u);p.enqueue(Yh(c?g:oh.decode(g),n)),r=0}if(u===0||u>l){p.enqueue(kh);break}}}})}const ev=4;function pt(l){if(l)return gw(l)}function gw(l){for(var n in pt.prototype)l[n]=pt.prototype[n];return l}pt.prototype.on=pt.prototype.addEventListener=function(l,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(n),this};pt.prototype.once=function(l,n){function s(){this.off(l,s),n.apply(this,arguments)}return s.fn=n,this.on(l,s),this};pt.prototype.off=pt.prototype.removeListener=pt.prototype.removeAllListeners=pt.prototype.removeEventListener=function(l,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+l];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var r,u=0;u<s.length;u++)if(r=s[u],r===n||r.fn===n){s.splice(u,1);break}return s.length===0&&delete this._callbacks["$"+l],this};pt.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+l],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,u=s.length;r<u;++r)s[r].apply(this,n)}return this};pt.prototype.emitReserved=pt.prototype.emit;pt.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]};pt.prototype.hasListeners=function(l){return!!this.listeners(l).length};const Do=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,s)=>s(n,0),fn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mw="arraybuffer";function tv(l,...n){return n.reduce((s,r)=>(l.hasOwnProperty(r)&&(s[r]=l[r]),s),{})}const yw=fn.setTimeout,vw=fn.clearTimeout;function Uo(l,n){n.useNativeTimers?(l.setTimeoutFn=yw.bind(fn),l.clearTimeoutFn=vw.bind(fn)):(l.setTimeoutFn=fn.setTimeout.bind(fn),l.clearTimeoutFn=fn.clearTimeout.bind(fn))}const _w=1.33;function bw(l){return typeof l=="string"?Sw(l):Math.ceil((l.byteLength||l.size)*_w)}function Sw(l){let n=0,s=0;for(let r=0,u=l.length;r<u;r++)n=l.charCodeAt(r),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(r++,s+=4);return s}function nv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ww(l){let n="";for(let s in l)l.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(l[s]));return n}function Ew(l){let n={},s=l.split("&");for(let r=0,u=s.length;r<u;r++){let c=s[r].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class Tw extends Error{constructor(n,s,r){super(n),this.description=s,this.context=r,this.type="TransportError"}}class Kh extends pt{constructor(n){super(),this.writable=!1,Uo(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,s,r){return super.emitReserved("error",new Tw(n,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const s=Yh(n,this.socket.binaryType);this.onPacket(s)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,s={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const s=ww(n);return s.length?"?"+s:""}}class Aw extends Kh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const s=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};fw(n,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,hw(n,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=nv()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(n,s)}}let iv=!1;try{iv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ow=iv;function Rw(){}class kw extends Aw{constructor(n){if(super(n),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||r!==n.port}}doWrite(n,s){const r=this.request({method:"POST",data:n});r.on("success",s),r.on("error",(u,c)=>{this.onError("xhr post error",u,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=n}}class Cn extends pt{constructor(n,s,r){super(),this.createRequest=n,Uo(this,r),this._opts=r,this._method=r.method||"GET",this._uri=s,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var n;const s=tv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(s);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let u in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(u)&&r.setRequestHeader(u,this._opts.extraHeaders[u])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var u;r.readyState===3&&((u=this._opts.cookieJar)===null||u===void 0||u.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(u){this.setTimeoutFn(()=>{this._onError(u)},0);return}typeof document<"u"&&(this._index=Cn.requestsCount++,Cn.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Rw,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Cn.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Cn.requestsCount=0;Cn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Om);else if(typeof addEventListener=="function"){const l="onpagehide"in fn?"pagehide":"unload";addEventListener(l,Om,!1)}}function Om(){for(let l in Cn.requests)Cn.requests.hasOwnProperty(l)&&Cn.requests[l].abort()}const Cw=(function(){const l=sv({xdomain:!1});return l&&l.responseType!==null})();class jw extends kw{constructor(n){super(n);const s=n&&n.forceBase64;this.supportsBinary=Cw&&!s}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new Cn(sv,this.uri(),n)}}function sv(l){const n=l.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Ow))return new XMLHttpRequest}catch{}if(!n)try{return new fn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const av=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xw extends Kh{get name(){return"websocket"}doOpen(){const n=this.uri(),s=this.opts.protocols,r=av?{}:tv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,s,r)}catch(u){return this.emitReserved("error",u)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const r=n[s],u=s===n.length-1;Ih(r,this.supportsBinary,c=>{try{this.doWrite(r,c)}catch{}u&&Do(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=nv()),this.supportsBinary||(s.b64=1),this.createUri(n,s)}}const uh=fn.WebSocket||fn.MozWebSocket;class Nw extends xw{createSocket(n,s,r){return av?new uh(n,s,r):s?new uh(n,s):new uh(n)}doWrite(n,s){this.ws.send(s)}}class Dw extends Kh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const s=pw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=n.readable.pipeThrough(s).getReader(),u=dw();u.readable.pipeTo(n.writable),this._writer=u.writable.getWriter();const c=()=>{r.read().then(({done:p,value:g})=>{p||(this.onPacket(g),c())}).catch(p=>{})};c();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const r=n[s],u=s===n.length-1;this._writer.write(r).then(()=>{u&&Do(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const Uw={websocket:Nw,webtransport:Dw,polling:jw},Mw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Bw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ch(l){if(l.length>8e3)throw"URI too long";const n=l,s=l.indexOf("["),r=l.indexOf("]");s!=-1&&r!=-1&&(l=l.substring(0,s)+l.substring(s,r).replace(/:/g,";")+l.substring(r,l.length));let u=Mw.exec(l||""),c={},f=14;for(;f--;)c[Bw[f]]=u[f]||"";return s!=-1&&r!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=zw(c,c.path),c.queryKey=qw(c,c.query),c}function zw(l,n){const s=/\/{2,9}/g,r=n.replace(s,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&r.splice(0,1),n.slice(-1)=="/"&&r.splice(r.length-1,1),r}function qw(l,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,u,c){u&&(s[u]=c)}),s}const jh=typeof addEventListener=="function"&&typeof removeEventListener=="function",ho=[];jh&&addEventListener("offline",()=>{ho.forEach(l=>l())},!1);class Di extends pt{constructor(n,s){if(super(),this.binaryType=mw,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(s=n,n=null),n){const r=Ch(n);s.hostname=r.host,s.secure=r.protocol==="https"||r.protocol==="wss",s.port=r.port,r.query&&(s.query=r.query)}else s.host&&(s.hostname=Ch(s.host).host);Uo(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(r=>{const u=r.prototype.name;this.transports.push(u),this._transportsByName[u]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ew(this.opts.query)),jh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ho.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const s=Object.assign({},this.opts.query);s.EIO=ev,s.transport=n,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Di.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(n);s.open(),this.setTransport(s)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Di.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=n.data,this._onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const u=this.writeBuffer[r].data;if(u&&(s+=bw(u)),r>0&&s>this._maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,Do(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,s,r){return this._sendPacket("message",n,s,r),this}send(n,s,r){return this._sendPacket("message",n,s,r),this}_sendPacket(n,s,r,u){if(typeof s=="function"&&(u=s,s=void 0),typeof r=="function"&&(u=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const c={type:n,data:s,options:r};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),u&&this.once("flush",u),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():n()}):this.upgrading?r():n()),this}_onError(n){if(Di.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),jh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ho.indexOf(this._offlineEventListener);r!==-1&&ho.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this._prevBufferLen=0}}}Di.protocol=ev;class Lw extends Di{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let s=this.createTransport(n),r=!1;Di.priorWebsocketSuccess=!1;const u=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",S=>{if(!r)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Di.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(_(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=s.name,this.emitReserved("upgradeError",v)}}))};function c(){r||(r=!0,_(),s.close(),s=null)}const f=S=>{const v=new Error("probe error: "+S);v.transport=s.name,c(),this.emitReserved("upgradeError",v)};function p(){f("transport closed")}function g(){f("socket closed")}function m(S){s&&S.name!==s.name&&c()}const _=()=>{s.removeListener("open",u),s.removeListener("error",f),s.removeListener("close",p),this.off("close",g),this.off("upgrading",m)};s.once("open",u),s.once("error",f),s.once("close",p),this.once("close",g),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const s=[];for(let r=0;r<n.length;r++)~this.transports.indexOf(n[r])&&s.push(n[r]);return s}}let Hw=class extends Lw{constructor(n,s={}){const r=typeof n=="object"?n:s;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(u=>Uw[u]).filter(u=>!!u)),super(n,r)}};function $w(l,n="",s){let r=l;s=s||typeof location<"u"&&location,l==null&&(l=s.protocol+"//"+s.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=s.protocol+l:l=s.host+l),/^(https?|wss?):\/\//.test(l)||(typeof s<"u"?l=s.protocol+"//"+l:l="https://"+l),r=Ch(l)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const c=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+c+":"+r.port+n,r.href=r.protocol+"://"+c+(s&&s.port===r.port?"":":"+r.port),r}const Vw=typeof ArrayBuffer=="function",Gw=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,rv=Object.prototype.toString,Pw=typeof Blob=="function"||typeof Blob<"u"&&rv.call(Blob)==="[object BlobConstructor]",Iw=typeof File=="function"||typeof File<"u"&&rv.call(File)==="[object FileConstructor]";function Xh(l){return Vw&&(l instanceof ArrayBuffer||Gw(l))||Pw&&l instanceof Blob||Iw&&l instanceof File}function fo(l,n){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let s=0,r=l.length;s<r;s++)if(fo(l[s]))return!0;return!1}if(Xh(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return fo(l.toJSON(),!0);for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s)&&fo(l[s]))return!0;return!1}function Yw(l){const n=[],s=l.data,r=l;return r.data=xh(s,n),r.attachments=n.length,{packet:r,buffers:n}}function xh(l,n){if(!l)return l;if(Xh(l)){const s={_placeholder:!0,num:n.length};return n.push(l),s}else if(Array.isArray(l)){const s=new Array(l.length);for(let r=0;r<l.length;r++)s[r]=xh(l[r],n);return s}else if(typeof l=="object"&&!(l instanceof Date)){const s={};for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=xh(l[r],n));return s}return l}function Kw(l,n){return l.data=Nh(l.data,n),delete l.attachments,l}function Nh(l,n){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<n.length)return n[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let s=0;s<l.length;s++)l[s]=Nh(l[s],n);else if(typeof l=="object")for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&(l[s]=Nh(l[s],n));return l}const Xw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Jw=5;var Ce;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(Ce||(Ce={}));class Qw{constructor(n){this.replacer=n}encode(n){return(n.type===Ce.EVENT||n.type===Ce.ACK)&&fo(n)?this.encodeAsBinary({type:n.type===Ce.EVENT?Ce.BINARY_EVENT:Ce.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let s=""+n.type;return(n.type===Ce.BINARY_EVENT||n.type===Ce.BINARY_ACK)&&(s+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(s+=n.nsp+","),n.id!=null&&(s+=n.id),n.data!=null&&(s+=JSON.stringify(n.data,this.replacer)),s}encodeAsBinary(n){const s=Yw(n),r=this.encodeAsString(s.packet),u=s.buffers;return u.unshift(r),u}}function Rm(l){return Object.prototype.toString.call(l)==="[object Object]"}class Jh extends pt{constructor(n){super(),this.reviver=n}add(n){let s;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(n);const r=s.type===Ce.BINARY_EVENT;r||s.type===Ce.BINARY_ACK?(s.type=r?Ce.EVENT:Ce.ACK,this.reconstructor=new Zw(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Xh(n)||n.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(n),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let s=0;const r={type:Number(n.charAt(0))};if(Ce[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ce.BINARY_EVENT||r.type===Ce.BINARY_ACK){const c=s+1;for(;n.charAt(++s)!=="-"&&s!=n.length;);const f=n.substring(c,s);if(f!=Number(f)||n.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(f)}if(n.charAt(s+1)==="/"){const c=s+1;for(;++s&&!(n.charAt(s)===","||s===n.length););r.nsp=n.substring(c,s)}else r.nsp="/";const u=n.charAt(s+1);if(u!==""&&Number(u)==u){const c=s+1;for(;++s;){const f=n.charAt(s);if(f==null||Number(f)!=f){--s;break}if(s===n.length)break}r.id=Number(n.substring(c,s+1))}if(n.charAt(++s)){const c=this.tryParse(n.substr(s));if(Jh.isPayloadValid(r.type,c))r.data=c;else throw new Error("invalid payload")}return r}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,s){switch(n){case Ce.CONNECT:return Rm(s);case Ce.DISCONNECT:return s===void 0;case Ce.CONNECT_ERROR:return typeof s=="string"||Rm(s);case Ce.EVENT:case Ce.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Xw.indexOf(s[0])===-1);case Ce.ACK:case Ce.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Zw{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const s=Kw(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Fw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Jh,Encoder:Qw,get PacketType(){return Ce},protocol:Jw},Symbol.toStringTag,{value:"Module"}));function bn(l,n,s){return l.on(n,s),function(){l.off(n,s)}}const Ww=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lv extends pt{constructor(n,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[bn(n,"open",this.onopen.bind(this)),bn(n,"packet",this.onpacket.bind(this)),bn(n,"error",this.onerror.bind(this)),bn(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...s){var r,u,c;if(Ww.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(s.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const f={type:Ce.EVENT,data:s};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const _=this.ids++,S=s.pop();this._registerAckCallback(_,S),f.id=_}const p=(u=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||u===void 0?void 0:u.writable,g=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!p||(g?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(n,s){var r;const u=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(u===void 0){this.acks[n]=s;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===n&&this.sendBuffer.splice(p,1);s.call(this,new Error("operation has timed out"))},u),f=(...p)=>{this.io.clearTimeoutFn(c),s.apply(this,p)};f.withError=!0,this.acks[n]=f}emitWithAck(n,...s){return new Promise((r,u)=>{const c=(f,p)=>f?u(f):r(p);c.withError=!0,s.push(c),this.emit(n,...s)})}_addToQueue(n){let s;typeof n[n.length-1]=="function"&&(s=n.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((u,...c)=>r!==this._queue[0]?void 0:(u!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(u)):(this._queue.shift(),s&&s(null,...c)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!n||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(r=>String(r.id)===n)){const r=this.acks[n];delete this.acks[n],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Ce.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ce.EVENT:case Ce.BINARY_EVENT:this.onevent(n);break;case Ce.ACK:case Ce.BINARY_ACK:this.onack(n);break;case Ce.DISCONNECT:this.ondisconnect();break;case Ce.CONNECT_ERROR:this.destroy();const r=new Error(n.data.message);r.data=n.data.data,this.emitReserved("connect_error",r);break}}onevent(n){const s=n.data||[];n.id!=null&&s.push(this.ack(n.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const s=this;let r=!1;return function(...u){r||(r=!0,s.packet({type:Ce.ACK,id:n,data:u}))}}onack(n){const s=this.acks[n.id];typeof s=="function"&&(delete this.acks[n.id],s.withError&&n.data.unshift(null),s.apply(this,n.data))}onconnect(n,s){this.id=n,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(n===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(n===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,n.data)}}}function ha(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}ha.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*l);l=(Math.floor(n*10)&1)==0?l-s:l+s}return Math.min(l,this.max)|0};ha.prototype.reset=function(){this.attempts=0};ha.prototype.setMin=function(l){this.ms=l};ha.prototype.setMax=function(l){this.max=l};ha.prototype.setJitter=function(l){this.jitter=l};class Dh extends pt{constructor(n,s){var r;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(s=n,n=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Uo(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ha({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=n;const u=s.parser||Fw;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var s;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(s=this.backoff)===null||s===void 0||s.setMin(n),this)}randomizationFactor(n){var s;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(s=this.backoff)===null||s===void 0||s.setJitter(n),this)}reconnectionDelayMax(n){var s;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(s=this.backoff)===null||s===void 0||s.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Hw(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const u=bn(s,"open",function(){r.onopen(),n&&n()}),c=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),n?n(p):this.maybeReconnectOnOpen()},f=bn(s,"error",c);if(this._timeout!==!1){const p=this._timeout,g=this.setTimeoutFn(()=>{u(),c(new Error("timeout")),s.close()},p);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(u),this.subs.push(f),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(bn(n,"ping",this.onping.bind(this)),bn(n,"data",this.ondata.bind(this)),bn(n,"error",this.onerror.bind(this)),bn(n,"close",this.onclose.bind(this)),bn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(s){this.onclose("parse error",s)}}ondecoded(n){Do(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,s){let r=this.nsps[n];return r?this._autoConnect&&!r.active&&r.connect():(r=new lv(this,n,s),this.nsps[n]=r),r}_destroy(n){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(n){const s=this.encoder.encode(n);for(let r=0;r<s.length;r++)this.engine.write(s[r],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,s){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(u=>{u?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",u)):n.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const fr={};function po(l,n){typeof l=="object"&&(n=l,l=void 0),n=n||{};const s=$w(l,n.path||"/socket.io"),r=s.source,u=s.id,c=s.path,f=fr[u]&&c in fr[u].nsps,p=n.forceNew||n["force new connection"]||n.multiplex===!1||f;let g;return p?g=new Dh(r,n):(fr[u]||(fr[u]=new Dh(r,n)),g=fr[u]),s.query&&!n.query&&(n.query=s.queryKey),g.socket(s.path,n)}Object.assign(po,{Manager:Dh,Socket:lv,io:po,connect:po});const jt=[];for(let l=0;l<256;++l)jt.push((l+256).toString(16).slice(1));function eE(l,n=0){return(jt[l[n+0]]+jt[l[n+1]]+jt[l[n+2]]+jt[l[n+3]]+"-"+jt[l[n+4]]+jt[l[n+5]]+"-"+jt[l[n+6]]+jt[l[n+7]]+"-"+jt[l[n+8]]+jt[l[n+9]]+"-"+jt[l[n+10]]+jt[l[n+11]]+jt[l[n+12]]+jt[l[n+13]]+jt[l[n+14]]+jt[l[n+15]]).toLowerCase()}let ch;const tE=new Uint8Array(16);function nE(){if(!ch){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ch=crypto.getRandomValues.bind(crypto)}return ch(tE)}const iE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),km={randomUUID:iE};function sE(l,n,s){l=l||{};const r=l.random??l.rng?.()??nE();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,eE(r)}function aE(l,n,s){return km.randomUUID&&!l?km.randomUUID():sE(l)}const ao=()=>{const l="xy_poker_browser_id";let n=localStorage.getItem(l);if(!n||n.length<10){const s=aE();return localStorage.setItem(l,s),s}return n},ov="https://xy-poker.onrender.com";console.log("[Socket.IO] Connecting to:",ov);const le=po(ov,{autoConnect:!1,path:"/socket.io/",transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});le.on("connect",()=>console.log("[Socket.IO] Connected! ID:",le.id));le.on("disconnect",l=>console.log("[Socket.IO] Disconnected. Reason:",l));le.on("connect_error",l=>console.error("[Socket.IO] Connection error:",l));le.on("reconnect_attempt",()=>console.log("[Socket.IO] Reconnecting..."));const rE=()=>{le.connected||(console.log("[Socket.IO] Initiating connection..."),le.connect())};function lE(l,n){const s=l.players[n],r=l.players[0],u=s.hand,c=s.board,f=s.dice,g=f.reduce((E,R)=>E+R,0)/5>=3.5,m=g?1.2:.8,_=g?.8:1.2,S=[];for(let E=0;E<5;E++)c[2][E]===null&&S.push(E);if(S.length===0)return{cardId:u[0]?.id||"",colIndex:0,isHidden:!1};S.sort(()=>Math.random()-.5);let v={cardId:u[0].id,colIndex:S[0],isHidden:!1},w=-1/0;for(const E of u)for(const R of S){const C=[c[0][R],c[1][R],c[2][R]],D=C.findIndex(Y=>Y===null);if(D===-1)continue;const G=[...C];G[D]=E;const M=f[R];let L=oE(G,R,M)*m;if(D===0&&(L+=120),M<=2&&(L*=.7,D===2&&r.board[2][R]===null&&(L+=100)),D===2){const Y=ko();let q=uE(c,E,R)*Y.xHandFocus;L+=q*_}L+=cE(r,R),L+=Math.random()*5,L>w&&(w=L,v={cardId:E.id,colIndex:R,isHidden:!1})}return v.isHidden=hE(v,u,s,c,l.turnCount),v}function oE(l,n,s,r){const u=l.filter(q=>q!==null);if(u.length===0)return 0;const c=ko();let f=0;const p=u.length,g=u.map(q=>q.rank),m=[...g].sort((q,P)=>q-P),_=m[m.length-1],S=g.reduce((q,P)=>q+P,0)/g.length;s>=4&&(_>=11?f+=50*s:_<=8&&p===1&&(f-=30*s));let v=!1,w=!1;if(p>=2){let q=!0;for(let P=1;P<m.length;P++)if(m[P]!==m[P-1]+1){q=!1;break}v=q,!v&&p===2&&m[1]===m[0]+2&&(w=!0)}const E=v&&s>=4?1.5:1,R=new Set(g),C=p===3&&R.size===1,D=p>=2&&R.size<p;C?f+=500*s*c.tripPreference:D&&(f+=200*s*c.tripPreference);const G=u.map(q=>q.suit),L=new Set(G).size===1&&p>=2;if(L){let q=150*s*c.flushPreference;p===3&&(q+=150),v&&s>=5&&(q*=1.3),f+=q}v?f+=180*s*c.straightPreference*E:w&&(f+=80*s);const Y=D||L||v||w;return p>=2&&!Y&&(m[m.length-1]-m[0]>4?f-=100*s:f-=20*s,m[0]<=8&&m[1]>=11&&(f-=150)),f+=S*2,f}function uE(l,n,s){const r=[...l[2]];r[s]=n;const u=r.filter(v=>v!==null);if(u.length<2)return 0;let c=0;const f=u.map(v=>v.rank),p=new Map;f.forEach(v=>p.set(v,(p.get(v)||0)+1));const g=Math.max(...p.values());g>=2&&(c+=g*60);const m=u.map(v=>v.suit);new Set(m).size===1&&u.length>=3&&(c+=100);const S=[...new Set(f)].sort((v,w)=>v-w);if(S.length>=3){let v=1,w=1;for(let E=1;E<S.length;E++)S[E]===S[E-1]+1?(w++,v=Math.max(v,w)):w=1;v>=3&&(c+=v*50)}return n.rank>=12&&(c+=80),c}function cE(l,n,s,r){const c=[l.board[0][n],l.board[1][n],l.board[2][n]].filter(S=>S!==null);if(c.length<2)return 0;const f=c.map(S=>S.rank),p=c.map(S=>S.suit);let g=0;return new Set(f).size===1&&(g+=30),new Set(p).size===1&&c.length>=2&&(g+=25),g}function hE(l,n,s,r,u){if(s.hiddenCardsCount>=3)return!1;let c=0;for(let v=0;v<3;v++){const w=r[v][l.colIndex];w&&w.isHidden&&c++}if(c>=2)return!1;const f=n.find(v=>v.id===l.cardId);if(!f)return!1;const p=ko(),g=l.colIndex,m=s.dice[g],_=u<=8;let S=0;return f.rank>=11&&m>=4?S=.4:f.rank>=10&&(S=.25),_&&(S*=1.5),Math.random()<S*p.hidingStrategy/.3}const Cm=["Brave","Swift","Clever","Mighty","Silent","Noble","Fierce","Bold","Wise","Lucky","Wild","Sharp","Quick","Steady","Bright","Cool","Epic","Grand","Strong","Sleek"],jm=["Tiger","Eagle","Dragon","Wolf","Phoenix","Falcon","Panther","Lion","Hawk","Bear","Fox","Shark","Viper","Raven","Cobra","Lynx","Puma","Cheetah","Jaguar","Orca"];function xm(){let l="";for(let n=0;n<50;n++){const s=Cm[Math.floor(Math.random()*Cm.length)],r=jm[Math.floor(Math.random()*jm.length)];let u=`${s}${r}`;if(u.length<=10){const c=10-u.length;if(c>=1&&Math.random()>.3){const f=Math.pow(10,c)-1;if(f>0){const p=Math.floor(Math.random()*(f+1));u+=p}}l=u;break}}return l||"Player"+Math.floor(Math.random()*9999)}function fE(){const[l,n]=Z.useReducer(j_,ki),[s,r]=Z.useState(null),[u,c]=Z.useState(!1),[f,p]=Z.useState(!1),[g,m]=Z.useState(!1),[_,S]=Z.useState(!1),[v,w]=Z.useState(!1),[E,R]=Z.useState(!1),[C,D]=Z.useState("local"),[G,M]=Z.useState(null),[L,Y]=Z.useState(null),[q,P]=Z.useState(!1),[ue,de]=Z.useState(le.connected),[_e,me]=Z.useState(!1),[Ae,ye]=Z.useState(!1),[et,_t]=Z.useState(!1),[B,I]=Z.useState(-1),[ae,ce]=Z.useState(null),[Oe,O]=Z.useState(null),[$,X]=Z.useState(!1),W=Z.useRef(null),[he,ve]=Z.useState(null),[je,bt]=Z.useState(!1),[Qe,ti]=Z.useState(60),fs=Z.useRef(null),[Kt,Er]=Z.useState(()=>localStorage.getItem("xypoker_playerName_v2")||xm()),[dn,Nt]=Z.useState("Player 2"),Ui=Z.useRef(C),Tr=Z.useRef(G),Ar=10800*1e3,[fa,ds]=Z.useState(!1),[Mi,Mo]=Z.useState(()=>xn("xypoker_unlockedSkins","xypoker_skinUnlockTimes",["white"])),[da,Dt]=Z.useState(()=>wt("xypoker_selectedSkin","white",Mi)),[pa,Or]=Z.useState(()=>xn("xypoker_unlockedCardSkins","xypoker_cardUnlockTimes",["classic"])),[ga,Bi]=Z.useState(()=>wt("xypoker_selectedCardSkin","classic",pa)),[ma,Rr]=Z.useState(()=>xn("xypoker_unlockedBoardSkins","xypoker_boardUnlockTimes",["classic-green"])),[kr,Cr]=Z.useState(()=>wt("xypoker_selectedBoardSkin","classic-green",ma));function xn(K,se,Q){const we=localStorage.getItem(K),Ke=localStorage.getItem(se);let Be=we?JSON.parse(we):Q,Re=Ke?JSON.parse(Ke):{};const Ze=Date.now();let gt=!1,Ve=[],nt={...Re};return Be.forEach(it=>{if(Q.includes(it)){Ve.push(it);return}nt[it]||(nt[it]=Ze,gt=!0),Ze-nt[it]<Ar?Ve.push(it):(console.log(`Skin expired: ${it}`),delete nt[it],gt=!0)}),Q.forEach(it=>{Ve.includes(it)||Ve.push(it)}),gt&&(localStorage.setItem(K,JSON.stringify(Ve)),localStorage.setItem(se,JSON.stringify(nt))),Ve}function wt(K,se,Q){const we=localStorage.getItem(K);return we&&Q.includes(we)?we:se}const Sn=K=>{ya(K,Mi,Mo,"xypoker_unlockedSkins","xypoker_skinUnlockTimes",Dt,"xypoker_selectedSkin")},Bt=K=>{ya(K,pa,Or,"xypoker_unlockedCardSkins","xypoker_cardUnlockTimes",Bi,"xypoker_selectedCardSkin")},Bo=K=>{ya(K,ma,Rr,"xypoker_unlockedBoardSkins","xypoker_boardUnlockTimes",Cr,"xypoker_selectedBoardSkin")};function ya(K,se,Q,we,Ke,Be,Re){const Ze=Date.now(),gt=Array.from(new Set([...se,K]));Q(gt),localStorage.setItem(we,JSON.stringify(gt));const Ve=localStorage.getItem(Ke),it={...Ve?JSON.parse(Ve):{},[K]:Ze};localStorage.setItem(Ke,JSON.stringify(it)),Be(K),localStorage.setItem(Re,K)}const zo=K=>{Dt(K),localStorage.setItem("xypoker_selectedSkin",K)},ps=K=>{Bi(K),localStorage.setItem("xypoker_selectedCardSkin",K)},gs=K=>{Cr(K),localStorage.setItem("xypoker_selectedBoardSkin",K)};Z.useEffect(()=>{Ui.current=C},[C]),Z.useEffect(()=>{Tr.current=G},[G]);const ni=Z.useRef(L);Z.useEffect(()=>{ni.current=L},[L]);const Nn=Z.useRef(Ae);Z.useEffect(()=>{Nn.current=Ae},[Ae]);const Et=Z.useRef(null);Z.useEffect(()=>{!Ae&&Et.current&&(clearTimeout(Et.current),Et.current=null)},[Ae]),Z.useEffect(()=>{rE();const K=()=>de(!0),se=()=>de(!1);return le.on("connect",K),le.on("disconnect",se),le.on("quick_match_joined",(Q={})=>{Q.rating&&ce(Q.rating),ye(!0)}),le.on("player_joined",({roomId:Q,role:we})=>{M(Q),Y(we),P(!0),D("online")}),le.on("sync_state",Q=>{n({type:"SYNC_STATE",payload:Q}),P(!0)}),le.on("auto_start_game",()=>{console.log("Auto-starting Quick Match game"),ye(!1),P(!0),as(),n({type:"START_GAME"}),p(!0),me(!1)}),le.on("opponent_joined",({name:Q})=>{Nt(Q),Nt(Q),as()}),le.on("rematch_requested",({requesterName:Q})=>{console.log("Rematch requested by:",Q),w(!0),as()}),le.on("game_start",({roomId:Q,initialDice:we,initialDeck:Ke,p1Name:Be,p2Name:Re,p1Id:Ze,p2Id:gt,isRanked:Ve})=>{M(Q),ye(!1),_t(!!Ve),P(!0),as(),le.id===Ze?(Y("host"),Nt(Re||"Player 2")):le.id===gt&&(Y("guest"),Nt(Be||"Player 1")),n({type:"START_GAME",payload:{initialDice:we,initialDeck:Ke}}),p(!0),me(!1)}),le.on("player_data",Q=>{Q&&Q.rating&&ce(Q.rating)}),le.on("rating_update",Q=>{console.log("Rating updates received:",Q),O(Q),ni.current==="host"?ce(Q.p1.new):ni.current==="guest"&&ce(Q.p2.new)}),le.on("game_action",Q=>{n(Q)}),le.on("game_end_surrender",({winner:Q})=>{Ui.current!=="local"&&(console.log("[SURRENDER] Received game_end_surrender event, winner:",Q),setTimeout(()=>{console.log("[SURRENDER] Returning to lobby - resetting ALL state"),D(()=>"online"),M(()=>null),Y(()=>null),P(()=>!1),ye(()=>!1),Nt(()=>"Player 2"),O(null),n({type:"SYNC_STATE",payload:ki}),console.log("[SURRENDER] State reset complete - should show lobby")},1e3))}),le.on("player_left",()=>{if(Ui.current==="local"){console.log("Ignored player_left event because we are in local mode");return}console.log("Opponent left the room"),D("online"),M(null),Y(null),P(!1),ye(!1),O(null),n({type:"SYNC_STATE",payload:ki})}),()=>{le.off("connect",K),le.off("disconnect",se),le.off("quick_match_joined"),le.off("game_start"),le.off("player_data"),le.off("rating_update"),le.off("player_joined"),le.off("sync_state"),le.off("auto_start_game"),le.off("opponent_joined"),le.off("game_action"),le.off("game_end_surrender"),le.off("player_left")}},[]),Z.useEffect(()=>{q&&L==="host"&&G&&le.emit("sync_state",{roomId:G,state:l})},[l,q,L,G]),Z.useEffect(()=>{q&&et&&L==="host"&&G&&l.phase==="ended"&&l.winner!==null&&le.emit("report_game_end",{roomId:G,winner:l.winner,p1Score:l.players[0].score,p2Score:l.players[1].score})},[l.phase,l.winner,q,L,G]);const{currentPlayerIndex:tt,players:zi,phase:Ue}=l,ms=zi[tt];Z.useEffect(()=>{if(Ue==="scoring"){R(!0),as();const K=setTimeout(()=>{R(!1),n({type:"CALCULATE_SCORE"})},2e3);return()=>clearTimeout(K)}},[Ue]);const Dn=C==="online"&&!q&&!Ae,qo=Dn||C==="local"&&Ue==="setup",jr=q&&L==="guest"?dn:Kt,xr=q&&L==="guest"?Kt:dn;Z.useEffect(()=>{if(C==="local"&&Ue==="playing"&&tt===1){const K=$?2e3+Math.random()*3e3:1e3,se=setTimeout(()=>{const Q=lE(l,1);n({type:"PLACE_AND_DRAW",payload:{cardId:Q.cardId,colIndex:Q.colIndex,isHidden:Q.isHidden}}),Me()},K);return()=>clearTimeout(se)}},[l,C,$]),Z.useEffect(()=>{if(Ue==="ended"){let K=0;I(0);const{players:se}=l,Q=se[0],we=se[1],Ke=Q.dice,Be=Tt=>Tt.replace(/([A-Z])/g," $1").trim().replace(/ Of /g," of ").replace(/ A /g," a "),Re=Array.from({length:5},(Tt,qi)=>{const mt=4-qi,qt=[Q.board[0][mt],Q.board[1][mt],Q.board[2][mt]],zr=[we.board[0][mt],we.board[1][mt],we.board[2][mt]],si=xi(qt,Ke[mt]),En=xi(zr,Ke[mt]);if(si.rankValue>En.rankValue)return{winner:"p1",type:si.type};if(En.rankValue>si.rankValue)return{winner:"p2",type:En.type};for(let Li=0;Li<Math.max(si.kickers.length,En.kickers.length);Li++){const Hi=si.kickers[Li]||0,qr=En.kickers[Li]||0;if(Hi>qr)return{winner:"p1",type:si.type};if(qr>Hi)return{winner:"p2",type:En.type}}return{winner:"draw",type:null}}),Ze=Ni(Q.board[2]),gt=Ni(we.board[2]),Ve=`${G}-${l.winner}-${l.turnCount}`;if(W.current===Ve)return;W.current=Ve;const{p1Score:nt,p2Score:it}=go(Ze,gt);let Un={winner:"draw",type:null};nt>it?Un={winner:"p1",type:Ze.type}:it>nt&&(Un={winner:"p2",type:gt.type});const vs=Re[0];vs.winner!=="draw"&&vs.type&&Yg(Be(vs.type)),Me();const Br=setInterval(()=>{if(K++,K<=5){I(K),Me();let Tt=null;K<=4?Tt=Re[K]:K===5&&(Tt=Un),Tt&&Tt.winner!=="draw"&&Tt.type&&Yg(Be(Tt.type))}else clearInterval(Br),setTimeout(()=>{me(!0)},1e3)},1500);if(C==="local"){const{winner:Tt}=l;D_(Tt==="p2",Tt===null)}return()=>clearInterval(Br)}else I(-1)},[Ue,C]),Z.useEffect(()=>{localStorage.setItem("xypoker_playerName_v2",Kt)},[Kt]),Z.useEffect(()=>{Ro.auth.getSession().then(({data:{session:se}})=>{ve(se)});const{data:{subscription:K}}=Ro.auth.onAuthStateChange((se,Q)=>{ve(Q)});return()=>K.unsubscribe()},[]),Z.useEffect(()=>{if(ue){const K=ao(),se=he?.user?.id;le.emit("get_player_data",{browserId:K,userId:se})}},[ue,he]),Z.useEffect(()=>{C==="local"?$||Nt("AI"):C==="online"&&!q&&Nt("Player 2")},[C,q,$]),Z.useEffect(()=>{if(Ue!=="playing"||f)return;ti(60);const K=setInterval(()=>{ti(se=>se<=1?(clearInterval(K),Nr(),0):se-1)},1e3);return fs.current=K,()=>clearInterval(K)},[tt,Ue,f]);const Nr=()=>{if(Ue!=="playing")return;let K=0;if(q&&(K=L==="host"?0:1),q&&tt!==K){console.log("Timer expired for opponent - waiting for their move...");return}console.log("Timer expired - Auto-playing random move");const se=l.players[tt];if(se.hand.length===0)return;const Q=Math.floor(Math.random()*se.hand.length),we=se.hand[Q],Ke=[];for(let Ze=0;Ze<5;Ze++)(!se.board[0][Ze]||!se.board[1][Ze]||!se.board[2][Ze])&&(se.board[0][Ze]||Ke.push(Ze));if(Ke.length===0)return;const Be=Ke[Math.floor(Math.random()*Ke.length)],Re={type:"PLACE_AND_DRAW",payload:{cardId:we.id,colIndex:Be,isHidden:!1}};n(Re),Me(),q&&G&&le.emit("game_action",{roomId:G,action:Re})},ys=()=>{Me(),C==="local"&&(X(!1),Nt("AI")),n({type:"START_GAME"}),p(!0),me(!1)},va=()=>{console.log("Quick Match Timeout: Starting Bot Match");const K=Tr.current;K?(console.log(`Cancelling matchmaking for roomId: ${K}`),le.emit("cancel_matchmaking",{roomId:K})):console.log("No roomId found to cancel matchmaking."),ye(!1),D("local"),M(null),Y(null),P(!1),Nt(xm()),X(!0),n({type:"SYNC_STATE",payload:ki}),setTimeout(()=>{as(),n({type:"START_GAME"}),p(!0)},500)},Dr=()=>{const K=ao(),se=he?.user?.id;le.emit("create_room",{playerName:Kt,browserId:K,userId:se},Q=>{M(Q.roomId),Y("host")})},Ur=K=>{const se=ao(),Q=he?.user?.id;le.emit("join_room",{roomId:K,playerName:Kt,browserId:se,userId:Q},we=>{we.success?(M(K),Y("guest"),we.opponentName&&Nt(we.opponentName)):alert(we.message)})},wn=()=>{q?Ae?(lt(),setTimeout(()=>{rt()},100)):_||(le.emit("request_rematch",{roomId:G}),S(!0)):ys()},rt=()=>{ye(!0),Et.current&&clearTimeout(Et.current),Et.current=setTimeout(()=>{va()},15e3);const K=ao(),se=he?.user?.id;le.emit("quick_match",{playerName:Kt,browserId:K,userId:se},Q=>{Q.success?(M(Q.roomId),Y(Q.role),P(!0),Q.opponentName&&Nt(Q.opponentName)):(ye(!1),Et.current&&(clearTimeout(Et.current),Et.current=null))})},lt=()=>{Me(),Et.current&&(clearTimeout(Et.current),Et.current=null),le.emit("cancel_matchmaking",{roomId:G}),M(null),Y(null),ye(!1),P(!1)},ii=()=>{Me(),window.confirm("Surrender? This will end the game.")&&(C==="local"?n({type:"SYNC_STATE",payload:ki}):le.emit("surrender",{roomId:G}))},_a=()=>{const{players:K}=l,se=K[0],Q=K[1],we=se.dice;return Array.from({length:5},(Ke,Be)=>{const Re=[se.board[0][Be],se.board[1][Be],se.board[2][Be]],Ze=[Q.board[0][Be],Q.board[1][Be],Q.board[2][Be]],gt=xi(Re,we[Be]),Ve=xi(Ze,we[Be]);if(gt.rankValue>Ve.rankValue)return"p1";if(Ve.rankValue>gt.rankValue)return"p2";for(let nt=0;nt<Math.max(gt.kickers.length,Ve.kickers.length);nt++){const it=gt.kickers[nt]||0,Un=Ve.kickers[nt]||0;if(it>Un)return"p1";if(Un>it)return"p2"}return"draw"})},Lo=()=>{const{players:K}=l,se=K[0],Q=K[1],we=Ni(se.board[2]),Ke=Ni(Q.board[2]),{p1Score:Be,p2Score:Re}=go(we,Ke);return Be>Re?"p1":Re>Be?"p2":"draw"},Ho=K=>{let se=0;q&&(se=L==="host"?0:1),tt===se&&r(s===K?null:K)},Mr=K=>{if(Ue!=="playing"||!s)return;let se=0;if(q&&(se=L==="host"?0:1),tt!==se)return;const Q={type:"PLACE_AND_DRAW",payload:{cardId:s,colIndex:K,isHidden:u}};n(Q),q&&G&&le.emit("game_action",{roomId:G,action:Q}),r(null),c(!1)};return b.jsxs("div",{className:`app ${Dn?"view-lobby":"view-game"} phase-${Ue}`,children:[b.jsxs("header",{className:`app-header ${Ue==="playing"||Ue==="scoring"?"battle-mode":""}`,children:[b.jsxs("div",{className:"header-title-row",children:[b.jsx("h1",{children:"XY Poker"}),qo&&b.jsx("span",{className:"version",children:"12130048"})]}),!1,(C==="local"&&Ue==="setup"||C==="online"&&!q)&&b.jsxs("div",{className:"mode-switch",children:[b.jsx("button",{className:C==="local"?"active":"",onClick:()=>{Me(),D("local"),P(!1),M(null),Y(null),X(!1),Nt("AI"),n({type:"SYNC_STATE",payload:ki})},children:"Local (vs AI)"}),b.jsx("button",{className:C==="online"?"active":"",onClick:()=>{Me(),D("online")},children:"Online"})]})]}),!f&&Ue!=="setup"&&b.jsx(q_,{gameState:l,isOnlineMode:C==="online",playerRole:L,playerName:Kt,opponentName:dn,onSurrender:ii}),!f&&b.jsx(b.Fragment,{children:C==="online"&&Ae?b.jsx("div",{className:"setup-screen",children:b.jsxs("div",{className:"waiting-message",children:[b.jsx("h3",{children:" Quick Match"}),b.jsx("h2",{children:"Waiting for opponent..."}),b.jsx("div",{className:"loading-spinner"}),b.jsx("p",{children:"Your game will start automatically when an opponent joins"}),b.jsx("button",{className:"btn-cancel",onClick:lt,children:"Cancel"})]})}):Dn?b.jsx(H_,{onCreateRoom:Dr,onJoinRoom:Ur,onQuickMatch:rt,onCancelMatchmaking:lt,roomId:G,isConnected:ue,playerRole:L,playerName:Kt,onPlayerNameChange:Er,rating:ae,onShowRules:()=>{Me(),m(!0)}}):b.jsxs(b.Fragment,{children:[b.jsx(rw,{isOpen:je,onClose:()=>bt(!1),onSuccess:()=>bt(!1)}),b.jsx(P_,{isOpen:fa,onClose:()=>ds(!1),unlockedSkins:Mi,selectedSkin:da,onUnlock:Sn,onSelect:zo,unlockedCardSkins:pa,selectedCardSkin:ga,onUnlockCard:Bt,onSelectCard:ps,unlockedBoardSkins:ma,selectedBoardSkin:kr,onUnlockBoard:Bo,onSelectBoard:gs}),!f&&Ue==="playing"&&b.jsx(K_,{timeLeft:Qe,totalTime:60,currentPlayerIndex:tt,isMyTurn:!q||L==="host"&&tt===0||L==="guest"&&tt===1}),b.jsxs("main",{className:"game-board",children:[Ue==="setup"&&b.jsx("div",{className:"setup-screen",children:Ae?b.jsxs("div",{className:"waiting-message",children:[b.jsx("h3",{children:" Quick Match"}),b.jsx("h2",{children:"Waiting for opponent..."}),b.jsx("div",{className:"loading-spinner"}),b.jsx("p",{children:"Your game will start automatically when an opponent joins"}),b.jsx("button",{className:"btn-cancel",onClick:lt,children:"Cancel"})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"logo-area",children:[b.jsx("h1",{children:"XY Poker"}),b.jsx("p",{children:"Strategic Card & Dice Battle"})]}),b.jsxs("div",{className:"setup-actions",children:[b.jsx("button",{className:"btn-primary",onClick:ys,children:"Start Game"}),b.jsx("button",{className:"btn-secondary",style:{marginTop:"1rem",padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{Me(),ds(!0)},children:" Skin Shop"}),b.jsx("button",{className:"btn-secondary",style:{marginTop:"1rem",marginLeft:"10px",padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{Me(),m(!0)},children:" Rules"})]})]})}),(Ue==="playing"||Ue==="scoring"||Ue==="ended")&&b.jsx("div",{className:"play-area",children:b.jsx(B_,{playerBoard:zi[q&&L==="guest"?1:0].board,opponentBoard:zi[q&&L==="guest"?0:1].board,dice:zi[tt].dice,onColumnClick:Mr,isCurrentPlayer:tt===(q&&L==="guest"?1:0),revealAll:Ue==="ended",winningColumns:Ue==="ended"?_a():void 0,xWinner:Ue==="ended"?Lo():void 0,bottomPlayerId:q&&L==="guest"?"p2":"p1",selectedSkin:da,selectedCardSkin:ga,selectedBoardSkin:kr,scoringStep:B})})]}),b.jsxs("footer",{className:"controls",children:[Ue==="playing"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"hand-container",children:b.jsx(z_,{hand:zi[q&&L==="guest"?1:0].hand,selectedCardId:s,onCardSelect:Ho,isHidden:!1,isCurrentPlayer:tt===(q&&L==="guest"?1:0)})}),tt===(q&&L==="guest"?1:0)&&b.jsx("div",{className:"action-bar",children:b.jsx("div",{className:"place-controls",children:b.jsxs("label",{className:"toggle-hidden",children:[b.jsx("input",{type:"checkbox",checked:u,onChange:K=>c(K.target.checked),disabled:!s||ms.hiddenCardsCount>=3}),"Place Face Down (",3-ms.hiddenCardsCount," left)"]})})})]}),Ue==="scoring"&&b.jsx("div",{className:"status-message",children:"Calculating Scores..."}),Ue==="ended"&&!_e&&b.jsxs("div",{className:"end-game-controls",style:{display:"flex",gap:"10px"},children:[b.jsx("button",{className:"btn-primary",onClick:()=>{Me(),B===-1?I(0):me(!0)},children:B===-1?"Show Results":"Show Details"}),b.jsx("button",{className:"btn-secondary",onClick:()=>{Me(),D("online"),M(null),Y(null),P(!1),ye(!1),O(null),n({type:"SYNC_STATE",payload:ki})},children:"Back to Lobby"})]}),Ue==="ended"&&_e&&b.jsx(L_,{gameState:l,onRestart:wn,onClose:()=>{q?lt():D("online"),me(!1),I(-1)},onViewBoard:()=>me(!1),p1Name:jr,p2Name:xr,ratingUpdates:Oe})]})]})}),f&&b.jsx(I_,{targetValues:l.players[tt].dice,onComplete:()=>p(!1),selectedSkin:da}),g&&b.jsx(Y_,{onClose:()=>{Me(),m(!1)}}),v&&b.jsx("div",{className:"modal-overlay",children:b.jsxs("div",{className:"modal-content",children:[b.jsx("h3",{children:"Rematch Request"}),b.jsx("p",{children:"Opponent wants to play again."}),b.jsxs("div",{className:"modal-actions",children:[b.jsx("button",{className:"btn-secondary",onClick:()=>{w(!1)},children:"Cancel"}),b.jsx("button",{className:"btn-primary",onClick:()=>{le.emit("accept_rematch",{roomId:G})},children:"OK"})]})]})}),_&&!v&&b.jsx("div",{style:{position:"fixed",top:"100px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.8)",padding:"10px 20px",borderRadius:"20px",color:"white",zIndex:3e3},children:"Waiting for opponent..."}),E&&b.jsx("div",{className:"finish-overlay",children:b.jsx("h1",{className:"finish-text",children:"FINISH!!"})})]})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(l){for(let n of l)n.unregister()});A_.createRoot(document.getElementById("root")).render(b.jsx(Z.StrictMode,{children:b.jsx(fE,{})}));
