function p_(l,n){for(var s=0;s<n.length;s++){const r=n[s];if(typeof r!="string"&&!Array.isArray(r)){for(const u in r)if(u!=="default"&&!(u in l)){const c=Object.getOwnPropertyDescriptor(r,u);c&&Object.defineProperty(l,u,c.get?c:{enumerable:!0,get:()=>r[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function g_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Or(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var s=function r(){var u=!1;try{u=this instanceof r}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(r){var u=Object.getOwnPropertyDescriptor(l,r);Object.defineProperty(s,r,u.get?u:{enumerable:!0,get:function(){return l[r]}})}),s}var Yc={exports:{}},fr={};var Dg;function m_(){if(Dg)return fr;Dg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var p in u)p!=="key"&&(c[p]=u[p])}else c=u;return u=c.ref,{$$typeof:l,type:r,key:f,ref:u!==void 0?u:null,props:c}}return fr.Fragment=n,fr.jsx=s,fr.jsxs=s,fr}var Ug;function y_(){return Ug||(Ug=1,Yc.exports=m_()),Yc.exports}var b=y_(),Kc={exports:{}},pe={};var Mg;function v_(){if(Mg)return pe;Mg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),v=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function D(O,V,K){this.props=O,this.context=V,this.refs=C,this.updater=K||w}D.prototype.isReactComponent={},D.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=D.prototype;function U(O,V,K){this.props=O,this.context=V,this.refs=C,this.updater=K||w}var q=U.prototype=new H;q.constructor=U,R(q,D.prototype),q.isPureReactComponent=!0;var Y=Array.isArray;function G(){}var P={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function ue(O,V,K){var W=K.ref;return{$$typeof:l,type:O,key:V,ref:W!==void 0?W:null,props:K}}function fe(O,V){return ue(O.type,V,O.props)}function ge(O){return typeof O=="object"&&O!==null&&O.$$typeof===l}function $e(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(K){return V[K]})}var xe=/\/+/g;function it(O,V){return typeof O=="object"&&O!==null&&O.key!=null?$e(""+O.key):V.toString(36)}function st(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(G,G):(O.status="pending",O.then(function(V){O.status==="pending"&&(O.status="fulfilled",O.value=V)},function(V){O.status==="pending"&&(O.status="rejected",O.reason=V)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,V,K,W,de){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(ve){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case l:case n:ke=!0;break;case _:return ke=O._init,B(ke(O._payload),V,K,W,de)}}if(ke)return de=de(O),ke=W===""?"."+it(O,0):W,Y(de)?(K="",ke!=null&&(K=ke.replace(xe,"$&/")+"/"),B(de,V,K,"",function(Dt){return Dt})):de!=null&&(ge(de)&&(de=fe(de,K+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(xe,"$&/")+"/")+ke)),V.push(de)),1;ke=0;var vt=W===""?".":W+":";if(Y(O))for(var Ze=0;Ze<O.length;Ze++)W=O[Ze],ve=vt+it(W,Ze),ke+=B(W,V,K,ve,de);else if(Ze=E(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(W=O.next()).done;)W=W.value,ve=vt+it(W,Ze++),ke+=B(W,V,K,ve,de);else if(ve==="object"){if(typeof O.then=="function")return B(st(O),V,K,W,de);throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ke}function I(O,V,K){if(O==null)return O;var W=[],de=0;return B(O,W,"","",function(ve){return V.call(K,ve,de++)}),W}function se(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(K){(O._status===0||O._status===-1)&&(O._status=1,O._result=K)},function(K){(O._status===0||O._status===-1)&&(O._status=2,O._result=K)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},_e={map:I,forEach:function(O,V,K){I(O,function(){V.apply(this,arguments)},K)},count:function(O){var V=0;return I(O,function(){V++}),V},toArray:function(O){return I(O,function(V){return V})||[]},only:function(O){if(!ge(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return pe.Activity=S,pe.Children=_e,pe.Component=D,pe.Fragment=s,pe.Profiler=u,pe.PureComponent=U,pe.StrictMode=r,pe.Suspense=g,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,pe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return P.H.useMemoCache(O)}},pe.cache=function(O){return function(){return O.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(O,V,K){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var W=R({},O.props),de=O.key;if(V!=null)for(ve in V.key!==void 0&&(de=""+V.key),V)!he.call(V,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&V.ref===void 0||(W[ve]=V[ve]);var ve=arguments.length-2;if(ve===1)W.children=K;else if(1<ve){for(var ke=Array(ve),vt=0;vt<ve;vt++)ke[vt]=arguments[vt+2];W.children=ke}return ue(O.type,de,W)},pe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},pe.createElement=function(O,V,K){var W,de={},ve=null;if(V!=null)for(W in V.key!==void 0&&(ve=""+V.key),V)he.call(V,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(de[W]=V[W]);var ke=arguments.length-2;if(ke===1)de.children=K;else if(1<ke){for(var vt=Array(ke),Ze=0;Ze<ke;Ze++)vt[Ze]=arguments[Ze+2];de.children=vt}if(O&&O.defaultProps)for(W in ke=O.defaultProps,ke)de[W]===void 0&&(de[W]=ke[W]);return ue(O,ve,de)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(O){return{$$typeof:p,render:O}},pe.isValidElement=ge,pe.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:se}},pe.memo=function(O,V){return{$$typeof:m,type:O,compare:V===void 0?null:V}},pe.startTransition=function(O){var V=P.T,K={};P.T=K;try{var W=O(),de=P.S;de!==null&&de(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(G,ce)}catch(ve){ce(ve)}finally{V!==null&&K.types!==null&&(V.types=K.types),P.T=V}},pe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},pe.use=function(O){return P.H.use(O)},pe.useActionState=function(O,V,K){return P.H.useActionState(O,V,K)},pe.useCallback=function(O,V){return P.H.useCallback(O,V)},pe.useContext=function(O){return P.H.useContext(O)},pe.useDebugValue=function(){},pe.useDeferredValue=function(O,V){return P.H.useDeferredValue(O,V)},pe.useEffect=function(O,V){return P.H.useEffect(O,V)},pe.useEffectEvent=function(O){return P.H.useEffectEvent(O)},pe.useId=function(){return P.H.useId()},pe.useImperativeHandle=function(O,V,K){return P.H.useImperativeHandle(O,V,K)},pe.useInsertionEffect=function(O,V){return P.H.useInsertionEffect(O,V)},pe.useLayoutEffect=function(O,V){return P.H.useLayoutEffect(O,V)},pe.useMemo=function(O,V){return P.H.useMemo(O,V)},pe.useOptimistic=function(O,V){return P.H.useOptimistic(O,V)},pe.useReducer=function(O,V,K){return P.H.useReducer(O,V,K)},pe.useRef=function(O){return P.H.useRef(O)},pe.useState=function(O){return P.H.useState(O)},pe.useSyncExternalStore=function(O,V,K){return P.H.useSyncExternalStore(O,V,K)},pe.useTransition=function(){return P.H.useTransition()},pe.version="19.2.1",pe}var Bg;function Dh(){return Bg||(Bg=1,Kc.exports=v_()),Kc.exports}var Z=Dh(),Xc={exports:{}},dr={},Jc={exports:{}},Qc={};var zg;function __(){return zg||(zg=1,(function(l){function n(B,I){var se=B.length;B.push(I);e:for(;0<se;){var ce=se-1>>>1,_e=B[ce];if(0<u(_e,I))B[ce]=I,B[se]=_e,se=ce;else break e}}function s(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var I=B[0],se=B.pop();if(se!==I){B[0]=se;e:for(var ce=0,_e=B.length,O=_e>>>1;ce<O;){var V=2*(ce+1)-1,K=B[V],W=V+1,de=B[W];if(0>u(K,se))W<_e&&0>u(de,K)?(B[ce]=de,B[W]=se,ce=W):(B[ce]=K,B[V]=se,ce=V);else if(W<_e&&0>u(de,se))B[ce]=de,B[W]=se,ce=W;else break e}}return I}function u(B,I){var se=B.sortIndex-I.sortIndex;return se!==0?se:B.id-I.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();l.unstable_now=function(){return f.now()-p}}var g=[],m=[],_=1,S=null,v=3,E=!1,w=!1,R=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function q(B){for(var I=s(m);I!==null;){if(I.callback===null)r(m);else if(I.startTime<=B)r(m),I.sortIndex=I.expirationTime,n(g,I);else break;I=s(m)}}function Y(B){if(R=!1,q(B),!w)if(s(g)!==null)w=!0,G||(G=!0,$e());else{var I=s(m);I!==null&&st(Y,I.startTime-B)}}var G=!1,P=-1,he=5,ue=-1;function fe(){return C?!0:!(l.unstable_now()-ue<he)}function ge(){if(C=!1,G){var B=l.unstable_now();ue=B;var I=!0;try{e:{w=!1,R&&(R=!1,H(P),P=-1),E=!0;var se=v;try{t:{for(q(B),S=s(g);S!==null&&!(S.expirationTime>B&&fe());){var ce=S.callback;if(typeof ce=="function"){S.callback=null,v=S.priorityLevel;var _e=ce(S.expirationTime<=B);if(B=l.unstable_now(),typeof _e=="function"){S.callback=_e,q(B),I=!0;break t}S===s(g)&&r(g),q(B)}else r(g);S=s(g)}if(S!==null)I=!0;else{var O=s(m);O!==null&&st(Y,O.startTime-B),I=!1}}break e}finally{S=null,v=se,E=!1}I=void 0}}finally{I?$e():G=!1}}}var $e;if(typeof U=="function")$e=function(){U(ge)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,it=xe.port2;xe.port1.onmessage=ge,$e=function(){it.postMessage(null)}}else $e=function(){D(ge,0)};function st(B,I){P=D(function(){B(l.unstable_now())},I)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(B){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var se=v;v=I;try{return B()}finally{v=se}},l.unstable_requestPaint=function(){C=!0},l.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=v;v=B;try{return I()}finally{v=se}},l.unstable_scheduleCallback=function(B,I,se){var ce=l.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ce+se:ce):se=ce,B){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=se+_e,B={id:_++,callback:I,priorityLevel:B,startTime:se,expirationTime:_e,sortIndex:-1},se>ce?(B.sortIndex=se,n(m,B),s(g)===null&&B===s(m)&&(R?(H(P),P=-1):R=!0,st(Y,se-ce))):(B.sortIndex=_e,n(g,B),w||E||(w=!0,G||(G=!0,$e()))),B},l.unstable_shouldYield=fe,l.unstable_wrapCallback=function(B){var I=v;return function(){var se=v;v=I;try{return B.apply(this,arguments)}finally{v=se}}}})(Qc)),Qc}var qg;function b_(){return qg||(qg=1,Jc.exports=__()),Jc.exports}var Zc={exports:{}},xt={};var Lg;function S_(){if(Lg)return xt;Lg=1;var l=Dh();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(g,m,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:g,containerInfo:m,implementation:_}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xt.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(g,m,null,_)},xt.flushSync=function(g){var m=f.T,_=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=m,r.p=_,r.d.f()}},xt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},xt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},xt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,S=p(_,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:v,fetchPriority:E}):_==="script"&&r.d.X(g,{crossOrigin:S,integrity:v,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},xt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,S=p(_,m.crossOrigin);r.d.L(g,_,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xt.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},xt.requestFormReset=function(g){r.d.r(g)},xt.unstable_batchedUpdates=function(g,m){return g(m)},xt.useFormState=function(g,m,_){return f.H.useFormState(g,m,_)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.1",xt}var Hg;function w_(){if(Hg)return Zc.exports;Hg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Zc.exports=S_(),Zc.exports}var $g;function E_(){if($g)return dr;$g=1;var l=b_(),n=Dh(),s=w_();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var o=i.return;if(o===null)break;var h=o.alternate;if(h===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===i)return g(o),e;if(h===a)return g(o),t;h=h.sibling}throw Error(r(188))}if(i.return!==a.return)i=o,a=h;else{for(var d=!1,y=o.child;y;){if(y===i){d=!0,i=o,a=h;break}if(y===a){d=!0,a=o,i=h;break}y=y.sibling}if(!d){for(y=h.child;y;){if(y===i){d=!0,i=h,a=o;break}if(y===a){d=!0,a=h,i=o;break}y=y.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function it(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case Y:return"Suspense";case G:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case U:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:it(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return it(e(t))}catch{}}return null}var st=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ce=[],_e=-1;function O(e){return{current:e}}function V(e){0>_e||(e.current=ce[_e],ce[_e]=null,_e--)}function K(e,t){_e++,ce[_e]=e.current,e.current=t}var W=O(null),de=O(null),ve=O(null),ke=O(null);function vt(e,t){switch(K(ve,t),K(de,e),K(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ng(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ng(t),e=ig(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(W),K(W,e)}function Ze(){V(W),V(de),V(ve)}function Dt(e){e.memoizedState!==null&&K(ke,e);var t=W.current,i=ig(t,e.type);t!==i&&(K(de,e),K(W,i))}function rs(e){de.current===e&&(V(W),V(de)),ke.current===e&&(V(ke),or._currentValue=se)}var xi,qt;function gn(e){if(xi===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);xi=t&&t[1]||"",qt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xi+e+qt}var ls=!1;function oa(e,t){if(!e||ls)return"";ls=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(M){var N=M}Reflect.construct(e,[],$)}else{try{$.call()}catch(M){N=M}e.call($.prototype)}}else{try{throw Error()}catch(M){N=M}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(M){if(M&&N&&typeof M.stack=="string")return[M.stack,N.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),d=h[0],y=h[1];if(d&&y){var T=d.split(`
`),x=y.split(`
`);for(o=a=0;a<T.length&&!T[a].includes("DetermineComponentFrameRoot");)a++;for(;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;if(a===T.length||o===x.length)for(a=T.length-1,o=x.length-1;1<=a&&0<=o&&T[a]!==x[o];)o--;for(;1<=a&&0<=o;a--,o--)if(T[a]!==x[o]){if(a!==1||o!==1)do if(a--,o--,0>o||T[a]!==x[o]){var z=`
`+T[a].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=a&&0<=o);break}}}finally{ls=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?gn(i):""}function Uo(e,t){switch(e.tag){case 26:case 27:case 5:return gn(e.type);case 16:return gn("Lazy");case 13:return e.child!==t&&t!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return oa(e.type,!1);case 11:return oa(e.type.render,!1);case 1:return oa(e.type,!0);case 31:return gn("Activity");default:return""}}function ua(e){try{var t="",i=null;do t+=Uo(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ni=Object.prototype.hasOwnProperty,ca=l.unstable_scheduleCallback,Di=l.unstable_cancelCallback,Cr=l.unstable_shouldYield,ha=l.unstable_requestPaint,Ut=l.unstable_now,jr=l.unstable_getCurrentPriorityLevel,fa=l.unstable_ImmediatePriority,os=l.unstable_UserBlockingPriority,us=l.unstable_NormalPriority,xr=l.unstable_LowPriority,da=l.unstable_IdlePriority,pa=l.log,ga=l.unstable_setDisableYieldValue,Ui=null,Mt=null;function Tn(e){if(typeof pa=="function"&&ga(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Ui,e)}catch{}}var bt=Math.clz32?Math.clz32:zo,Mo=Math.log,Bo=Math.LN2;function zo(e){return e>>>=0,e===0?32:31-(Mo(e)/Bo|0)|0}var ei=256,cs=262144,St=4194304;function Fe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function An(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var y=a&134217727;return y!==0?(a=y&~h,a!==0?o=Fe(a):(d&=y,d!==0?o=Fe(d):i||(i=y&~e,i!==0&&(o=Fe(i))))):(y=a&~h,y!==0?o=Fe(y):d!==0?o=Fe(d):i||(i=a&~e,i!==0&&(o=Fe(i)))),o===0?0:t!==0&&t!==o&&(t&h)===0&&(h=o&-o,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:o}function Ne(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hs(){var e=St;return St<<=1,(St&62914560)===0&&(St=4194304),e}function ma(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Mi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qo(e,t,i,a,o,h){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,T=e.expirationTimes,x=e.hiddenUpdates;for(i=d&~i;0<i;){var z=31-bt(i),$=1<<z;y[z]=0,T[z]=-1;var N=x[z];if(N!==null)for(x[z]=null,z=0;z<N.length;z++){var M=N[z];M!==null&&(M.lane&=-536870913)}i&=~$}a!==0&&Dr(e,a,0),h!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=h&~(d&~t))}function Dr(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-bt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function ya(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-bt(i),o=1<<a;o&t|e[a]&t&&(e[a]|=t),i&=~o}}function Ur(e,t){var i=t&-t;return i=(i&42)!==0?1:va(i),(i&(e.suspendedLanes|t))!==0?0:i}function va(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _a(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mr(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Og(e.type))}function ba(e,t){var i=I.p;try{return I.p=e,t()}finally{I.p=i}}var Lt=Math.random().toString(36).slice(2),pt="__reactFiber$"+Lt,jt="__reactProps$"+Lt,ti="__reactContainer$"+Lt,Sa="__reactEvents$"+Lt,Lo="__reactListeners$"+Lt,J="__reactHandles$"+Lt,ae="__reactResources$"+Lt,Q="__reactMarker$"+Lt;function Re(e){delete e[pt],delete e[jt],delete e[Sa],delete e[Lo],delete e[J]}function Ye(e){var t=e[pt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ti]||i[pt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=cg(e);e!==null;){if(i=e[pt])return i;e=cg(e)}return t}e=i,i=e.parentNode}return null}function Ue(e){if(e=e[pt]||e[ti]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function We(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Pe(e){var t=e[ae];return t||(t=e[ae]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Te(e){e[Q]=!0}var et=new Set,wt={};function Ve(e,t){Jt(e,t),Jt(e+"Capture",t)}function Jt(e,t){for(wt[e]=t,e=0;e<t.length;e++)et.add(t[e])}var wa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ea={},Bt={};function Br(e){return Ni.call(Bt,e)?!0:Ni.call(Ea,e)?!1:wa.test(e)?Bt[e]=!0:(Ea[e]=!0,!1)}function Ht(e,t,i){if(Br(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function fs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function mn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dn(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ds(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){i=""+d,h.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){if(!e._valueTracker){var t=Dn(e)?"checked":"value";e._valueTracker=ds(e,t,""+e[t])}}function Ta(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Dn(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ov=/[\n"\\]/g;function an(e){return e.replace(ov,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ho(e,t,i,a,o,h,d,y){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+gt(t)):e.value!==""+gt(t)&&(e.value=""+gt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?$o(e,d,gt(t)):i!=null?$o(e,d,gt(i)):a!=null&&e.removeAttribute("value"),o==null&&h!=null&&(e.defaultChecked=!!h),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+gt(y):e.removeAttribute("name")}function Jh(e,t,i,a,o,h,d,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){ps(e);return}i=i!=null?""+gt(i):"",t=t!=null?""+gt(t):i,y||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=y?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),ps(e)}function $o(e,t,i){t==="number"&&zr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function gs(e,t,i,a){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+gt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Qh(e,t,i){if(t!=null&&(t=""+gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+gt(i):""}function Zh(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(st(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=gt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),ps(e)}function ms(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var uv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||uv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Wh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&i[o]!==a&&Fh(e,o,a)}else for(var h in t)t.hasOwnProperty(h)&&Fh(e,h,t[h])}function Vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qr(e){return hv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Un(){}var Go=null;function Po(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,vs=null;function ef(e){var t=Ue(e);if(t&&(e=t.stateNode)){var i=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ho(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var o=a[jt]||null;if(!o)throw Error(r(90));Ho(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&Ta(a)}break e;case"textarea":Qh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&gs(e,!!i.multiple,t,!1)}}}var Io=!1;function tf(e,t,i){if(Io)return e(t,i);Io=!0;try{var a=e(t);return a}finally{if(Io=!1,(ys!==null||vs!==null)&&(Al(),ys&&(t=ys,e=vs,vs=ys=null,ef(t),e)))for(t=0;t<e.length;t++)ef(e[t])}}function Aa(e,t){var i=e.stateNode;if(i===null)return null;var a=i[jt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yo=!1;if(Mn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Yo=!1}var ni=null,Ko=null,Lr=null;function nf(){if(Lr)return Lr;var e,t=Ko,i=t.length,a,o="value"in ni?ni.value:ni.textContent,h=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===o[h-a];a++);return Lr=o.slice(e,1<a?1-a:void 0)}function Hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $r(){return!0}function sf(){return!1}function $t(e){function t(i,a,o,h,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=h,this.target=d,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?$r:sf,this.isPropagationStopped=sf,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),t}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=$t(Bi),Ra=S({},Bi,{view:0,detail:0}),fv=$t(Ra),Xo,Jo,ka,Gr=S({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ka&&(ka&&e.type==="mousemove"?(Xo=e.screenX-ka.screenX,Jo=e.screenY-ka.screenY):Jo=Xo=0,ka=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Jo}}),af=$t(Gr),dv=S({},Gr,{dataTransfer:0}),pv=$t(dv),gv=S({},Ra,{relatedTarget:0}),Qo=$t(gv),mv=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),yv=$t(mv),vv=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_v=$t(vv),bv=S({},Bi,{data:0}),rf=$t(bv),Sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ev[e])?!!t[e]:!1}function Zo(){return Tv}var Av=S({},Ra,{key:function(e){if(e.key){var t=Sv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ov=$t(Av),Rv=S({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=$t(Rv),kv=S({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),Cv=$t(kv),jv=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xv=$t(jv),Nv=S({},Gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=$t(Nv),Uv=S({},Bi,{newState:0,oldState:0}),Mv=$t(Uv),Bv=[9,13,27,32],Fo=Mn&&"CompositionEvent"in window,Ca=null;Mn&&"documentMode"in document&&(Ca=document.documentMode);var zv=Mn&&"TextEvent"in window&&!Ca,of=Mn&&(!Fo||Ca&&8<Ca&&11>=Ca),uf=" ",cf=!1;function hf(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ff(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function qv(e,t){switch(e){case"compositionend":return ff(t);case"keypress":return t.which!==32?null:(cf=!0,uf);case"textInput":return e=t.data,e===uf&&cf?null:e;default:return null}}function Lv(e,t){if(_s)return e==="compositionend"||!Fo&&hf(e,t)?(e=nf(),Lr=Ko=ni=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return of&&t.locale!=="ko"?null:t.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hv[e.type]:t==="textarea"}function pf(e,t,i,a){ys?vs?vs.push(a):vs=[a]:ys=a,t=Nl(t,"onChange"),0<t.length&&(i=new Vr("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var ja=null,xa=null;function $v(e){Qp(e,0)}function Pr(e){var t=We(e);if(Ta(t))return e}function gf(e,t){if(e==="change")return t}var mf=!1;if(Mn){var Wo;if(Mn){var eu="oninput"in document;if(!eu){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),eu=typeof yf.oninput=="function"}Wo=eu}else Wo=!1;mf=Wo&&(!document.documentMode||9<document.documentMode)}function vf(){ja&&(ja.detachEvent("onpropertychange",_f),xa=ja=null)}function _f(e){if(e.propertyName==="value"&&Pr(xa)){var t=[];pf(t,xa,e,Po(e)),tf($v,t)}}function Vv(e,t,i){e==="focusin"?(vf(),ja=t,xa=i,ja.attachEvent("onpropertychange",_f)):e==="focusout"&&vf()}function Gv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pr(xa)}function Pv(e,t){if(e==="click")return Pr(t)}function Iv(e,t){if(e==="input"||e==="change")return Pr(t)}function Yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Yv;function Na(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!Ni.call(t,o)||!Qt(e[o],t[o]))return!1}return!0}function bf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sf(e,t){var i=bf(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=bf(i)}}function wf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=zr(e.document)}return t}function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kv=Mn&&"documentMode"in document&&11>=document.documentMode,bs=null,nu=null,Da=null,iu=!1;function Tf(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;iu||bs==null||bs!==zr(a)||(a=bs,"selectionStart"in a&&tu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Da&&Na(Da,a)||(Da=a,a=Nl(nu,"onSelect"),0<a.length&&(t=new Vr("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=bs)))}function zi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ss={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},su={},Af={};Mn&&(Af=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function qi(e){if(su[e])return su[e];if(!Ss[e])return e;var t=Ss[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Af)return su[e]=t[i];return e}var Of=qi("animationend"),Rf=qi("animationiteration"),kf=qi("animationstart"),Xv=qi("transitionrun"),Jv=qi("transitionstart"),Qv=qi("transitioncancel"),Cf=qi("transitionend"),jf=new Map,au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");au.push("scrollEnd");function yn(e,t){jf.set(e,t),Ve(t,[e])}var Ir=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rn=[],ws=0,ru=0;function Yr(){for(var e=ws,t=ru=ws=0;t<e;){var i=rn[t];rn[t++]=null;var a=rn[t];rn[t++]=null;var o=rn[t];rn[t++]=null;var h=rn[t];if(rn[t++]=null,a!==null&&o!==null){var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}h!==0&&xf(i,o,h)}}function Kr(e,t,i,a){rn[ws++]=e,rn[ws++]=t,rn[ws++]=i,rn[ws++]=a,ru|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function lu(e,t,i,a){return Kr(e,t,i,a),Xr(e)}function Li(e,t){return Kr(e,null,null,t),Xr(e)}function xf(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var o=!1,h=e.return;h!==null;)h.childLanes|=i,a=h.alternate,a!==null&&(a.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(o=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,o&&t!==null&&(o=31-bt(i),e=h.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=i|536870912),h):null}function Xr(e){if(50<tr)throw tr=0,mc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Es={};function Zv(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,i,a){return new Zv(e,t,i,a)}function ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,t){var i=e.alternate;return i===null?(i=Zt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Nf(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Jr(e,t,i,a,o,h){var d=0;if(a=e,typeof e=="function")ou(e)&&(d=1);else if(typeof e=="string")d=n_(e,i,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Zt(31,i,t,o),e.elementType=ue,e.lanes=h,e;case R:return Hi(i.children,o,h,t);case C:d=8,o|=24;break;case D:return e=Zt(12,i,t,o|2),e.elementType=D,e.lanes=h,e;case Y:return e=Zt(13,i,t,o),e.elementType=Y,e.lanes=h,e;case G:return e=Zt(19,i,t,o),e.elementType=G,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:d=10;break e;case H:d=9;break e;case q:d=11;break e;case P:d=14;break e;case he:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Zt(d,i,t,o),t.elementType=e,t.type=a,t.lanes=h,t}function Hi(e,t,i,a){return e=Zt(7,e,a,t),e.lanes=i,e}function uu(e,t,i){return e=Zt(6,e,null,t),e.lanes=i,e}function Df(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function cu(e,t,i){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Uf=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var i=Uf.get(e);return i!==void 0?i:(t={value:e,source:t,stack:ua(t)},Uf.set(e,t),t)}return{value:e,source:t,stack:ua(t)}}var Ts=[],As=0,Qr=null,Ua=0,on=[],un=0,ii=null,On=1,Rn="";function zn(e,t){Ts[As++]=Ua,Ts[As++]=Qr,Qr=e,Ua=t}function Mf(e,t,i){on[un++]=On,on[un++]=Rn,on[un++]=ii,ii=e;var a=On;e=Rn;var o=32-bt(a)-1;a&=~(1<<o),i+=1;var h=32-bt(t)+o;if(30<h){var d=o-o%5;h=(a&(1<<d)-1).toString(32),a>>=d,o-=d,On=1<<32-bt(t)+o|i<<o|a,Rn=h+e}else On=1<<h|i<<o|a,Rn=e}function hu(e){e.return!==null&&(zn(e,1),Mf(e,1,0))}function fu(e){for(;e===Qr;)Qr=Ts[--As],Ts[As]=null,Ua=Ts[--As],Ts[As]=null;for(;e===ii;)ii=on[--un],on[un]=null,Rn=on[--un],on[un]=null,On=on[--un],on[un]=null}function Bf(e,t){on[un++]=On,on[un++]=Rn,on[un++]=ii,On=t.id,Rn=t.overflow,ii=e}var Et=null,Ke=null,Ae=!1,si=null,cn=!1,du=Error(r(519));function ai(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ma(ln(t,e)),du}function zf(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[pt]=e,t[jt]=a,i){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(i=0;i<ir.length;i++)Se(ir[i],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Jh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Zh(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||eg(t.textContent,i)?(a.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),a.onScroll!=null&&Se("scroll",t),a.onScrollEnd!=null&&Se("scrollend",t),a.onClick!=null&&(t.onclick=Un),t=!0):t=!1,t||ai(e,!0)}function qf(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:Et=Et.return}}function Os(e){if(e!==Et)return!1;if(!Ae)return qf(e),Ae=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||xc(e.type,e.memoizedProps)),i=!i),i&&Ke&&ai(e),qf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ke=ug(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ke=ug(e)}else t===27?(t=Ke,_i(e.type)?(e=Bc,Bc=null,Ke=e):Ke=t):Ke=Et?fn(e.stateNode.nextSibling):null;return!0}function $i(){Ke=Et=null,Ae=!1}function pu(){var e=si;return e!==null&&(It===null?It=e:It.push.apply(It,e),si=null),e}function Ma(e){si===null?si=[e]:si.push(e)}var gu=O(null),Vi=null,qn=null;function ri(e,t,i){K(gu,t._currentValue),t._currentValue=i}function Ln(e){e._currentValue=gu.current,V(gu)}function mu(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function yu(e,t,i,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){var d=o.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=o;for(var T=0;T<t.length;T++)if(y.context===t[T]){h.lanes|=i,y=h.alternate,y!==null&&(y.lanes|=i),mu(h.return,i,e),a||(d=null);break e}h=y.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,h=d.alternate,h!==null&&(h.lanes|=i),mu(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function Rs(e,t,i,a){e=null;for(var o=t,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var y=o.type;Qt(o.pendingProps.value,d.value)||(e!==null?e.push(y):e=[y])}}else if(o===ke.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(or):e=[or])}o=o.return}e!==null&&yu(t,e,i,a),t.flags|=262144}function Zr(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gi(e){Vi=e,qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return Lf(Vi,e)}function Fr(e,t){return Vi===null&&Gi(e),Lf(e,t)}function Lf(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},qn===null){if(e===null)throw Error(r(308));qn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else qn=qn.next=t;return i}var Fv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Wv=l.unstable_scheduleCallback,e0=l.unstable_NormalPriority,lt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vu(){return{controller:new Fv,data:new Map,refCount:0}}function Ba(e){e.refCount--,e.refCount===0&&Wv(e0,function(){e.controller.abort()})}var za=null,_u=0,ks=0,Cs=null;function t0(e,t){if(za===null){var i=za=[];_u=0,ks=wc(),Cs={status:"pending",value:void 0,then:function(a){i.push(a)}}}return _u++,t.then(Hf,Hf),t}function Hf(){if(--_u===0&&za!==null){Cs!==null&&(Cs.status="fulfilled");var e=za;za=null,ks=0,Cs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function n0(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),a}var $f=B.S;B.S=function(e,t){Tp=Ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&t0(e,t),$f!==null&&$f(e,t)};var Pi=O(null);function bu(){var e=Pi.current;return e!==null?e:Ge.pooledCache}function Wr(e,t){t===null?K(Pi,Pi.current):K(Pi,t.pool)}function Vf(){var e=bu();return e===null?null:{parent:lt._currentValue,pool:e}}var js=Error(r(460)),Su=Error(r(474)),el=Error(r(542)),tl={then:function(){}};function Gf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pf(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Un,Un),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yf(e),e;default:if(typeof t.status=="string")t.then(Un,Un);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yf(e),e}throw Yi=t,js}}function Ii(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Yi=i,js):i}}var Yi=null;function If(){if(Yi===null)throw Error(r(459));var e=Yi;return Yi=null,e}function Yf(e){if(e===js||e===el)throw Error(r(483))}var xs=null,qa=0;function nl(e){var t=qa;return qa+=1,xs===null&&(xs=[]),Pf(xs,e,t)}function La(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function il(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Kf(e){function t(k,A){if(e){var j=k.deletions;j===null?(k.deletions=[A],k.flags|=16):j.push(A)}}function i(k,A){if(!e)return null;for(;A!==null;)t(k,A),A=A.sibling;return null}function a(k){for(var A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function o(k,A){return k=Bn(k,A),k.index=0,k.sibling=null,k}function h(k,A,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<A?(k.flags|=67108866,A):j):(k.flags|=67108866,A)):(k.flags|=1048576,A)}function d(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function y(k,A,j,L){return A===null||A.tag!==6?(A=uu(j,k.mode,L),A.return=k,A):(A=o(A,j),A.return=k,A)}function T(k,A,j,L){var ie=j.type;return ie===R?z(k,A,j.props.children,L,j.key):A!==null&&(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===he&&Ii(ie)===A.type)?(A=o(A,j.props),La(A,j),A.return=k,A):(A=Jr(j.type,j.key,j.props,null,k.mode,L),La(A,j),A.return=k,A)}function x(k,A,j,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=cu(j,k.mode,L),A.return=k,A):(A=o(A,j.children||[]),A.return=k,A)}function z(k,A,j,L,ie){return A===null||A.tag!==7?(A=Hi(j,k.mode,L,ie),A.return=k,A):(A=o(A,j),A.return=k,A)}function $(k,A,j){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=uu(""+A,k.mode,j),A.return=k,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return j=Jr(A.type,A.key,A.props,null,k.mode,j),La(j,A),j.return=k,j;case w:return A=cu(A,k.mode,j),A.return=k,A;case he:return A=Ii(A),$(k,A,j)}if(st(A)||$e(A))return A=Hi(A,k.mode,j,null),A.return=k,A;if(typeof A.then=="function")return $(k,nl(A),j);if(A.$$typeof===U)return $(k,Fr(k,A),j);il(k,A)}return null}function N(k,A,j,L){var ie=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ie!==null?null:y(k,A,""+j,L);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return j.key===ie?T(k,A,j,L):null;case w:return j.key===ie?x(k,A,j,L):null;case he:return j=Ii(j),N(k,A,j,L)}if(st(j)||$e(j))return ie!==null?null:z(k,A,j,L,null);if(typeof j.then=="function")return N(k,A,nl(j),L);if(j.$$typeof===U)return N(k,A,Fr(k,j),L);il(k,j)}return null}function M(k,A,j,L,ie){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return k=k.get(j)||null,y(A,k,""+L,ie);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return k=k.get(L.key===null?j:L.key)||null,T(A,k,L,ie);case w:return k=k.get(L.key===null?j:L.key)||null,x(A,k,L,ie);case he:return L=Ii(L),M(k,A,j,L,ie)}if(st(L)||$e(L))return k=k.get(j)||null,z(A,k,L,ie,null);if(typeof L.then=="function")return M(k,A,j,nl(L),ie);if(L.$$typeof===U)return M(k,A,j,Fr(A,L),ie);il(A,L)}return null}function ee(k,A,j,L){for(var ie=null,Ce=null,te=A,ye=A=0,Ee=null;te!==null&&ye<j.length;ye++){te.index>ye?(Ee=te,te=null):Ee=te.sibling;var je=N(k,te,j[ye],L);if(je===null){te===null&&(te=Ee);break}e&&te&&je.alternate===null&&t(k,te),A=h(je,A,ye),Ce===null?ie=je:Ce.sibling=je,Ce=je,te=Ee}if(ye===j.length)return i(k,te),Ae&&zn(k,ye),ie;if(te===null){for(;ye<j.length;ye++)te=$(k,j[ye],L),te!==null&&(A=h(te,A,ye),Ce===null?ie=te:Ce.sibling=te,Ce=te);return Ae&&zn(k,ye),ie}for(te=a(te);ye<j.length;ye++)Ee=M(te,k,ye,j[ye],L),Ee!==null&&(e&&Ee.alternate!==null&&te.delete(Ee.key===null?ye:Ee.key),A=h(Ee,A,ye),Ce===null?ie=Ee:Ce.sibling=Ee,Ce=Ee);return e&&te.forEach(function(Ti){return t(k,Ti)}),Ae&&zn(k,ye),ie}function re(k,A,j,L){if(j==null)throw Error(r(151));for(var ie=null,Ce=null,te=A,ye=A=0,Ee=null,je=j.next();te!==null&&!je.done;ye++,je=j.next()){te.index>ye?(Ee=te,te=null):Ee=te.sibling;var Ti=N(k,te,je.value,L);if(Ti===null){te===null&&(te=Ee);break}e&&te&&Ti.alternate===null&&t(k,te),A=h(Ti,A,ye),Ce===null?ie=Ti:Ce.sibling=Ti,Ce=Ti,te=Ee}if(je.done)return i(k,te),Ae&&zn(k,ye),ie;if(te===null){for(;!je.done;ye++,je=j.next())je=$(k,je.value,L),je!==null&&(A=h(je,A,ye),Ce===null?ie=je:Ce.sibling=je,Ce=je);return Ae&&zn(k,ye),ie}for(te=a(te);!je.done;ye++,je=j.next())je=M(te,k,ye,je.value,L),je!==null&&(e&&je.alternate!==null&&te.delete(je.key===null?ye:je.key),A=h(je,A,ye),Ce===null?ie=je:Ce.sibling=je,Ce=je);return e&&te.forEach(function(d_){return t(k,d_)}),Ae&&zn(k,ye),ie}function He(k,A,j,L){if(typeof j=="object"&&j!==null&&j.type===R&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case E:e:{for(var ie=j.key;A!==null;){if(A.key===ie){if(ie=j.type,ie===R){if(A.tag===7){i(k,A.sibling),L=o(A,j.props.children),L.return=k,k=L;break e}}else if(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===he&&Ii(ie)===A.type){i(k,A.sibling),L=o(A,j.props),La(L,j),L.return=k,k=L;break e}i(k,A);break}else t(k,A);A=A.sibling}j.type===R?(L=Hi(j.props.children,k.mode,L,j.key),L.return=k,k=L):(L=Jr(j.type,j.key,j.props,null,k.mode,L),La(L,j),L.return=k,k=L)}return d(k);case w:e:{for(ie=j.key;A!==null;){if(A.key===ie)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){i(k,A.sibling),L=o(A,j.children||[]),L.return=k,k=L;break e}else{i(k,A);break}else t(k,A);A=A.sibling}L=cu(j,k.mode,L),L.return=k,k=L}return d(k);case he:return j=Ii(j),He(k,A,j,L)}if(st(j))return ee(k,A,j,L);if($e(j)){if(ie=$e(j),typeof ie!="function")throw Error(r(150));return j=ie.call(j),re(k,A,j,L)}if(typeof j.then=="function")return He(k,A,nl(j),L);if(j.$$typeof===U)return He(k,A,Fr(k,j),L);il(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,A!==null&&A.tag===6?(i(k,A.sibling),L=o(A,j),L.return=k,k=L):(i(k,A),L=uu(j,k.mode,L),L.return=k,k=L),d(k)):i(k,A)}return function(k,A,j,L){try{qa=0;var ie=He(k,A,j,L);return xs=null,ie}catch(te){if(te===js||te===el)throw te;var Ce=Zt(29,te,null,k.mode);return Ce.lanes=L,Ce.return=k,Ce}finally{}}}var Ki=Kf(!0),Xf=Kf(!1),li=!1;function wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ui(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(De&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=Xr(e),xf(e,null,i),t}return Kr(e,a,t,i),Xr(e)}function Ha(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,ya(e,i)}}function Tu(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?o=h=d:h=h.next=d,i=i.next}while(i!==null);h===null?o=h=t:h=h.next=t}else o=h=t;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Au=!1;function $a(){if(Au){var e=Cs;if(e!==null)throw e}}function Va(e,t,i,a){Au=!1;var o=e.updateQueue;li=!1;var h=o.firstBaseUpdate,d=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var T=y,x=T.next;T.next=null,d===null?h=x:d.next=x,d=T;var z=e.alternate;z!==null&&(z=z.updateQueue,y=z.lastBaseUpdate,y!==d&&(y===null?z.firstBaseUpdate=x:y.next=x,z.lastBaseUpdate=T))}if(h!==null){var $=o.baseState;d=0,z=x=T=null,y=h;do{var N=y.lane&-536870913,M=N!==y.lane;if(M?(we&N)===N:(a&N)===N){N!==0&&N===ks&&(Au=!0),z!==null&&(z=z.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ee=e,re=y;N=t;var He=i;switch(re.tag){case 1:if(ee=re.payload,typeof ee=="function"){$=ee.call(He,$,N);break e}$=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,N=typeof ee=="function"?ee.call(He,$,N):ee,N==null)break e;$=S({},$,N);break e;case 2:li=!0}}N=y.callback,N!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[N]:M.push(N))}else M={lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},z===null?(x=z=M,T=$):z=z.next=M,d|=N;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;M=y,y=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);z===null&&(T=$),o.baseState=T,o.firstBaseUpdate=x,o.lastBaseUpdate=z,h===null&&(o.shared.lanes=0),pi|=d,e.lanes=d,e.memoizedState=$}}function Jf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Qf(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Jf(i[e],t)}var Ns=O(null),sl=O(0);function Zf(e,t){e=Xn,K(sl,e),K(Ns,t),Xn=e|t.baseLanes}function Ou(){K(sl,Xn),K(Ns,Ns.current)}function Ru(){Xn=sl.current,V(Ns),V(sl)}var Ft=O(null),hn=null;function ci(e){var t=e.alternate;K(at,at.current&1),K(Ft,e),hn===null&&(t===null||Ns.current!==null||t.memoizedState!==null)&&(hn=e)}function ku(e){K(at,at.current),K(Ft,e),hn===null&&(hn=e)}function Ff(e){e.tag===22?(K(at,at.current),K(Ft,e),hn===null&&(hn=e)):hi()}function hi(){K(at,at.current),K(Ft,Ft.current)}function Wt(e){V(Ft),hn===e&&(hn=null),V(at)}var at=O(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Uc(i)||Mc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hn=0,me=null,qe=null,ot=null,rl=!1,Ds=!1,Xi=!1,ll=0,Ga=0,Us=null,i0=0;function tt(){throw Error(r(321))}function Cu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Qt(e[i],t[i]))return!1;return!0}function ju(e,t,i,a,o,h){return Hn=h,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Md:Iu,Xi=!1,h=i(a,o),Xi=!1,Ds&&(h=ed(t,i,a,o)),Wf(e),h}function Wf(e){B.H=Ya;var t=qe!==null&&qe.next!==null;if(Hn=0,ot=qe=me=null,rl=!1,Ga=0,Us=null,t)throw Error(r(300));e===null||ut||(e=e.dependencies,e!==null&&Zr(e)&&(ut=!0))}function ed(e,t,i,a){me=e;var o=0;do{if(Ds&&(Us=null),Ga=0,Ds=!1,25<=o)throw Error(r(301));if(o+=1,ot=qe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=Bd,h=t(i,a)}while(Ds);return h}function s0(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Pa(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(me.flags|=1024),t}function xu(){var e=ll!==0;return ll=0,e}function Nu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Du(e){if(rl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rl=!1}Hn=0,ot=qe=me=null,Ds=!1,Ga=ll=0,Us=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?me.memoizedState=ot=e:ot=ot.next=e,ot}function rt(){if(qe===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=ot===null?me.memoizedState:ot.next;if(t!==null)ot=t,qe=e;else{if(e===null)throw me.alternate===null?Error(r(467)):Error(r(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ot===null?me.memoizedState=ot=e:ot=ot.next=e}return ot}function ol(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(e){var t=Ga;return Ga+=1,Us===null&&(Us=[]),e=Pf(Us,e,t),t=me,(ot===null?t.memoizedState:ot.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Md:Iu),e}function ul(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pa(e);if(e.$$typeof===U)return Tt(e)}throw Error(r(438,String(e)))}function Uu(e){var t=null,i=me.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=me.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=ol(),me.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=fe;return t.index++,i}function $n(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=rt();return Mu(t,qe,e)}function Mu(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var o=e.baseQueue,h=a.pending;if(h!==null){if(o!==null){var d=o.next;o.next=h.next,h.next=d}t.baseQueue=o=h,a.pending=null}if(h=e.baseState,o===null)e.memoizedState=h;else{t=o.next;var y=d=null,T=null,x=t,z=!1;do{var $=x.lane&-536870913;if($!==x.lane?(we&$)===$:(Hn&$)===$){var N=x.revertLane;if(N===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),$===ks&&(z=!0);else if((Hn&N)===N){x=x.next,N===ks&&(z=!0);continue}else $={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},T===null?(y=T=$,d=h):T=T.next=$,me.lanes|=N,pi|=N;$=x.action,Xi&&i(h,$),h=x.hasEagerState?x.eagerState:i(h,$)}else N={lane:$,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},T===null?(y=T=N,d=h):T=T.next=N,me.lanes|=$,pi|=$;x=x.next}while(x!==null&&x!==t);if(T===null?d=h:T.next=y,!Qt(h,e.memoizedState)&&(ut=!0,z&&(i=Cs,i!==null)))throw i;e.memoizedState=h,e.baseState=d,e.baseQueue=T,a.lastRenderedState=h}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Bu(e){var t=rt(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,h=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do h=e(h,d.action),d=d.next;while(d!==o);Qt(h,t.memoizedState)||(ut=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,a]}function td(e,t,i){var a=me,o=rt(),h=Ae;if(h){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!Qt((qe||o).memoizedState,i);if(d&&(o.memoizedState=i,ut=!0),o=o.queue,Lu(sd.bind(null,a,o,e),[e]),o.getSnapshot!==t||d||ot!==null&&ot.memoizedState.tag&1){if(a.flags|=2048,Ms(9,{destroy:void 0},id.bind(null,a,o,i,t),null),Ge===null)throw Error(r(349));h||(Hn&127)!==0||nd(a,t,i)}return i}function nd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=me.updateQueue,t===null?(t=ol(),me.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function id(e,t,i,a){t.value=i,t.getSnapshot=a,ad(t)&&rd(e)}function sd(e,t,i){return i(function(){ad(t)&&rd(e)})}function ad(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Qt(e,i)}catch{return!0}}function rd(e){var t=Li(e,2);t!==null&&Yt(t,e,2)}function zu(e){var t=zt();if(typeof e=="function"){var i=e;if(e=i(),Xi){Tn(!0);try{i()}finally{Tn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},t}function ld(e,t,i,a){return e.baseState=i,Mu(e,qe,typeof a=="function"?a:$n)}function a0(e,t,i,a,o){if(dl(e))throw Error(r(485));if(e=t.action,e!==null){var h={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){h.listeners.push(d)}};B.T!==null?i(!0):h.isTransition=!1,a(h),i=t.pending,i===null?(h.next=t.pending=h,od(t,h)):(h.next=i.next,t.pending=i.next=h)}}function od(e,t){var i=t.action,a=t.payload,o=e.state;if(t.isTransition){var h=B.T,d={};B.T=d;try{var y=i(o,a),T=B.S;T!==null&&T(d,y),ud(e,t,y)}catch(x){qu(e,t,x)}finally{h!==null&&d.types!==null&&(h.types=d.types),B.T=h}}else try{h=i(o,a),ud(e,t,h)}catch(x){qu(e,t,x)}}function ud(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){cd(e,t,a)},function(a){return qu(e,t,a)}):cd(e,t,i)}function cd(e,t,i){t.status="fulfilled",t.value=i,hd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,od(e,i)))}function qu(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,hd(t),t=t.next;while(t!==a)}e.action=null}function hd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fd(e,t){return t}function dd(e,t){if(Ae){var i=Ge.formState;if(i!==null){e:{var a=me;if(Ae){if(Ke){t:{for(var o=Ke,h=cn;o.nodeType!==8;){if(!h){o=null;break t}if(o=fn(o.nextSibling),o===null){o=null;break t}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){Ke=fn(o.nextSibling),a=o.data==="F!";break e}}ai(a)}a=!1}a&&(t=i[0])}}return i=zt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},i.queue=a,i=Nd.bind(null,me,a),a.dispatch=i,a=zu(!1),h=Pu.bind(null,me,!1,a.queue),a=zt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,i=a0.bind(null,me,o,h,i),o.dispatch=i,a.memoizedState=e,[t,i,!1]}function pd(e){var t=rt();return gd(t,qe,e)}function gd(e,t,i){if(t=Mu(e,t,fd)[0],e=cl($n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Pa(t)}catch(d){throw d===js?el:d}else a=t;t=rt();var o=t.queue,h=o.dispatch;return i!==t.memoizedState&&(me.flags|=2048,Ms(9,{destroy:void 0},r0.bind(null,o,i),null)),[a,h,e]}function r0(e,t){e.action=t}function md(e){var t=rt(),i=qe;if(i!==null)return gd(t,i,e);rt(),t=t.memoizedState,i=rt();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function Ms(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=me.updateQueue,t===null&&(t=ol(),me.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function yd(){return rt().memoizedState}function hl(e,t,i,a){var o=zt();me.flags|=e,o.memoizedState=Ms(1|t,{destroy:void 0},i,a===void 0?null:a)}function fl(e,t,i,a){var o=rt();a=a===void 0?null:a;var h=o.memoizedState.inst;qe!==null&&a!==null&&Cu(a,qe.memoizedState.deps)?o.memoizedState=Ms(t,h,i,a):(me.flags|=e,o.memoizedState=Ms(1|t,h,i,a))}function vd(e,t){hl(8390656,8,e,t)}function Lu(e,t){fl(2048,8,e,t)}function l0(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=ol(),me.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function _d(e){var t=rt().memoizedState;return l0({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function bd(e,t){return fl(4,2,e,t)}function Sd(e,t){return fl(4,4,e,t)}function wd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,i){i=i!=null?i.concat([e]):null,fl(4,4,wd.bind(null,t,e),i)}function Hu(){}function Td(e,t){var i=rt();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&Cu(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Ad(e,t){var i=rt();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&Cu(t,a[1]))return a[0];if(a=e(),Xi){Tn(!0);try{e()}finally{Tn(!1)}}return i.memoizedState=[a,t],a}function $u(e,t,i){return i===void 0||(Hn&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Op(),me.lanes|=e,pi|=e,i)}function Od(e,t,i,a){return Qt(i,t)?i:Ns.current!==null?(e=$u(e,i,a),Qt(e,t)||(ut=!0),e):(Hn&42)===0||(Hn&1073741824)!==0&&(we&261930)===0?(ut=!0,e.memoizedState=i):(e=Op(),me.lanes|=e,pi|=e,t)}function Rd(e,t,i,a,o){var h=I.p;I.p=h!==0&&8>h?h:8;var d=B.T,y={};B.T=y,Pu(e,!1,t,i);try{var T=o(),x=B.S;if(x!==null&&x(y,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=n0(T,a);Ia(e,t,z,nn(e))}else Ia(e,t,a,nn(e))}catch($){Ia(e,t,{then:function(){},status:"rejected",reason:$},nn())}finally{I.p=h,d!==null&&y.types!==null&&(d.types=y.types),B.T=d}}function o0(){}function Vu(e,t,i,a){if(e.tag!==5)throw Error(r(476));var o=kd(e).queue;Rd(e,o,t,se,i===null?o0:function(){return Cd(e),i(a)})}function kd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:se},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cd(e){var t=kd(e);t.next===null&&(t=e.alternate.memoizedState),Ia(e,t.next.queue,{},nn())}function Gu(){return Tt(or)}function jd(){return rt().memoizedState}function xd(){return rt().memoizedState}function u0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=nn();e=oi(i);var a=ui(t,e,i);a!==null&&(Yt(a,t,i),Ha(a,t,i)),t={cache:vu()},e.payload=t;return}t=t.return}}function c0(e,t,i){var a=nn();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},dl(e)?Dd(t,i):(i=lu(e,t,i,a),i!==null&&(Yt(i,e,a),Ud(i,t,a)))}function Nd(e,t,i){var a=nn();Ia(e,t,i,a)}function Ia(e,t,i,a){var o={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(dl(e))Dd(t,o);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var d=t.lastRenderedState,y=h(d,i);if(o.hasEagerState=!0,o.eagerState=y,Qt(y,d))return Kr(e,t,o,0),Ge===null&&Yr(),!1}catch{}finally{}if(i=lu(e,t,o,a),i!==null)return Yt(i,e,a),Ud(i,t,a),!0}return!1}function Pu(e,t,i,a){if(a={lane:2,revertLane:wc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dl(e)){if(t)throw Error(r(479))}else t=lu(e,i,a,2),t!==null&&Yt(t,e,2)}function dl(e){var t=e.alternate;return e===me||t!==null&&t===me}function Dd(e,t){Ds=rl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ud(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,ya(e,i)}}var Ya={readContext:Tt,use:ul,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};Ya.useEffectEvent=tt;var Md={readContext:Tt,use:ul,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:vd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,hl(4194308,4,wd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){hl(4,2,e,t)},useMemo:function(e,t){var i=zt();t=t===void 0?null:t;var a=e();if(Xi){Tn(!0);try{e()}finally{Tn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=zt();if(i!==void 0){var o=i(t);if(Xi){Tn(!0);try{i(t)}finally{Tn(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=c0.bind(null,me,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=zu(e);var t=e.queue,i=Nd.bind(null,me,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Hu,useDeferredValue:function(e,t){var i=zt();return $u(i,e,t)},useTransition:function(){var e=zu(!1);return e=Rd.bind(null,me,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=me,o=zt();if(Ae){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Ge===null)throw Error(r(349));(we&127)!==0||nd(a,t,i)}o.memoizedState=i;var h={value:i,getSnapshot:t};return o.queue=h,vd(sd.bind(null,a,h,e),[e]),a.flags|=2048,Ms(9,{destroy:void 0},id.bind(null,a,h,i,t),null),i},useId:function(){var e=zt(),t=Ge.identifierPrefix;if(Ae){var i=Rn,a=On;i=(a&~(1<<32-bt(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=ll++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=i0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Gu,useFormState:dd,useActionState:dd,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Pu.bind(null,me,!0,i),i.dispatch=t,[e,t]},useMemoCache:Uu,useCacheRefresh:function(){return zt().memoizedState=u0.bind(null,me)},useEffectEvent:function(e){var t=zt(),i={impl:e};return t.memoizedState=i,function(){if((De&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Iu={readContext:Tt,use:ul,useCallback:Td,useContext:Tt,useEffect:Lu,useImperativeHandle:Ed,useInsertionEffect:bd,useLayoutEffect:Sd,useMemo:Ad,useReducer:cl,useRef:yd,useState:function(){return cl($n)},useDebugValue:Hu,useDeferredValue:function(e,t){var i=rt();return Od(i,qe.memoizedState,e,t)},useTransition:function(){var e=cl($n)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:Pa(e),t]},useSyncExternalStore:td,useId:jd,useHostTransitionStatus:Gu,useFormState:pd,useActionState:pd,useOptimistic:function(e,t){var i=rt();return ld(i,qe,e,t)},useMemoCache:Uu,useCacheRefresh:xd};Iu.useEffectEvent=_d;var Bd={readContext:Tt,use:ul,useCallback:Td,useContext:Tt,useEffect:Lu,useImperativeHandle:Ed,useInsertionEffect:bd,useLayoutEffect:Sd,useMemo:Ad,useReducer:Bu,useRef:yd,useState:function(){return Bu($n)},useDebugValue:Hu,useDeferredValue:function(e,t){var i=rt();return qe===null?$u(i,e,t):Od(i,qe.memoizedState,e,t)},useTransition:function(){var e=Bu($n)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:Pa(e),t]},useSyncExternalStore:td,useId:jd,useHostTransitionStatus:Gu,useFormState:md,useActionState:md,useOptimistic:function(e,t){var i=rt();return qe!==null?ld(i,qe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:xd};Bd.useEffectEvent=_d;function Yu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ku={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=nn(),o=oi(a);o.payload=t,i!=null&&(o.callback=i),t=ui(e,o,a),t!==null&&(Yt(t,e,a),Ha(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=nn(),o=oi(a);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=ui(e,o,a),t!==null&&(Yt(t,e,a),Ha(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=nn(),a=oi(i);a.tag=2,t!=null&&(a.callback=t),t=ui(e,a,i),t!==null&&(Yt(t,e,i),Ha(t,e,i))}};function zd(e,t,i,a,o,h,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,d):t.prototype&&t.prototype.isPureReactComponent?!Na(i,a)||!Na(o,h):!0}function qd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Ku.enqueueReplaceState(t,t.state,null)}function Ji(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Ld(e){Ir(e)}function Hd(e){console.error(e)}function $d(e){Ir(e)}function pl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Vd(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Xu(e,t,i){return i=oi(i),i.tag=3,i.payload={element:null},i.callback=function(){pl(e,t)},i}function Gd(e){return e=oi(e),e.tag=3,e}function Pd(e,t,i,a){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var h=a.value;e.payload=function(){return o(h)},e.callback=function(){Vd(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Vd(t,i,a),typeof o!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var y=a.stack;this.componentDidCatch(a.value,{componentStack:y!==null?y:""})})}function h0(e,t,i,a,o){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&Rs(t,i,o,!0),i=Ft.current,i!==null){switch(i.tag){case 31:case 13:return hn===null?Ol():i.alternate===null&&nt===0&&(nt=3),i.flags&=-257,i.flags|=65536,i.lanes=o,a===tl?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),_c(e,a,o)),!1;case 22:return i.flags|=65536,a===tl?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),_c(e,a,o)),!1}throw Error(r(435,i.tag))}return _c(e,a,o),Ol(),!1}if(Ae)return t=Ft.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==du&&(e=Error(r(422),{cause:a}),Ma(ln(e,i)))):(a!==du&&(t=Error(r(423),{cause:a}),Ma(ln(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=ln(a,i),o=Xu(e.stateNode,a,o),Tu(e,o),nt!==4&&(nt=2)),!1;var h=Error(r(520),{cause:a});if(h=ln(h,i),er===null?er=[h]:er.push(h),nt!==4&&(nt=2),t===null)return!0;a=ln(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Xu(i.stateNode,a,e),Tu(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Gd(o),Pd(o,e,i,a),Tu(i,o),!1}i=i.return}while(i!==null);return!1}var Ju=Error(r(461)),ut=!1;function At(e,t,i,a){t.child=e===null?Xf(t,null,i,a):Ki(t,e.child,i,a)}function Id(e,t,i,a,o){i=i.render;var h=t.ref;if("ref"in a){var d={};for(var y in a)y!=="ref"&&(d[y]=a[y])}else d=a;return Gi(t),a=ju(e,t,i,d,h,o),y=xu(),e!==null&&!ut?(Nu(e,t,o),Vn(e,t,o)):(Ae&&y&&hu(t),t.flags|=1,At(e,t,a,o),t.child)}function Yd(e,t,i,a,o){if(e===null){var h=i.type;return typeof h=="function"&&!ou(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,Kd(e,t,h,a,o)):(e=Jr(i.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!ic(e,o)){var d=h.memoizedProps;if(i=i.compare,i=i!==null?i:Na,i(d,a)&&e.ref===t.ref)return Vn(e,t,o)}return t.flags|=1,e=Bn(h,a),e.ref=t.ref,e.return=t,t.child=e}function Kd(e,t,i,a,o){if(e!==null){var h=e.memoizedProps;if(Na(h,a)&&e.ref===t.ref)if(ut=!1,t.pendingProps=a=h,ic(e,o))(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Vn(e,t,o)}return Qu(e,t,i,a,o)}function Xd(e,t,i,a){var o=a.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~h}else a=0,t.child=null;return Jd(e,t,h,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wr(t,h!==null?h.cachePool:null),h!==null?Zf(t,h):Ou(),Ff(t);else return a=t.lanes=536870912,Jd(e,t,h!==null?h.baseLanes|i:i,i,a)}else h!==null?(Wr(t,h.cachePool),Zf(t,h),hi(),t.memoizedState=null):(e!==null&&Wr(t,null),Ou(),hi());return At(e,t,o,i),t.child}function Ka(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jd(e,t,i,a,o){var h=bu();return h=h===null?null:{parent:lt._currentValue,pool:h},t.memoizedState={baseLanes:i,cachePool:h},e!==null&&Wr(t,null),Ou(),Ff(t),e!==null&&Rs(e,t,a,!0),t.childLanes=o,null}function gl(e,t){return t=yl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Qd(e,t,i){return Ki(t,e.child,null,i),e=gl(t,t.pendingProps),e.flags|=2,Wt(t),t.memoizedState=null,e}function f0(e,t,i){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(a.mode==="hidden")return e=gl(t,a),t.lanes=536870912,Ka(null,e);if(ku(t),(e=Ke)?(e=og(e,cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ii!==null?{id:On,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},i=Df(e),i.return=t,t.child=i,Et=t,Ke=null)):e=null,e===null)throw ai(t);return t.lanes=536870912,null}return gl(t,a)}var h=e.memoizedState;if(h!==null){var d=h.dehydrated;if(ku(t),o)if(t.flags&256)t.flags&=-257,t=Qd(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(ut||Rs(e,t,i,!1),o=(i&e.childLanes)!==0,ut||o){if(a=Ge,a!==null&&(d=Ur(a,i),d!==0&&d!==h.retryLane))throw h.retryLane=d,Li(e,d),Yt(a,e,d),Ju;Ol(),t=Qd(e,t,i)}else e=h.treeContext,Ke=fn(d.nextSibling),Et=t,Ae=!0,si=null,cn=!1,e!==null&&Bf(t,e),t=gl(t,a),t.flags|=4096;return t}return e=Bn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ml(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Qu(e,t,i,a,o){return Gi(t),i=ju(e,t,i,a,void 0,o),a=xu(),e!==null&&!ut?(Nu(e,t,o),Vn(e,t,o)):(Ae&&a&&hu(t),t.flags|=1,At(e,t,i,o),t.child)}function Zd(e,t,i,a,o,h){return Gi(t),t.updateQueue=null,i=ed(t,a,i,o),Wf(e),a=xu(),e!==null&&!ut?(Nu(e,t,h),Vn(e,t,h)):(Ae&&a&&hu(t),t.flags|=1,At(e,t,i,h),t.child)}function Fd(e,t,i,a,o){if(Gi(t),t.stateNode===null){var h=Es,d=i.contextType;typeof d=="object"&&d!==null&&(h=Tt(d)),h=new i(a,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ku,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=a,h.state=t.memoizedState,h.refs={},wu(t),d=i.contextType,h.context=typeof d=="object"&&d!==null?Tt(d):Es,h.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Yu(t,i,d,a),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(d=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),d!==h.state&&Ku.enqueueReplaceState(h,h.state,null),Va(t,a,h,o),$a(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){h=t.stateNode;var y=t.memoizedProps,T=Ji(i,y);h.props=T;var x=h.context,z=i.contextType;d=Es,typeof z=="object"&&z!==null&&(d=Tt(z));var $=i.getDerivedStateFromProps;z=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||x!==d)&&qd(t,h,a,d),li=!1;var N=t.memoizedState;h.state=N,Va(t,a,h,o),$a(),x=t.memoizedState,y||N!==x||li?(typeof $=="function"&&(Yu(t,i,$,a),x=t.memoizedState),(T=li||zd(t,i,T,a,N,x,d))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),h.props=a,h.state=x,h.context=d,a=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,Eu(e,t),d=t.memoizedProps,z=Ji(i,d),h.props=z,$=t.pendingProps,N=h.context,x=i.contextType,T=Es,typeof x=="object"&&x!==null&&(T=Tt(x)),y=i.getDerivedStateFromProps,(x=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(d!==$||N!==T)&&qd(t,h,a,T),li=!1,N=t.memoizedState,h.state=N,Va(t,a,h,o),$a();var M=t.memoizedState;d!==$||N!==M||li||e!==null&&e.dependencies!==null&&Zr(e.dependencies)?(typeof y=="function"&&(Yu(t,i,y,a),M=t.memoizedState),(z=li||zd(t,i,z,a,N,M,T)||e!==null&&e.dependencies!==null&&Zr(e.dependencies))?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,M,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,M,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=M),h.props=a,h.state=M,h.context=T,a=z):(typeof h.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),a=!1)}return h=a,ml(e,t),a=(t.flags&128)!==0,h||a?(h=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&a?(t.child=Ki(t,e.child,null,o),t.child=Ki(t,null,i,o)):At(e,t,i,o),t.memoizedState=h.state,e=t.child):e=Vn(e,t,o),e}function Wd(e,t,i,a){return $i(),t.flags|=256,At(e,t,i,a),t.child}var Zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fu(e){return{baseLanes:e,cachePool:Vf()}}function Wu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=tn),e}function ep(e,t,i){var a=t.pendingProps,o=!1,h=(t.flags&128)!==0,d;if((d=h)||(d=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(o?ci(t):hi(),(e=Ke)?(e=og(e,cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ii!==null?{id:On,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},i=Df(e),i.return=t,t.child=i,Et=t,Ke=null)):e=null,e===null)throw ai(t);return Mc(e)?t.lanes=32:t.lanes=536870912,null}var y=a.children;return a=a.fallback,o?(hi(),o=t.mode,y=yl({mode:"hidden",children:y},o),a=Hi(a,o,i,null),y.return=t,a.return=t,y.sibling=a,t.child=y,a=t.child,a.memoizedState=Fu(i),a.childLanes=Wu(e,d,i),t.memoizedState=Zu,Ka(null,a)):(ci(t),ec(t,y))}var T=e.memoizedState;if(T!==null&&(y=T.dehydrated,y!==null)){if(h)t.flags&256?(ci(t),t.flags&=-257,t=tc(e,t,i)):t.memoizedState!==null?(hi(),t.child=e.child,t.flags|=128,t=null):(hi(),y=a.fallback,o=t.mode,a=yl({mode:"visible",children:a.children},o),y=Hi(y,o,i,null),y.flags|=2,a.return=t,y.return=t,a.sibling=y,t.child=a,Ki(t,e.child,null,i),a=t.child,a.memoizedState=Fu(i),a.childLanes=Wu(e,d,i),t.memoizedState=Zu,t=Ka(null,a));else if(ci(t),Mc(y)){if(d=y.nextSibling&&y.nextSibling.dataset,d)var x=d.dgst;d=x,a=Error(r(419)),a.stack="",a.digest=d,Ma({value:a,source:null,stack:null}),t=tc(e,t,i)}else if(ut||Rs(e,t,i,!1),d=(i&e.childLanes)!==0,ut||d){if(d=Ge,d!==null&&(a=Ur(d,i),a!==0&&a!==T.retryLane))throw T.retryLane=a,Li(e,a),Yt(d,e,a),Ju;Uc(y)||Ol(),t=tc(e,t,i)}else Uc(y)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ke=fn(y.nextSibling),Et=t,Ae=!0,si=null,cn=!1,e!==null&&Bf(t,e),t=ec(t,a.children),t.flags|=4096);return t}return o?(hi(),y=a.fallback,o=t.mode,T=e.child,x=T.sibling,a=Bn(T,{mode:"hidden",children:a.children}),a.subtreeFlags=T.subtreeFlags&65011712,x!==null?y=Bn(x,y):(y=Hi(y,o,i,null),y.flags|=2),y.return=t,a.return=t,a.sibling=y,t.child=a,Ka(null,a),a=t.child,y=e.child.memoizedState,y===null?y=Fu(i):(o=y.cachePool,o!==null?(T=lt._currentValue,o=o.parent!==T?{parent:T,pool:T}:o):o=Vf(),y={baseLanes:y.baseLanes|i,cachePool:o}),a.memoizedState=y,a.childLanes=Wu(e,d,i),t.memoizedState=Zu,Ka(e.child,a)):(ci(t),i=e.child,e=i.sibling,i=Bn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function ec(e,t){return t=yl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yl(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function tc(e,t,i){return Ki(t,e.child,null,i),e=ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tp(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),mu(e.return,t,i)}function nc(e,t,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o,treeForkCount:h}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=o,d.treeForkCount=h)}function np(e,t,i){var a=t.pendingProps,o=a.revealOrder,h=a.tail;a=a.children;var d=at.current,y=(d&2)!==0;if(y?(d=d&1|2,t.flags|=128):d&=1,K(at,d),At(e,t,a,i),a=Ae?Ua:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tp(e,i,t);else if(e.tag===19)tp(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&al(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),nc(t,!1,o,i,h,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&al(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}nc(t,!0,i,null,h,a);break;case"together":nc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Vn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),pi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Rs(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=Bn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Bn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function ic(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Zr(e)))}function d0(e,t,i){switch(t.tag){case 3:vt(t,t.stateNode.containerInfo),ri(t,lt,e.memoizedState.cache),$i();break;case 27:case 5:Dt(t);break;case 4:vt(t,t.stateNode.containerInfo);break;case 10:ri(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ku(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ci(t),t.flags|=128,null):(i&t.child.childLanes)!==0?ep(e,t,i):(ci(t),e=Vn(e,t,i),e!==null?e.sibling:null);ci(t);break;case 19:var o=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(Rs(e,t,i,!1),a=(i&t.childLanes)!==0),o){if(a)return np(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(at,at.current),a)break;return null;case 22:return t.lanes=0,Xd(e,t,i,t.pendingProps);case 24:ri(t,lt,e.memoizedState.cache)}return Vn(e,t,i)}function ip(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ut=!0;else{if(!ic(e,i)&&(t.flags&128)===0)return ut=!1,d0(e,t,i);ut=(e.flags&131072)!==0}else ut=!1,Ae&&(t.flags&1048576)!==0&&Mf(t,Ua,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ii(t.elementType),t.type=e,typeof e=="function")ou(e)?(a=Ji(e,a),t.tag=1,t=Fd(null,t,e,a,i)):(t.tag=0,t=Qu(null,t,e,a,i));else{if(e!=null){var o=e.$$typeof;if(o===q){t.tag=11,t=Id(null,t,e,a,i);break e}else if(o===P){t.tag=14,t=Yd(null,t,e,a,i);break e}}throw t=it(e)||e,Error(r(306,t,""))}}return t;case 0:return Qu(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,o=Ji(a,t.pendingProps),Fd(e,t,a,o,i);case 3:e:{if(vt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var h=t.memoizedState;o=h.element,Eu(e,t),Va(t,a,null,i);var d=t.memoizedState;if(a=d.cache,ri(t,lt,a),a!==h.cache&&yu(t,[lt],i,!0),$a(),a=d.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Wd(e,t,a,i);break e}else if(a!==o){o=ln(Error(r(424)),t),Ma(o),t=Wd(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=fn(e.firstChild),Et=t,Ae=!0,si=null,cn=!0,i=Xf(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if($i(),a===o){t=Vn(e,t,i);break e}At(e,t,a,i)}t=t.child}return t;case 26:return ml(e,t),e===null?(i=pg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ae||(i=t.type,e=t.pendingProps,a=Dl(ve.current).createElement(i),a[pt]=t,a[jt]=e,Ot(a,i,e),Te(a),t.stateNode=a):t.memoizedState=pg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Dt(t),e===null&&Ae&&(a=t.stateNode=hg(t.type,t.pendingProps,ve.current),Et=t,cn=!0,o=Ke,_i(t.type)?(Bc=o,Ke=fn(a.firstChild)):Ke=o),At(e,t,t.pendingProps.children,i),ml(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((o=a=Ke)&&(a=G0(a,t.type,t.pendingProps,cn),a!==null?(t.stateNode=a,Et=t,Ke=fn(a.firstChild),cn=!1,o=!0):o=!1),o||ai(t)),Dt(t),o=t.type,h=t.pendingProps,d=e!==null?e.memoizedProps:null,a=h.children,xc(o,h)?a=null:d!==null&&xc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=ju(e,t,s0,null,null,i),or._currentValue=o),ml(e,t),At(e,t,a,i),t.child;case 6:return e===null&&Ae&&((e=i=Ke)&&(i=P0(i,t.pendingProps,cn),i!==null?(t.stateNode=i,Et=t,Ke=null,e=!0):e=!1),e||ai(t)),null;case 13:return ep(e,t,i);case 4:return vt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ki(t,null,a,i):At(e,t,a,i),t.child;case 11:return Id(e,t,t.type,t.pendingProps,i);case 7:return At(e,t,t.pendingProps,i),t.child;case 8:return At(e,t,t.pendingProps.children,i),t.child;case 12:return At(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,ri(t,t.type,a.value),At(e,t,a.children,i),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Gi(t),o=Tt(o),a=a(o),t.flags|=1,At(e,t,a,i),t.child;case 14:return Yd(e,t,t.type,t.pendingProps,i);case 15:return Kd(e,t,t.type,t.pendingProps,i);case 19:return np(e,t,i);case 31:return f0(e,t,i);case 22:return Xd(e,t,i,t.pendingProps);case 24:return Gi(t),a=Tt(lt),e===null?(o=bu(),o===null&&(o=Ge,h=vu(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=i),o=h),t.memoizedState={parent:a,cache:o},wu(t),ri(t,lt,o)):((e.lanes&i)!==0&&(Eu(e,t),Va(t,null,null,i),$a()),o=e.memoizedState,h=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ri(t,lt,a)):(a=h.cache,ri(t,lt,a),a!==o.cache&&yu(t,[lt],i,!0))),At(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Gn(e){e.flags|=4}function sc(e,t,i,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(jp())e.flags|=8192;else throw Yi=tl,Su}else e.flags&=-16777217}function sp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_g(t))if(jp())e.flags|=8192;else throw Yi=tl,Su}function vl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hs():536870912,e.lanes|=t,Ls|=t)}function Xa(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function p0(e,t,i){var a=t.pendingProps;switch(fu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ln(lt),Ze(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Os(t)?Gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pu())),Xe(t),null;case 26:var o=t.type,h=t.memoizedState;return e===null?(Gn(t),h!==null?(Xe(t),sp(t,h)):(Xe(t),sc(t,o,null,a,i))):h?h!==e.memoizedState?(Gn(t),Xe(t),sp(t,h)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Gn(t),Xe(t),sc(t,o,e,a,i)),null;case 27:if(rs(t),i=ve.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}e=W.current,Os(t)?zf(t):(e=hg(o,a,i),t.stateNode=e,Gn(t))}return Xe(t),null;case 5:if(rs(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}if(h=W.current,Os(t))zf(t);else{var d=Dl(ve.current);switch(h){case 1:h=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:h=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":h=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":h=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":h=d.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?h.multiple=!0:a.size&&(h.size=a.size);break;default:h=typeof a.is=="string"?d.createElement(o,{is:a.is}):d.createElement(o)}}h[pt]=t,h[jt]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)h.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=h;e:switch(Ot(h,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Gn(t)}}return Xe(t),sc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Gn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=ve.current,Os(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,o=Et,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[pt]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||eg(e.nodeValue,i)),e||ai(t,!0)}else e=Dl(e).createTextNode(a),e[pt]=t,t.stateNode=e}return Xe(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=Os(t),i!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[pt]=t}else $i(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else i=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Wt(t),t):(Wt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Xe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Os(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[pt]=t}else $i(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else o=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Wt(t),t):(Wt(t),null)}return Wt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==o&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),vl(t,t.updateQueue),Xe(t),null);case 4:return Ze(),e===null&&Oc(t.stateNode.containerInfo),Xe(t),null;case 10:return Ln(t.type),Xe(t),null;case 19:if(V(at),a=t.memoizedState,a===null)return Xe(t),null;if(o=(t.flags&128)!==0,h=a.rendering,h===null)if(o)Xa(a,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=al(e),h!==null){for(t.flags|=128,Xa(a,!1),e=h.updateQueue,t.updateQueue=e,vl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Nf(i,e),i=i.sibling;return K(at,at.current&1|2),Ae&&zn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ut()>El&&(t.flags|=128,o=!0,Xa(a,!1),t.lanes=4194304)}else{if(!o)if(e=al(h),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,vl(t,e),Xa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!Ae)return Xe(t),null}else 2*Ut()-a.renderingStartTime>El&&i!==536870912&&(t.flags|=128,o=!0,Xa(a,!1),t.lanes=4194304);a.isBackwards?(h.sibling=t.child,t.child=h):(e=a.last,e!==null?e.sibling=h:t.child=h,a.last=h)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ut(),e.sibling=null,i=at.current,K(at,o?i&1|2:i&1),Ae&&zn(t,a.treeForkCount),e):(Xe(t),null);case 22:case 23:return Wt(t),Ru(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),i=t.updateQueue,i!==null&&vl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&V(Pi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(lt),Xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function g0(e,t){switch(fu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(lt),Ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return rs(t),null;case 31:if(t.memoizedState!==null){if(Wt(t),t.alternate===null)throw Error(r(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(at),null;case 4:return Ze(),null;case 10:return Ln(t.type),null;case 22:case 23:return Wt(t),Ru(),e!==null&&V(Pi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(lt),null;case 25:return null;default:return null}}function ap(e,t){switch(fu(t),t.tag){case 3:Ln(lt),Ze();break;case 26:case 27:case 5:rs(t);break;case 4:Ze();break;case 31:t.memoizedState!==null&&Wt(t);break;case 13:Wt(t);break;case 19:V(at);break;case 10:Ln(t.type);break;case 22:case 23:Wt(t),Ru(),e!==null&&V(Pi);break;case 24:Ln(lt)}}function Ja(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&e)===e){a=void 0;var h=i.create,d=i.inst;a=h(),d.destroy=a}i=i.next}while(i!==o)}}catch(y){Be(t,t.return,y)}}function fi(e,t,i){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){var d=a.inst,y=d.destroy;if(y!==void 0){d.destroy=void 0,o=t;var T=i,x=y;try{x()}catch(z){Be(o,T,z)}}}a=a.next}while(a!==h)}}catch(z){Be(t,t.return,z)}}function rp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Qf(t,i)}catch(a){Be(e,e.return,a)}}}function lp(e,t,i){i.props=Ji(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Be(e,t,a)}}function Qa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(o){Be(e,t,o)}}function kn(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(o){Be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Be(e,t,o)}else i.current=null}function op(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(o){Be(e,e.return,o)}}function ac(e,t,i){try{var a=e.stateNode;z0(a,e.type,i,t),a[jt]=t}catch(o){Be(e,e.return,o)}}function up(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_i(e.type)||e.tag===4}function rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Un));else if(a!==4&&(a===27&&_i(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(lc(e,t,i),e=e.sibling;e!==null;)lc(e,t,i),e=e.sibling}function _l(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&_i(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(_l(e,t,i),e=e.sibling;e!==null;)_l(e,t,i),e=e.sibling}function cp(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Ot(t,a,i),t[pt]=e,t[jt]=i}catch(h){Be(e,e.return,h)}}var Pn=!1,ct=!1,oc=!1,hp=typeof WeakSet=="function"?WeakSet:Set,_t=null;function m0(e,t){if(e=e.containerInfo,Cc=Hl,e=Ef(e),tu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var d=0,y=-1,T=-1,x=0,z=0,$=e,N=null;t:for(;;){for(var M;$!==i||o!==0&&$.nodeType!==3||(y=d+o),$!==h||a!==0&&$.nodeType!==3||(T=d+a),$.nodeType===3&&(d+=$.nodeValue.length),(M=$.firstChild)!==null;)N=$,$=M;for(;;){if($===e)break t;if(N===i&&++x===o&&(y=d),N===h&&++z===a&&(T=d),(M=$.nextSibling)!==null)break;$=N,N=$.parentNode}$=M}i=y===-1||T===-1?null:{start:y,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(jc={focusedElem:e,selectionRange:i},Hl=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,o=h.memoizedProps,h=h.memoizedState,a=i.stateNode;try{var ee=Ji(i.type,o);e=a.getSnapshotBeforeUpdate(ee,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(re){Be(i,i.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Dc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function fp(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(e,i),a&4&&Ja(5,i);break;case 1:if(Yn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Be(i,i.return,d)}else{var o=Ji(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Be(i,i.return,d)}}a&64&&rp(i),a&512&&Qa(i,i.return);break;case 3:if(Yn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Qf(e,t)}catch(d){Be(i,i.return,d)}}break;case 27:t===null&&a&4&&cp(i);case 26:case 5:Yn(e,i),t===null&&a&4&&op(i),a&512&&Qa(i,i.return);break;case 12:Yn(e,i);break;case 31:Yn(e,i),a&4&&gp(e,i);break;case 13:Yn(e,i),a&4&&mp(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=A0.bind(null,i),I0(e,i))));break;case 22:if(a=i.memoizedState!==null||Pn,!a){t=t!==null&&t.memoizedState!==null||ct,o=Pn;var h=ct;Pn=a,(ct=t)&&!h?Kn(e,i,(i.subtreeFlags&8772)!==0):Yn(e,i),Pn=o,ct=h}break;case 30:break;default:Yn(e,i)}}function dp(e){var t=e.alternate;t!==null&&(e.alternate=null,dp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Re(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Vt=!1;function In(e,t,i){for(i=i.child;i!==null;)pp(e,t,i),i=i.sibling}function pp(e,t,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ui,i)}catch{}switch(i.tag){case 26:ct||kn(i,t),In(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ct||kn(i,t);var a=Je,o=Vt;_i(i.type)&&(Je=i.stateNode,Vt=!1),In(e,t,i),ar(i.stateNode),Je=a,Vt=o;break;case 5:ct||kn(i,t);case 6:if(a=Je,o=Vt,Je=null,In(e,t,i),Je=a,Vt=o,Je!==null)if(Vt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(i.stateNode)}catch(h){Be(i,t,h)}else try{Je.removeChild(i.stateNode)}catch(h){Be(i,t,h)}break;case 18:Je!==null&&(Vt?(e=Je,rg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ks(e)):rg(Je,i.stateNode));break;case 4:a=Je,o=Vt,Je=i.stateNode.containerInfo,Vt=!0,In(e,t,i),Je=a,Vt=o;break;case 0:case 11:case 14:case 15:fi(2,i,t),ct||fi(4,i,t),In(e,t,i);break;case 1:ct||(kn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&lp(i,t,a)),In(e,t,i);break;case 21:In(e,t,i);break;case 22:ct=(a=ct)||i.memoizedState!==null,In(e,t,i),ct=a;break;default:In(e,t,i)}}function gp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ks(e)}catch(i){Be(t,t.return,i)}}}function mp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ks(e)}catch(i){Be(t,t.return,i)}}function y0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hp),t;default:throw Error(r(435,e.tag))}}function bl(e,t){var i=y0(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var o=O0.bind(null,e,a);a.then(o,o)}})}function Gt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a],h=e,d=t,y=d;e:for(;y!==null;){switch(y.tag){case 27:if(_i(y.type)){Je=y.stateNode,Vt=!1;break e}break;case 5:Je=y.stateNode,Vt=!1;break e;case 3:case 4:Je=y.stateNode.containerInfo,Vt=!0;break e}y=y.return}if(Je===null)throw Error(r(160));pp(h,d,o),Je=null,Vt=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yp(t,e),t=t.sibling}var vn=null;function yp(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(t,e),Pt(e),a&4&&(fi(3,e,e.return),Ja(3,e),fi(5,e,e.return));break;case 1:Gt(t,e),Pt(e),a&512&&(ct||i===null||kn(i,i.return)),a&64&&Pn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var o=vn;if(Gt(t,e),Pt(e),a&512&&(ct||i===null||kn(i,i.return)),a&4){var h=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":h=o.getElementsByTagName("title")[0],(!h||h[Q]||h[pt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(a),o.head.insertBefore(h,o.querySelector("head > title"))),Ot(h,a,i),h[pt]=e,Te(h),a=h;break e;case"link":var d=yg("link","href",o).get(a+(i.href||""));if(d){for(var y=0;y<d.length;y++)if(h=d[y],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(y,1);break t}}h=o.createElement(a),Ot(h,a,i),o.head.appendChild(h);break;case"meta":if(d=yg("meta","content",o).get(a+(i.content||""))){for(y=0;y<d.length;y++)if(h=d[y],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(y,1);break t}}h=o.createElement(a),Ot(h,a,i),o.head.appendChild(h);break;default:throw Error(r(468,a))}h[pt]=e,Te(h),a=h}e.stateNode=a}else vg(o,e.type,e.stateNode);else e.stateNode=mg(o,a,e.memoizedProps);else h!==a?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,a===null?vg(o,e.type,e.stateNode):mg(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ac(e,e.memoizedProps,i.memoizedProps)}break;case 27:Gt(t,e),Pt(e),a&512&&(ct||i===null||kn(i,i.return)),i!==null&&a&4&&ac(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Gt(t,e),Pt(e),a&512&&(ct||i===null||kn(i,i.return)),e.flags&32){o=e.stateNode;try{ms(o,"")}catch(ee){Be(e,e.return,ee)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,ac(e,o,i!==null?i.memoizedProps:o)),a&1024&&(oc=!0);break;case 6:if(Gt(t,e),Pt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(ee){Be(e,e.return,ee)}}break;case 3:if(Bl=null,o=vn,vn=Ul(t.containerInfo),Gt(t,e),vn=o,Pt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ks(t.containerInfo)}catch(ee){Be(e,e.return,ee)}oc&&(oc=!1,vp(e));break;case 4:a=vn,vn=Ul(e.stateNode.containerInfo),Gt(t,e),Pt(e),vn=a;break;case 12:Gt(t,e),Pt(e);break;case 31:Gt(t,e),Pt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,bl(e,a)));break;case 13:Gt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(wl=Ut()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,bl(e,a)));break;case 22:o=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,x=Pn,z=ct;if(Pn=x||o,ct=z||T,Gt(t,e),ct=z,Pn=x,Pt(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||T||Pn||ct||Qi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(h=T.stateNode,o)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=T.stateNode;var $=T.memoizedProps.style,N=$!=null&&$.hasOwnProperty("display")?$.display:null;y.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(ee){Be(T,T.return,ee)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=o?"":T.memoizedProps}catch(ee){Be(T,T.return,ee)}}}else if(t.tag===18){if(i===null){T=t;try{var M=T.stateNode;o?lg(M,!0):lg(T.stateNode,!1)}catch(ee){Be(T,T.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,bl(e,i))));break;case 19:Gt(t,e),Pt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,bl(e,a)));break;case 30:break;case 21:break;default:Gt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(up(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,h=rc(e);_l(e,h,o);break;case 5:var d=i.stateNode;i.flags&32&&(ms(d,""),i.flags&=-33);var y=rc(e);_l(e,y,d);break;case 3:case 4:var T=i.stateNode.containerInfo,x=rc(e);lc(e,x,T);break;default:throw Error(r(161))}}catch(z){Be(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fp(e,t.alternate,t),t=t.sibling}function Qi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fi(4,t,t.return),Qi(t);break;case 1:kn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&lp(t,t.return,i),Qi(t);break;case 27:ar(t.stateNode);case 26:case 5:kn(t,t.return),Qi(t);break;case 22:t.memoizedState===null&&Qi(t);break;case 30:Qi(t);break;default:Qi(t)}e=e.sibling}}function Kn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,h=t,d=h.flags;switch(h.tag){case 0:case 11:case 15:Kn(o,h,i),Ja(4,h);break;case 1:if(Kn(o,h,i),a=h,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(x){Be(a,a.return,x)}if(a=h,o=a.updateQueue,o!==null){var y=a.stateNode;try{var T=o.shared.hiddenCallbacks;if(T!==null)for(o.shared.hiddenCallbacks=null,o=0;o<T.length;o++)Jf(T[o],y)}catch(x){Be(a,a.return,x)}}i&&d&64&&rp(h),Qa(h,h.return);break;case 27:cp(h);case 26:case 5:Kn(o,h,i),i&&a===null&&d&4&&op(h),Qa(h,h.return);break;case 12:Kn(o,h,i);break;case 31:Kn(o,h,i),i&&d&4&&gp(o,h);break;case 13:Kn(o,h,i),i&&d&4&&mp(o,h);break;case 22:h.memoizedState===null&&Kn(o,h,i),Qa(h,h.return);break;case 30:break;default:Kn(o,h,i)}t=t.sibling}}function uc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ba(i))}function cc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ba(e))}function _n(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(e,t,i,a),t=t.sibling}function _p(e,t,i,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:_n(e,t,i,a),o&2048&&Ja(9,t);break;case 1:_n(e,t,i,a);break;case 3:_n(e,t,i,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ba(e)));break;case 12:if(o&2048){_n(e,t,i,a),e=t.stateNode;try{var h=t.memoizedProps,d=h.id,y=h.onPostCommit;typeof y=="function"&&y(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Be(t,t.return,T)}}else _n(e,t,i,a);break;case 31:_n(e,t,i,a);break;case 13:_n(e,t,i,a);break;case 23:break;case 22:h=t.stateNode,d=t.alternate,t.memoizedState!==null?h._visibility&2?_n(e,t,i,a):Za(e,t):h._visibility&2?_n(e,t,i,a):(h._visibility|=2,Bs(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&uc(d,t);break;case 24:_n(e,t,i,a),o&2048&&cc(t.alternate,t);break;default:_n(e,t,i,a)}}function Bs(e,t,i,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,d=t,y=i,T=a,x=d.flags;switch(d.tag){case 0:case 11:case 15:Bs(h,d,y,T,o),Ja(8,d);break;case 23:break;case 22:var z=d.stateNode;d.memoizedState!==null?z._visibility&2?Bs(h,d,y,T,o):Za(h,d):(z._visibility|=2,Bs(h,d,y,T,o)),o&&x&2048&&uc(d.alternate,d);break;case 24:Bs(h,d,y,T,o),o&&x&2048&&cc(d.alternate,d);break;default:Bs(h,d,y,T,o)}t=t.sibling}}function Za(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,o=a.flags;switch(a.tag){case 22:Za(i,a),o&2048&&uc(a.alternate,a);break;case 24:Za(i,a),o&2048&&cc(a.alternate,a);break;default:Za(i,a)}t=t.sibling}}var Fa=8192;function zs(e,t,i){if(e.subtreeFlags&Fa)for(e=e.child;e!==null;)bp(e,t,i),e=e.sibling}function bp(e,t,i){switch(e.tag){case 26:zs(e,t,i),e.flags&Fa&&e.memoizedState!==null&&i_(i,vn,e.memoizedState,e.memoizedProps);break;case 5:zs(e,t,i);break;case 3:case 4:var a=vn;vn=Ul(e.stateNode.containerInfo),zs(e,t,i),vn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Fa,Fa=16777216,zs(e,t,i),Fa=a):zs(e,t,i));break;default:zs(e,t,i)}}function Sp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];_t=a,Ep(a,e)}Sp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wp(e),e=e.sibling}function wp(e){switch(e.tag){case 0:case 11:case 15:Wa(e),e.flags&2048&&fi(9,e,e.return);break;case 3:Wa(e);break;case 12:Wa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Sl(e)):Wa(e);break;default:Wa(e)}}function Sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];_t=a,Ep(a,e)}Sp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fi(8,t,t.return),Sl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Sl(t));break;default:Sl(t)}e=e.sibling}}function Ep(e,t){for(;_t!==null;){var i=_t;switch(i.tag){case 0:case 11:case 15:fi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ba(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,_t=a;else e:for(i=e;_t!==null;){a=_t;var o=a.sibling,h=a.return;if(dp(a),a===i){_t=null;break e}if(o!==null){o.return=h,_t=o;break e}_t=h}}}var v0={getCacheForType:function(e){var t=Tt(lt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Tt(lt).controller.signal}},_0=typeof WeakMap=="function"?WeakMap:Map,De=0,Ge=null,be=null,we=0,Me=0,en=null,di=!1,qs=!1,hc=!1,Xn=0,nt=0,pi=0,Zi=0,fc=0,tn=0,Ls=0,er=null,It=null,dc=!1,wl=0,Tp=0,El=1/0,Tl=null,gi=null,mt=0,mi=null,Hs=null,Jn=0,pc=0,gc=null,Ap=null,tr=0,mc=null;function nn(){return(De&2)!==0&&we!==0?we&-we:B.T!==null?wc():Mr()}function Op(){if(tn===0)if((we&536870912)===0||Ae){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),tn=e}else tn=536870912;return e=Ft.current,e!==null&&(e.flags|=32),tn}function Yt(e,t,i){(e===Ge&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&($s(e,0),yi(e,we,tn,!1)),Mi(e,i),((De&2)===0||e!==Ge)&&(e===Ge&&((De&2)===0&&(Zi|=i),nt===4&&yi(e,we,tn,!1)),Cn(e))}function Rp(e,t,i){if((De&6)!==0)throw Error(r(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Ne(e,t),o=a?w0(e,t):vc(e,t,!0),h=a;do{if(o===0){qs&&!a&&yi(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!b0(i)){o=vc(e,t,!1),h=!1;continue}if(o===2){if(h=t,e.errorRecoveryDisabledLanes&h)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var y=e;o=er;var T=y.current.memoizedState.isDehydrated;if(T&&($s(y,d).flags|=256),d=vc(y,d,!1),d!==2){if(hc&&!T){y.errorRecoveryDisabledLanes|=h,Zi|=h,o=4;break e}h=It,It=o,h!==null&&(It===null?It=h:It.push.apply(It,h))}o=d}if(h=!1,o!==2)continue}}if(o===1){$s(e,0),yi(e,t,0,!0);break}e:{switch(a=e,h=o,h){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:yi(a,t,tn,!di);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=wl+300-Ut(),10<o)){if(yi(a,t,tn,!di),An(a,0,!0)!==0)break e;Jn=t,a.timeoutHandle=sg(kp.bind(null,a,i,It,Tl,dc,t,tn,Zi,Ls,di,h,"Throttled",-0,0),o);break e}kp(a,i,It,Tl,dc,t,tn,Zi,Ls,di,h,null,-0,0)}}break}while(!0);Cn(e)}function kp(e,t,i,a,o,h,d,y,T,x,z,$,N,M){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},bp(t,h,$);var ee=(h&62914560)===h?wl-Ut():(h&4194048)===h?Tp-Ut():0;if(ee=s_($,ee),ee!==null){Jn=h,e.cancelPendingCommit=ee(Bp.bind(null,e,t,h,i,a,o,d,y,T,z,$,null,N,M)),yi(e,h,d,!x);return}}Bp(e,t,h,i,a,o,d,y,T)}function b0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var o=i[a],h=o.getSnapshot;o=o.value;try{if(!Qt(h(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yi(e,t,i,a){t&=~fc,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var h=31-bt(o),d=1<<h;a[h]=-1,o&=~d}i!==0&&Dr(e,i,t)}function Al(){return(De&6)===0?(nr(0),!1):!0}function yc(){if(be!==null){if(Me===0)var e=be.return;else e=be,qn=Vi=null,Du(e),xs=null,qa=0,e=be;for(;e!==null;)ap(e.alternate,e),e=e.return;be=null}}function $s(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,H0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Jn=0,yc(),Ge=e,be=i=Bn(e.current,null),we=t,Me=0,en=null,di=!1,qs=Ne(e,t),hc=!1,Ls=tn=fc=Zi=pi=nt=0,It=er=null,dc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-bt(a),h=1<<o;t|=e[o],a&=~h}return Xn=t,Yr(),i}function Cp(e,t){me=null,B.H=Ya,t===js||t===el?(t=If(),Me=3):t===Su?(t=If(),Me=4):Me=t===Ju?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,en=t,be===null&&(nt=1,pl(e,ln(t,e.current)))}function jp(){var e=Ft.current;return e===null?!0:(we&4194048)===we?hn===null:(we&62914560)===we||(we&536870912)!==0?e===hn:!1}function xp(){var e=B.H;return B.H=Ya,e===null?Ya:e}function Np(){var e=B.A;return B.A=v0,e}function Ol(){nt=4,di||(we&4194048)!==we&&Ft.current!==null||(qs=!0),(pi&134217727)===0&&(Zi&134217727)===0||Ge===null||yi(Ge,we,tn,!1)}function vc(e,t,i){var a=De;De|=2;var o=xp(),h=Np();(Ge!==e||we!==t)&&(Tl=null,$s(e,t)),t=!1;var d=nt;e:do try{if(Me!==0&&be!==null){var y=be,T=en;switch(Me){case 8:yc(),d=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(t=!0);var x=Me;if(Me=0,en=null,Vs(e,y,T,x),i&&qs){d=0;break e}break;default:x=Me,Me=0,en=null,Vs(e,y,T,x)}}S0(),d=nt;break}catch(z){Cp(e,z)}while(!0);return t&&e.shellSuspendCounter++,qn=Vi=null,De=a,B.H=o,B.A=h,be===null&&(Ge=null,we=0,Yr()),d}function S0(){for(;be!==null;)Dp(be)}function w0(e,t){var i=De;De|=2;var a=xp(),o=Np();Ge!==e||we!==t?(Tl=null,El=Ut()+500,$s(e,t)):qs=Ne(e,t);e:do try{if(Me!==0&&be!==null){t=be;var h=en;t:switch(Me){case 1:Me=0,en=null,Vs(e,t,h,1);break;case 2:case 9:if(Gf(h)){Me=0,en=null,Up(t);break}t=function(){Me!==2&&Me!==9||Ge!==e||(Me=7),Cn(e)},h.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Gf(h)?(Me=0,en=null,Up(t)):(Me=0,en=null,Vs(e,t,h,7));break;case 5:var d=null;switch(be.tag){case 26:d=be.memoizedState;case 5:case 27:var y=be;if(d?_g(d):y.stateNode.complete){Me=0,en=null;var T=y.sibling;if(T!==null)be=T;else{var x=y.return;x!==null?(be=x,Rl(x)):be=null}break t}}Me=0,en=null,Vs(e,t,h,5);break;case 6:Me=0,en=null,Vs(e,t,h,6);break;case 8:yc(),nt=6;break e;default:throw Error(r(462))}}E0();break}catch(z){Cp(e,z)}while(!0);return qn=Vi=null,B.H=a,B.A=o,De=i,be!==null?0:(Ge=null,we=0,Yr(),nt)}function E0(){for(;be!==null&&!Cr();)Dp(be)}function Dp(e){var t=ip(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?Rl(e):be=t}function Up(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Zd(i,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Zd(i,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:Du(t);default:ap(i,t),t=be=Nf(t,Xn),t=ip(i,t,Xn)}e.memoizedProps=e.pendingProps,t===null?Rl(e):be=t}function Vs(e,t,i,a){qn=Vi=null,Du(t),xs=null,qa=0;var o=t.return;try{if(h0(e,o,t,i,we)){nt=1,pl(e,ln(i,e.current)),be=null;return}}catch(h){if(o!==null)throw be=o,h;nt=1,pl(e,ln(i,e.current)),be=null;return}t.flags&32768?(Ae||a===1?e=!0:qs||(we&536870912)!==0?e=!1:(di=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ft.current,a!==null&&a.tag===13&&(a.flags|=16384))),Mp(t,e)):Rl(t)}function Rl(e){var t=e;do{if((t.flags&32768)!==0){Mp(t,di);return}e=t.return;var i=p0(t.alternate,t,Xn);if(i!==null){be=i;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);nt===0&&(nt=5)}function Mp(e,t){do{var i=g0(e.alternate,e);if(i!==null){i.flags&=32767,be=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=i}while(e!==null);nt=6,be=null}function Bp(e,t,i,a,o,h,d,y,T){e.cancelPendingCommit=null;do kl();while(mt!==0);if((De&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(h=t.lanes|t.childLanes,h|=ru,qo(e,i,h,d,y,T),e===Ge&&(be=Ge=null,we=0),Hs=t,mi=e,Jn=i,pc=h,gc=o,Ap=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,R0(us,function(){return $p(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null,o=I.p,I.p=2,d=De,De|=4;try{m0(e,t,i)}finally{De=d,I.p=o,B.T=a}}mt=1,zp(),qp(),Lp()}}function zp(){if(mt===1){mt=0;var e=mi,t=Hs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var a=I.p;I.p=2;var o=De;De|=4;try{yp(t,e);var h=jc,d=Ef(e.containerInfo),y=h.focusedElem,T=h.selectionRange;if(d!==y&&y&&y.ownerDocument&&wf(y.ownerDocument.documentElement,y)){if(T!==null&&tu(y)){var x=T.start,z=T.end;if(z===void 0&&(z=x),"selectionStart"in y)y.selectionStart=x,y.selectionEnd=Math.min(z,y.value.length);else{var $=y.ownerDocument||document,N=$&&$.defaultView||window;if(N.getSelection){var M=N.getSelection(),ee=y.textContent.length,re=Math.min(T.start,ee),He=T.end===void 0?re:Math.min(T.end,ee);!M.extend&&re>He&&(d=He,He=re,re=d);var k=Sf(y,re),A=Sf(y,He);if(k&&A&&(M.rangeCount!==1||M.anchorNode!==k.node||M.anchorOffset!==k.offset||M.focusNode!==A.node||M.focusOffset!==A.offset)){var j=$.createRange();j.setStart(k.node,k.offset),M.removeAllRanges(),re>He?(M.addRange(j),M.extend(A.node,A.offset)):(j.setEnd(A.node,A.offset),M.addRange(j))}}}}for($=[],M=y;M=M.parentNode;)M.nodeType===1&&$.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<$.length;y++){var L=$[y];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Hl=!!Cc,jc=Cc=null}finally{De=o,I.p=a,B.T=i}}e.current=t,mt=2}}function qp(){if(mt===2){mt=0;var e=mi,t=Hs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var a=I.p;I.p=2;var o=De;De|=4;try{fp(e,t.alternate,t)}finally{De=o,I.p=a,B.T=i}}mt=3}}function Lp(){if(mt===4||mt===3){mt=0,ha();var e=mi,t=Hs,i=Jn,a=Ap;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,Hs=mi=null,Hp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(gi=null),_a(i),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ui,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=B.T,o=I.p,I.p=2,B.T=null;try{for(var h=e.onRecoverableError,d=0;d<a.length;d++){var y=a[d];h(y.value,{componentStack:y.stack})}}finally{B.T=t,I.p=o}}(Jn&3)!==0&&kl(),Cn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===mc?tr++:(tr=0,mc=e):tr=0,nr(0)}}function Hp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ba(t)))}function kl(){return zp(),qp(),Lp(),$p()}function $p(){if(mt!==5)return!1;var e=mi,t=pc;pc=0;var i=_a(Jn),a=B.T,o=I.p;try{I.p=32>i?32:i,B.T=null,i=gc,gc=null;var h=mi,d=Jn;if(mt=0,Hs=mi=null,Jn=0,(De&6)!==0)throw Error(r(331));var y=De;if(De|=4,wp(h.current),_p(h,h.current,d,i),De=y,nr(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ui,h)}catch{}return!0}finally{I.p=o,B.T=a,Hp(e,t)}}function Vp(e,t,i){t=ln(i,t),t=Xu(e.stateNode,t,2),e=ui(e,t,2),e!==null&&(Mi(e,2),Cn(e))}function Be(e,t,i){if(e.tag===3)Vp(e,e,i);else for(;t!==null;){if(t.tag===3){Vp(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(gi===null||!gi.has(a))){e=ln(i,e),i=Gd(2),a=ui(t,i,2),a!==null&&(Pd(i,a,t,e),Mi(a,2),Cn(a));break}}t=t.return}}function _c(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new _0;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(i)||(hc=!0,o.add(i),e=T0.bind(null,e,t,i),t.then(e,e))}function T0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ge===e&&(we&i)===i&&(nt===4||nt===3&&(we&62914560)===we&&300>Ut()-wl?(De&2)===0&&$s(e,0):fc|=i,Ls===we&&(Ls=0)),Cn(e)}function Gp(e,t){t===0&&(t=hs()),e=Li(e,t),e!==null&&(Mi(e,t),Cn(e))}function A0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Gp(e,i)}function O0(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Gp(e,i)}function R0(e,t){return ca(e,t)}var Cl=null,Gs=null,bc=!1,jl=!1,Sc=!1,vi=0;function Cn(e){e!==Gs&&e.next===null&&(Gs===null?Cl=Gs=e:Gs=Gs.next=e),jl=!0,bc||(bc=!0,C0())}function nr(e,t){if(!Sc&&jl){Sc=!0;do for(var i=!1,a=Cl;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var h=0;else{var d=a.suspendedLanes,y=a.pingedLanes;h=(1<<31-bt(42|e)+1)-1,h&=o&~(d&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Kp(a,h))}else h=we,h=An(a,a===Ge?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||Ne(a,h)||(i=!0,Kp(a,h));a=a.next}while(i);Sc=!1}}function k0(){Pp()}function Pp(){jl=bc=!1;var e=0;vi!==0&&L0()&&(e=vi);for(var t=Ut(),i=null,a=Cl;a!==null;){var o=a.next,h=Ip(a,t);h===0?(a.next=null,i===null?Cl=o:i.next=o,o===null&&(Gs=i)):(i=a,(e!==0||(h&3)!==0)&&(jl=!0)),a=o}mt!==0&&mt!==5||nr(e),vi!==0&&(vi=0)}function Ip(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var d=31-bt(h),y=1<<d,T=o[d];T===-1?((y&i)===0||(y&a)!==0)&&(o[d]=Nr(y,t)):T<=t&&(e.expiredLanes|=y),h&=~y}if(t=Ge,i=we,i=An(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Di(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ne(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&Di(a),_a(i)){case 2:case 8:i=os;break;case 32:i=us;break;case 268435456:i=da;break;default:i=us}return a=Yp.bind(null,e),i=ca(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&Di(a),e.callbackPriority=2,e.callbackNode=null,2}function Yp(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(kl()&&e.callbackNode!==i)return null;var a=we;return a=An(e,e===Ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Rp(e,a,t),Ip(e,Ut()),e.callbackNode!=null&&e.callbackNode===i?Yp.bind(null,e):null)}function Kp(e,t){if(kl())return null;Rp(e,t,!0)}function C0(){$0(function(){(De&6)!==0?ca(fa,k0):Pp()})}function wc(){if(vi===0){var e=ks;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),vi=e}return vi}function Xp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qr(""+e)}function Jp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function j0(e,t,i,a,o){if(t==="submit"&&i&&i.stateNode===o){var h=Xp((o[jt]||null).action),d=a.submitter;d&&(t=(t=d[jt]||null)?Xp(t.formAction):d.getAttribute("formAction"),t!==null&&(h=t,d=null));var y=new Vr("action","action",null,a,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(vi!==0){var T=d?Jp(o,d):new FormData(o);Vu(i,{pending:!0,data:T,method:o.method,action:h},null,T)}}else typeof h=="function"&&(y.preventDefault(),T=d?Jp(o,d):new FormData(o),Vu(i,{pending:!0,data:T,method:o.method,action:h},h,T))},currentTarget:o}]})}}for(var Ec=0;Ec<au.length;Ec++){var Tc=au[Ec],x0=Tc.toLowerCase(),N0=Tc[0].toUpperCase()+Tc.slice(1);yn(x0,"on"+N0)}yn(Of,"onAnimationEnd"),yn(Rf,"onAnimationIteration"),yn(kf,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Xv,"onTransitionRun"),yn(Jv,"onTransitionStart"),yn(Qv,"onTransitionCancel"),yn(Cf,"onTransitionEnd"),Jt("onMouseEnter",["mouseout","mouseover"]),Jt("onMouseLeave",["mouseout","mouseover"]),Jt("onPointerEnter",["pointerout","pointerover"]),Jt("onPointerLeave",["pointerout","pointerover"]),Ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ir));function Qp(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var d=a.length-1;0<=d;d--){var y=a[d],T=y.instance,x=y.currentTarget;if(y=y.listener,T!==h&&o.isPropagationStopped())break e;h=y,o.currentTarget=x;try{h(o)}catch(z){Ir(z)}o.currentTarget=null,h=T}else for(d=0;d<a.length;d++){if(y=a[d],T=y.instance,x=y.currentTarget,y=y.listener,T!==h&&o.isPropagationStopped())break e;h=y,o.currentTarget=x;try{h(o)}catch(z){Ir(z)}o.currentTarget=null,h=T}}}}function Se(e,t){var i=t[Sa];i===void 0&&(i=t[Sa]=new Set);var a=e+"__bubble";i.has(a)||(Zp(t,e,2,!1),i.add(a))}function Ac(e,t,i){var a=0;t&&(a|=4),Zp(i,e,a,t)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[xl]){e[xl]=!0,et.forEach(function(i){i!=="selectionchange"&&(D0.has(i)||Ac(i,!1,e),Ac(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xl]||(t[xl]=!0,Ac("selectionchange",!1,t))}}function Zp(e,t,i,a){switch(Og(t)){case 2:var o=l_;break;case 8:o=o_;break;default:o=$c}i=o.bind(null,t,i,e),o=void 0,!Yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Rc(e,t,i,a,o){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var y=a.stateNode.containerInfo;if(y===o)break;if(d===4)for(d=a.return;d!==null;){var T=d.tag;if((T===3||T===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;y!==null;){if(d=Ye(y),d===null)return;if(T=d.tag,T===5||T===6||T===26||T===27){a=h=d;continue e}y=y.parentNode}}a=a.return}tf(function(){var x=h,z=Po(i),$=[];e:{var N=jf.get(e);if(N!==void 0){var M=Vr,ee=e;switch(e){case"keypress":if(Hr(i)===0)break e;case"keydown":case"keyup":M=Ov;break;case"focusin":ee="focus",M=Qo;break;case"focusout":ee="blur",M=Qo;break;case"beforeblur":case"afterblur":M=Qo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Cv;break;case Of:case Rf:case kf:M=yv;break;case Cf:M=xv;break;case"scroll":case"scrollend":M=fv;break;case"wheel":M=Dv;break;case"copy":case"cut":case"paste":M=_v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=lf;break;case"toggle":case"beforetoggle":M=Mv}var re=(t&4)!==0,He=!re&&(e==="scroll"||e==="scrollend"),k=re?N!==null?N+"Capture":null:N;re=[];for(var A=x,j;A!==null;){var L=A;if(j=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||j===null||k===null||(L=Aa(A,k),L!=null&&re.push(sr(A,L,j))),He)break;A=A.return}0<re.length&&(N=new M(N,ee,null,i,z),$.push({event:N,listeners:re}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",N&&i!==Go&&(ee=i.relatedTarget||i.fromElement)&&(Ye(ee)||ee[ti]))break e;if((M||N)&&(N=z.window===z?z:(N=z.ownerDocument)?N.defaultView||N.parentWindow:window,M?(ee=i.relatedTarget||i.toElement,M=x,ee=ee?Ye(ee):null,ee!==null&&(He=c(ee),re=ee.tag,ee!==He||re!==5&&re!==27&&re!==6)&&(ee=null)):(M=null,ee=x),M!==ee)){if(re=af,L="onMouseLeave",k="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(re=lf,L="onPointerLeave",k="onPointerEnter",A="pointer"),He=M==null?N:We(M),j=ee==null?N:We(ee),N=new re(L,A+"leave",M,i,z),N.target=He,N.relatedTarget=j,L=null,Ye(z)===x&&(re=new re(k,A+"enter",ee,i,z),re.target=j,re.relatedTarget=He,L=re),He=L,M&&ee)t:{for(re=U0,k=M,A=ee,j=0,L=k;L;L=re(L))j++;L=0;for(var ie=A;ie;ie=re(ie))L++;for(;0<j-L;)k=re(k),j--;for(;0<L-j;)A=re(A),L--;for(;j--;){if(k===A||A!==null&&k===A.alternate){re=k;break t}k=re(k),A=re(A)}re=null}else re=null;M!==null&&Fp($,N,M,re,!1),ee!==null&&He!==null&&Fp($,He,ee,re,!0)}}e:{if(N=x?We(x):window,M=N.nodeName&&N.nodeName.toLowerCase(),M==="select"||M==="input"&&N.type==="file")var Ce=gf;else if(df(N))if(mf)Ce=Iv;else{Ce=Gv;var te=Vv}else M=N.nodeName,!M||M.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?x&&Vo(x.elementType)&&(Ce=gf):Ce=Pv;if(Ce&&(Ce=Ce(e,x))){pf($,Ce,i,z);break e}te&&te(e,N,x),e==="focusout"&&x&&N.type==="number"&&x.memoizedProps.value!=null&&$o(N,"number",N.value)}switch(te=x?We(x):window,e){case"focusin":(df(te)||te.contentEditable==="true")&&(bs=te,nu=x,Da=null);break;case"focusout":Da=nu=bs=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Tf($,i,z);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":Tf($,i,z)}var ye;if(Fo)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else _s?hf(e,i)&&(Ee="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ee="onCompositionStart");Ee&&(of&&i.locale!=="ko"&&(_s||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&_s&&(ye=nf()):(ni=z,Ko="value"in ni?ni.value:ni.textContent,_s=!0)),te=Nl(x,Ee),0<te.length&&(Ee=new rf(Ee,e,null,i,z),$.push({event:Ee,listeners:te}),ye?Ee.data=ye:(ye=ff(i),ye!==null&&(Ee.data=ye)))),(ye=zv?qv(e,i):Lv(e,i))&&(Ee=Nl(x,"onBeforeInput"),0<Ee.length&&(te=new rf("onBeforeInput","beforeinput",null,i,z),$.push({event:te,listeners:Ee}),te.data=ye)),j0($,e,x,i,z)}Qp($,t)})}function sr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Nl(e,t){for(var i=t+"Capture",a=[];e!==null;){var o=e,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=Aa(e,i),o!=null&&a.unshift(sr(e,o,h)),o=Aa(e,t),o!=null&&a.push(sr(e,o,h))),e.tag===3)return a;e=e.return}return[]}function U0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fp(e,t,i,a,o){for(var h=t._reactName,d=[];i!==null&&i!==a;){var y=i,T=y.alternate,x=y.stateNode;if(y=y.tag,T!==null&&T===a)break;y!==5&&y!==26&&y!==27||x===null||(T=x,o?(x=Aa(i,h),x!=null&&d.unshift(sr(i,x,T))):o||(x=Aa(i,h),x!=null&&d.push(sr(i,x,T)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var M0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function Wp(e){return(typeof e=="string"?e:""+e).replace(M0,`
`).replace(B0,"")}function eg(e,t){return t=Wp(t),Wp(e)===t}function Le(e,t,i,a,o,h){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ms(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ms(e,""+a);break;case"className":fs(e,"class",a);break;case"tabIndex":fs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(e,i,a);break;case"style":Wh(e,a,h);break;case"data":if(t!=="object"){fs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=qr(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&Le(e,t,"name",o.name,o,null),Le(e,t,"formEncType",o.formEncType,o,null),Le(e,t,"formMethod",o.formMethod,o,null),Le(e,t,"formTarget",o.formTarget,o,null)):(Le(e,t,"encType",o.encType,o,null),Le(e,t,"method",o.method,o,null),Le(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=qr(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=Un);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=qr(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Ht(e,"popover",a);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ht(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=cv.get(i)||i,Ht(e,i,a))}}function kc(e,t,i,a,o,h){switch(i){case"style":Wh(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?ms(e,a):(typeof a=="number"||typeof a=="bigint")&&ms(e,""+a);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wt.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),h=e[jt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,o),typeof a=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,o);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):Ht(e,i,a)}}}function Ot(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var a=!1,o=!1,h;for(h in i)if(i.hasOwnProperty(h)){var d=i[h];if(d!=null)switch(h){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Le(e,t,h,d,i,null)}}o&&Le(e,t,"srcSet",i.srcSet,i,null),a&&Le(e,t,"src",i.src,i,null);return;case"input":Se("invalid",e);var y=h=d=o=null,T=null,x=null;for(a in i)if(i.hasOwnProperty(a)){var z=i[a];if(z!=null)switch(a){case"name":o=z;break;case"type":d=z;break;case"checked":T=z;break;case"defaultChecked":x=z;break;case"value":h=z;break;case"defaultValue":y=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:Le(e,t,a,z,i,null)}}Jh(e,h,y,T,x,d,o,!1);return;case"select":Se("invalid",e),a=d=h=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":h=y;break;case"defaultValue":d=y;break;case"multiple":a=y;default:Le(e,t,o,y,i,null)}t=h,i=d,e.multiple=!!a,t!=null?gs(e,!!a,t,!1):i!=null&&gs(e,!!a,i,!0);return;case"textarea":Se("invalid",e),h=o=a=null;for(d in i)if(i.hasOwnProperty(d)&&(y=i[d],y!=null))switch(d){case"value":a=y;break;case"defaultValue":o=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Le(e,t,d,y,i,null)}Zh(e,a,o,h);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(a=i[T],a!=null))switch(T){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Le(e,t,T,a,i,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(a=0;a<ir.length;a++)Se(ir[a],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in i)if(i.hasOwnProperty(x)&&(a=i[x],a!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Le(e,t,x,a,i,null)}return;default:if(Vo(t)){for(z in i)i.hasOwnProperty(z)&&(a=i[z],a!==void 0&&kc(e,t,z,a,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(a=i[y],a!=null&&Le(e,t,y,a,i,null))}function z0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,d=null,y=null,T=null,x=null,z=null;for(M in i){var $=i[M];if(i.hasOwnProperty(M)&&$!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":T=$;default:a.hasOwnProperty(M)||Le(e,t,M,null,a,$)}}for(var N in a){var M=a[N];if($=i[N],a.hasOwnProperty(N)&&(M!=null||$!=null))switch(N){case"type":h=M;break;case"name":o=M;break;case"checked":x=M;break;case"defaultChecked":z=M;break;case"value":d=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==$&&Le(e,t,N,M,a,$)}}Ho(e,d,y,T,x,z,h,o);return;case"select":M=d=y=N=null;for(h in i)if(T=i[h],i.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":M=T;default:a.hasOwnProperty(h)||Le(e,t,h,null,a,T)}for(o in a)if(h=a[o],T=i[o],a.hasOwnProperty(o)&&(h!=null||T!=null))switch(o){case"value":N=h;break;case"defaultValue":y=h;break;case"multiple":d=h;default:h!==T&&Le(e,t,o,h,a,T)}t=y,i=d,a=M,N!=null?gs(e,!!i,N,!1):!!a!=!!i&&(t!=null?gs(e,!!i,t,!0):gs(e,!!i,i?[]:"",!1));return;case"textarea":M=N=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!a.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Le(e,t,y,null,a,o)}for(d in a)if(o=a[d],h=i[d],a.hasOwnProperty(d)&&(o!=null||h!=null))switch(d){case"value":N=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==h&&Le(e,t,d,o,a,h)}Qh(e,N,M);return;case"option":for(var ee in i)if(N=i[ee],i.hasOwnProperty(ee)&&N!=null&&!a.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Le(e,t,ee,null,a,N)}for(T in a)if(N=a[T],M=i[T],a.hasOwnProperty(T)&&N!==M&&(N!=null||M!=null))switch(T){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Le(e,t,T,N,a,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in i)N=i[re],i.hasOwnProperty(re)&&N!=null&&!a.hasOwnProperty(re)&&Le(e,t,re,null,a,N);for(x in a)if(N=a[x],M=i[x],a.hasOwnProperty(x)&&N!==M&&(N!=null||M!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:Le(e,t,x,N,a,M)}return;default:if(Vo(t)){for(var He in i)N=i[He],i.hasOwnProperty(He)&&N!==void 0&&!a.hasOwnProperty(He)&&kc(e,t,He,void 0,a,N);for(z in a)N=a[z],M=i[z],!a.hasOwnProperty(z)||N===M||N===void 0&&M===void 0||kc(e,t,z,N,a,M);return}}for(var k in i)N=i[k],i.hasOwnProperty(k)&&N!=null&&!a.hasOwnProperty(k)&&Le(e,t,k,null,a,N);for($ in a)N=a[$],M=i[$],!a.hasOwnProperty($)||N===M||N==null&&M==null||Le(e,t,$,N,a,M)}function tg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var o=i[a],h=o.transferSize,d=o.initiatorType,y=o.duration;if(h&&y&&tg(d)){for(d=0,y=o.responseEnd,a+=1;a<i.length;a++){var T=i[a],x=T.startTime;if(x>y)break;var z=T.transferSize,$=T.initiatorType;z&&tg($)&&(T=T.responseEnd,d+=z*(T<y?1:(y-x)/(T-x)))}if(--a,t+=8*(h+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cc=null,jc=null;function Dl(e){return e.nodeType===9?e:e.ownerDocument}function ng(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ig(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nc=null;function L0(){var e=window.event;return e&&e.type==="popstate"?e===Nc?!1:(Nc=e,!0):(Nc=null,!1)}var sg=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,ag=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof ag<"u"?function(e){return ag.resolve(null).then(e).catch(V0)}:sg;function V0(e){setTimeout(function(){throw e})}function _i(e){return e==="head"}function rg(e,t){var i=t,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(o),Ks(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")ar(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ar(i);for(var h=i.firstChild;h;){var d=h.nextSibling,y=h.nodeName;h[Q]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=d}}else i==="body"&&ar(e.ownerDocument.body);i=o}while(i);Ks(t)}function lg(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function Dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Dc(i),Re(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function G0(e,t,i,a){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Q])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function P0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=fn(e.nextSibling),e===null))return null;return e}function og(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fn(e.nextSibling),e===null))return null;return e}function Uc(e){return e.data==="$?"||e.data==="$~"}function Mc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Bc=null;function ug(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return fn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function cg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function hg(e,t,i){switch(t=Dl(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ar(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Re(e)}var dn=new Map,fg=new Set;function Ul(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qn=I.d;I.d={f:Y0,r:K0,D:X0,C:J0,L:Q0,m:Z0,X:W0,S:F0,M:e_};function Y0(){var e=Qn.f(),t=Al();return e||t}function K0(e){var t=Ue(e);t!==null&&t.tag===5&&t.type==="form"?Cd(t):Qn.r(e)}var Ps=typeof document>"u"?null:document;function dg(e,t,i){var a=Ps;if(a&&typeof t=="string"&&t){var o=an(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),fg.has(o)||(fg.add(o),e={rel:e,crossOrigin:i,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),Ot(t,"link",e),Te(t),a.head.appendChild(t)))}}function X0(e){Qn.D(e),dg("dns-prefetch",e,null)}function J0(e,t){Qn.C(e,t),dg("preconnect",e,t)}function Q0(e,t,i){Qn.L(e,t,i);var a=Ps;if(a&&e&&t){var o='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+an(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+an(i.imageSizes)+'"]')):o+='[href="'+an(e)+'"]';var h=o;switch(t){case"style":h=Is(e);break;case"script":h=Ys(e)}dn.has(h)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),dn.set(h,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(rr(h))||t==="script"&&a.querySelector(lr(h))||(t=a.createElement("link"),Ot(t,"link",e),Te(t),a.head.appendChild(t)))}}function Z0(e,t){Qn.m(e,t);var i=Ps;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+an(a)+'"][href="'+an(e)+'"]',h=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ys(e)}if(!dn.has(h)&&(e=S({rel:"modulepreload",href:e},t),dn.set(h,e),i.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(lr(h)))return}a=i.createElement("link"),Ot(a,"link",e),Te(a),i.head.appendChild(a)}}}function F0(e,t,i){Qn.S(e,t,i);var a=Ps;if(a&&e){var o=Pe(a).hoistableStyles,h=Is(e);t=t||"default";var d=o.get(h);if(!d){var y={loading:0,preload:null};if(d=a.querySelector(rr(h)))y.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=dn.get(h))&&zc(e,i);var T=d=a.createElement("link");Te(T),Ot(T,"link",e),T._p=new Promise(function(x,z){T.onload=x,T.onerror=z}),T.addEventListener("load",function(){y.loading|=1}),T.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ml(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:y},o.set(h,d)}}}function W0(e,t){Qn.X(e,t);var i=Ps;if(i&&e){var a=Pe(i).hoistableScripts,o=Ys(e),h=a.get(o);h||(h=i.querySelector(lr(o)),h||(e=S({src:e,async:!0},t),(t=dn.get(o))&&qc(e,t),h=i.createElement("script"),Te(h),Ot(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(o,h))}}function e_(e,t){Qn.M(e,t);var i=Ps;if(i&&e){var a=Pe(i).hoistableScripts,o=Ys(e),h=a.get(o);h||(h=i.querySelector(lr(o)),h||(e=S({src:e,async:!0,type:"module"},t),(t=dn.get(o))&&qc(e,t),h=i.createElement("script"),Te(h),Ot(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(o,h))}}function pg(e,t,i,a){var o=(o=ve.current)?Ul(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Is(i.href),i=Pe(o).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Is(i.href);var h=Pe(o).hoistableStyles,d=h.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,d),(h=o.querySelector(rr(e)))&&!h._p&&(d.instance=h,d.state.loading=5),dn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},dn.set(e,i),h||t_(o,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ys(i),i=Pe(o).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Is(e){return'href="'+an(e)+'"'}function rr(e){return'link[rel="stylesheet"]['+e+"]"}function gg(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function t_(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ot(t,"link",i),Te(t),e.head.appendChild(t))}function Ys(e){return'[src="'+an(e)+'"]'}function lr(e){return"script[async]"+e}function mg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+an(i.href)+'"]');if(a)return t.instance=a,Te(a),a;var o=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Te(a),Ot(a,"style",o),Ml(a,i.precedence,e),t.instance=a;case"stylesheet":o=Is(i.href);var h=e.querySelector(rr(o));if(h)return t.state.loading|=4,t.instance=h,Te(h),h;a=gg(i),(o=dn.get(o))&&zc(a,o),h=(e.ownerDocument||e).createElement("link"),Te(h);var d=h;return d._p=new Promise(function(y,T){d.onload=y,d.onerror=T}),Ot(h,"link",a),t.state.loading|=4,Ml(h,i.precedence,e),t.instance=h;case"script":return h=Ys(i.src),(o=e.querySelector(lr(h)))?(t.instance=o,Te(o),o):(a=i,(o=dn.get(h))&&(a=S({},i),qc(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),Te(o),Ot(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ml(a,i.precedence,e));return t.instance}function Ml(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,h=o,d=0;d<a.length;d++){var y=a[d];if(y.dataset.precedence===t)h=y;else if(h!==o)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bl=null;function yg(e,t,i){if(Bl===null){var a=new Map,o=Bl=new Map;o.set(i,a)}else o=Bl,a=o.get(i),a||(a=new Map,o.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var h=i[o];if(!(h[Q]||h[pt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var d=h.getAttribute(t)||"";d=e+d;var y=a.get(d);y?y.push(h):a.set(d,[h])}}return a}function vg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function n_(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _g(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function i_(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Is(a.href),h=t.querySelector(rr(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=h,Te(h);return}h=t.ownerDocument||t,a=gg(a),(o=dn.get(o))&&zc(a,o),h=h.createElement("link"),Te(h);var d=h;d._p=new Promise(function(y,T){d.onload=y,d.onerror=T}),Ot(h,"link",a),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=zl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Lc=0;function s_(e,t){return e.stylesheets&&e.count===0&&Ll(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&Ll(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&Lc===0&&(Lc=62500*q0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ll(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Lc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ll(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ql=null;function Ll(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ql=new Map,t.forEach(a_,e),ql=null,zl.call(e))}function a_(e,t){if(!(t.state.loading&4)){var i=ql.get(e);if(i)var a=i.get(null);else{i=new Map,ql.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var d=o[h];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}o=t.instance,d=o.getAttribute("data-precedence"),h=i.get(d)||a,h===a&&i.set(null,o),i.set(d,o),this.count++,a=zl.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),h?h.parentNode.insertBefore(o,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var or={$$typeof:U,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function r_(e,t,i,a,o,h,d,y,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.hiddenUpdates=ma(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function bg(e,t,i,a,o,h,d,y,T,x,z,$){return e=new r_(e,t,i,d,T,x,z,$,y),t=1,h===!0&&(t|=24),h=Zt(3,null,null,t),e.current=h,h.stateNode=e,t=vu(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:a,isDehydrated:i,cache:t},wu(h),e}function Sg(e){return e?(e=Es,e):Es}function wg(e,t,i,a,o,h){o=Sg(o),a.context===null?a.context=o:a.pendingContext=o,a=oi(t),a.payload={element:i},h=h===void 0?null:h,h!==null&&(a.callback=h),i=ui(e,a,t),i!==null&&(Yt(i,e,t),Ha(i,e,t))}function Eg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Hc(e,t){Eg(e,t),(e=e.alternate)&&Eg(e,t)}function Tg(e){if(e.tag===13||e.tag===31){var t=Li(e,67108864);t!==null&&Yt(t,e,67108864),Hc(e,67108864)}}function Ag(e){if(e.tag===13||e.tag===31){var t=nn();t=va(t);var i=Li(e,t);i!==null&&Yt(i,e,t),Hc(e,t)}}var Hl=!0;function l_(e,t,i,a){var o=B.T;B.T=null;var h=I.p;try{I.p=2,$c(e,t,i,a)}finally{I.p=h,B.T=o}}function o_(e,t,i,a){var o=B.T;B.T=null;var h=I.p;try{I.p=8,$c(e,t,i,a)}finally{I.p=h,B.T=o}}function $c(e,t,i,a){if(Hl){var o=Vc(a);if(o===null)Rc(e,t,a,$l,i),Rg(e,a);else if(c_(o,e,t,i,a))a.stopPropagation();else if(Rg(e,a),t&4&&-1<u_.indexOf(e)){for(;o!==null;){var h=Ue(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=Fe(h.pendingLanes);if(d!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;d;){var T=1<<31-bt(d);y.entanglements[1]|=T,d&=~T}Cn(h),(De&6)===0&&(El=Ut()+500,nr(0))}}break;case 31:case 13:y=Li(h,2),y!==null&&Yt(y,h,2),Al(),Hc(h,2)}if(h=Vc(a),h===null&&Rc(e,t,a,$l,i),h===o)break;o=h}o!==null&&a.stopPropagation()}else Rc(e,t,a,null,i)}}function Vc(e){return e=Po(e),Gc(e)}var $l=null;function Gc(e){if($l=null,e=Ye(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $l=e,null}function Og(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case fa:return 2;case os:return 8;case us:case xr:return 32;case da:return 268435456;default:return 32}default:return 32}}var Pc=!1,bi=null,Si=null,wi=null,ur=new Map,cr=new Map,Ei=[],u_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(e,t){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(t.pointerId)}}function hr(e,t,i,a,o,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[o]},t!==null&&(t=Ue(t),t!==null&&Tg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function c_(e,t,i,a,o){switch(t){case"focusin":return bi=hr(bi,e,t,i,a,o),!0;case"dragenter":return Si=hr(Si,e,t,i,a,o),!0;case"mouseover":return wi=hr(wi,e,t,i,a,o),!0;case"pointerover":var h=o.pointerId;return ur.set(h,hr(ur.get(h)||null,e,t,i,a,o)),!0;case"gotpointercapture":return h=o.pointerId,cr.set(h,hr(cr.get(h)||null,e,t,i,a,o)),!0}return!1}function kg(e){var t=Ye(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,ba(e.priority,function(){Ag(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,ba(e.priority,function(){Ag(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Vc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Go=a,i.target.dispatchEvent(a),Go=null}else return t=Ue(i),t!==null&&Tg(t),e.blockedOn=i,!1;t.shift()}return!0}function Cg(e,t,i){Vl(e)&&i.delete(t)}function h_(){Pc=!1,bi!==null&&Vl(bi)&&(bi=null),Si!==null&&Vl(Si)&&(Si=null),wi!==null&&Vl(wi)&&(wi=null),ur.forEach(Cg),cr.forEach(Cg)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Pc||(Pc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,h_)))}var Pl=null;function jg(e){Pl!==e&&(Pl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Pl===e&&(Pl=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(Gc(a||i)===null)continue;break}var h=Ue(i);h!==null&&(e.splice(t,3),t-=3,Vu(h,{pending:!0,data:o,method:i.method,action:a},a,o))}}))}function Ks(e){function t(T){return Gl(T,e)}bi!==null&&Gl(bi,e),Si!==null&&Gl(Si,e),wi!==null&&Gl(wi,e),ur.forEach(t),cr.forEach(t);for(var i=0;i<Ei.length;i++){var a=Ei[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ei.length&&(i=Ei[0],i.blockedOn===null);)kg(i),i.blockedOn===null&&Ei.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var o=i[a],h=i[a+1],d=o[jt]||null;if(typeof h=="function")d||jg(i);else if(d){var y=null;if(h&&h.hasAttribute("formAction")){if(o=h,d=h[jt]||null)y=d.formAction;else if(Gc(o)!==null)continue}else y=d.action;typeof y=="function"?i[a+1]=y:(i.splice(a,3),a-=3),jg(i)}}}function xg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ic(e){this._internalRoot=e}Il.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=nn();wg(i,a,e,t,null,null)},Il.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wg(e.current,2,null,e,null,null),Al(),t[ti]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mr();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ei.length&&t!==0&&t<Ei[i].priority;i++);Ei.splice(i,0,e),i===0&&kg(e)}};var Ng=n.version;if(Ng!=="19.2.1")throw Error(r(527,Ng,"19.2.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var f_={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Ui=Yl.inject(f_),Mt=Yl}catch{}}return dr.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,a="",o=Ld,h=Hd,d=$d;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=bg(e,1,!1,null,null,i,a,null,o,h,d,xg),e[ti]=t.current,Oc(e),new Ic(t)},dr.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var a=!1,o="",h=Ld,d=Hd,y=$d,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=bg(e,1,!0,t,i??null,a,o,T,h,d,y,xg),t.context=Sg(null),i=t.current,a=nn(),a=va(a),o=oi(a),o.callback=null,ui(i,o,a),i=a,t.current.lanes=i,Mi(t,i),Cn(t),e[ti]=t.current,Oc(e),new Il(t)},dr.version="19.2.1",dr}var Vg;function T_(){if(Vg)return Xc.exports;Vg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Xc.exports=E_(),Xc.exports}var A_=T_();const O_=["hearts","diamonds","clubs","spades"],R_=[2,3,4,5,6,7,8,9,10,11,12,13,14];function k_(){const l=[];for(const n of O_)for(const s of R_)l.push({suit:n,rank:s,id:`${n}-${s}`});return l}function C_(l){const n=[...l];for(let s=n.length-1;s>0;s--){const r=Math.floor(Math.random()*(s+1));[n[s],n[r]]=[n[r],n[s]]}return n}function pr(l,n){const s=l.slice(0,n),r=l.slice(n);return{drawn:s,remaining:r}}const vr=l=>l===14?14:l;function ki(l,n){const s=[...l],r=s.map(v=>vr(v.rank)).sort((v,E)=>v-E),u=s.map(v=>v.suit),c=u.every(v=>v===u[0]);let f=!1,p=0;r[0]+1===r[1]&&r[1]+1===r[2]&&(f=!0,p=r[2]),!f&&r[0]===2&&r[1]===3&&r[2]===14&&(f=!0,p=3);let g=!1,m=!1,_=!1;r[0]===r[1]&&r[1]===r[2]?m=!0:r[0]===r[1]?(g=!0,_=!0):(r[1]===r[2]||r[0]===r[2])&&(g=!0);const S=[...r].sort((v,E)=>E-v);if(c&&f){const v=s.map(D=>vr(D.rank)),E=v[0]+1===v[1]&&v[1]+1===v[2],w=v[0]-1===v[1]&&v[1]-1===v[2],R=v[0]===14&&v[1]===2&&v[2]===3,C=v[0]===3&&v[1]===2&&v[2]===14;if(E||w||R||C)return{type:"PureStraightFlush",score:n,rankValue:9,kickers:[p]}}if(m)return{type:"ThreeOfAKind",score:n,rankValue:8,kickers:[r[0]]};if(c&&f)return{type:"StraightFlush",score:n,rankValue:7,kickers:[p]};if(f&&!c){const v=s.map(D=>vr(D.rank)),E=v[0]+1===v[1]&&v[1]+1===v[2],w=v[0]-1===v[1]&&v[1]-1===v[2],R=v[0]===14&&v[1]===2&&v[2]===3,C=v[0]===3&&v[1]===2&&v[2]===14;if(E||w||R||C)return{type:"PureStraight",score:n,rankValue:6,kickers:[p]}}if(c)return{type:"Flush",score:n,rankValue:5,kickers:S.reverse()};if(g){const v=s.map(R=>vr(R.rank)),E=v[0]===v[1],w=v[1]===v[2];if(E||w){const R=_?r[0]:r[1],C=_?r[2]:r[0];return{type:"PureOnePair",score:n,rankValue:4,kickers:[R,C]}}}if(f)return{type:"Straight",score:n,rankValue:3,kickers:[p]};if(g){const v=r[0],E=r[1];return{type:"OnePair",score:n,rankValue:2,kickers:[v,E]}}return{type:"HighCard",score:n,rankValue:1,kickers:S.reverse()}}function Ci(l){const n=[...l],s=c=>{const f=c.map(v=>vr(v.rank)).sort((v,E)=>v-E),p=c.map(v=>v.suit),g=p.every(v=>v===p[0]);let m=!0;for(let v=0;v<4;v++)if(f[v]+1!==f[v+1]){m=!1;break}!m&&f[4]===14&&f[0]===2&&f[1]===3&&f[2]===4&&f[3]===5&&(m=!0);const _={};f.forEach(v=>_[v]=(_[v]||0)+1);const S=Object.values(_).sort((v,E)=>E-v);if(g&&m&&f[0]===10&&f[4]===14)return{type:"RoyalFlush",kickers:[]};if(g&&m)return{type:"StraightFlush",kickers:[f[4]]};if(S[0]===4){const v=Number(Object.keys(_).find(w=>_[Number(w)]===4)),E=Number(Object.keys(_).find(w=>_[Number(w)]===1));return{type:"FourOfAKind",kickers:[v,E]}}if(S[0]===3&&S[1]===2){const v=Number(Object.keys(_).find(w=>_[Number(w)]===3)),E=Number(Object.keys(_).find(w=>_[Number(w)]===2));return{type:"FullHouse",kickers:[v,E]}}if(g)return{type:"Flush",kickers:f.reverse()};if(m)return f[4]===14&&f[0]===2?{type:"Straight",kickers:[5]}:{type:"Straight",kickers:[f[4]]};if(S[0]===3){const v=Number(Object.keys(_).find(w=>_[Number(w)]===3)),E=f.filter(w=>w!==v).reverse();return{type:"ThreeOfAKind",kickers:[v,...E]}}if(S[0]===2&&S[1]===2){const v=Object.keys(_).filter(w=>_[Number(w)]===2).map(Number).sort((w,R)=>R-w),E=Number(Object.keys(_).find(w=>_[Number(w)]===1));return{type:"TwoPair",kickers:[...v,E]}}if(S[0]===2){const v=Number(Object.keys(_).find(w=>_[Number(w)]===2)),E=f.filter(w=>w!==v).reverse();return{type:"OnePair",kickers:[v,...E]}}return{type:"HighCard",kickers:f.reverse()}},r=c=>{switch(c){case"RoyalFlush":return 10;case"StraightFlush":return 9;case"FourOfAKind":return 8;case"FullHouse":return 7;case"Flush":return 6;case"Straight":return 5;case"ThreeOfAKind":return 4;case"TwoPair":return 3;case"OnePair":return 2;case"HighCard":return 1}},u=s(n);return{type:u.type,score:0,rankValue:r(u.type),kickers:u.kickers}}function Gg(l){switch(l){case"RoyalFlush":return 1e3;case"StraightFlush":return 16;case"FourOfAKind":return 14;case"FullHouse":return 12;case"Straight":return 10;case"Flush":return 8;case"ThreeOfAKind":return 6;case"TwoPair":return 4;case"OnePair":return 2;case"HighCard":return 0;default:return 0}}function po(l,n){let s=Gg(l.type),r=Gg(n.type);if(l.rankValue===n.rankValue){let u=!1,c=!1;for(let f=0;f<Math.max(l.kickers.length,n.kickers.length);f++){const p=l.kickers[f]||0,g=n.kickers[f]||0;if(p>g){u=!0;break}if(g>p){c=!0;break}}u?s+=1:c&&(r+=1)}return{p1Score:s,p2Score:r}}const go={id:"",hand:[],board:Array(3).fill(null).map(()=>Array(5).fill(null)),dice:[],score:0,hiddenCardsCount:0,bonusesClaimed:0},Ai={players:[{...go,id:"p1"},{...go,id:"p2"}],currentPlayerIndex:0,phase:"setup",deck:[],turnCount:0,winner:null};function j_(l,n){switch(n.type){case"START_GAME":{const s=n.payload?.initialDeck?[...n.payload.initialDeck]:C_(k_()),{drawn:r,remaining:u}=pr(s,4),{drawn:c,remaining:f}=pr(u,4),p=n.payload?.initialDice?n.payload.initialDice:Array.from({length:5},()=>Math.floor(Math.random()*6)+1).sort((m,_)=>_-m),g=Math.floor(Math.random()*2);return{...Ai,phase:"playing",deck:f,currentPlayerIndex:g,players:[{...go,id:"p1",hand:r,dice:p},{...go,id:"p2",hand:c,dice:p}],turnCount:1}}case"PLACE_AND_DRAW":{const{cardId:s,colIndex:r,isHidden:u}=n.payload,c=l.currentPlayerIndex,f=l.players[c],p=f.hand.findIndex(fe=>fe.id===s);if(p===-1)return l;const g=f.hand[p];if(u){if(f.hiddenCardsCount>=3)return l;let fe=0;for(let ge=0;ge<3;ge++)f.board[ge][r]?.isHidden&&fe++;if(fe>=2)return l}let m=-1;for(let fe=0;fe<3;fe++)if(f.board[fe][r]===null){m=fe;break}if(m===-1)return l;const _=f.board.map(fe=>[...fe]),S={...g,isHidden:u};_[m][r]=S;const v=[...f.hand];v.splice(p,1);const E={...f,board:_,hand:v,hiddenCardsCount:u?f.hiddenCardsCount+1:f.hiddenCardsCount};let w=f.bonusesClaimed,R=0;m===2&&(l.players[c===0?1:0].board[2][r]!==null||(w+=1,R=1));let C=l.deck,D=E.hand;if(R>0){const{drawn:fe,remaining:ge}=pr(C,R);C=ge,D=[...D,...fe]}const{drawn:H,remaining:U}=pr(C,1);D=[...D,...H];const q={...E,hand:D,bonusesClaimed:w},Y=[...l.players];Y[c]=q;const G=c===0?1:0,P=Y[0].board.every(fe=>fe.every(ge=>ge!==null)),he=Y[1].board.every(fe=>fe.every(ge=>ge!==null));let ue=l.phase;return P&&he&&(ue="scoring"),{...l,players:Y,deck:U,currentPlayerIndex:G,phase:ue,turnCount:l.turnCount+1}}case"DRAW_CARD":{const s=l.currentPlayerIndex,r=l.players[s],{drawn:u,remaining:c}=pr(l.deck,1),f=[...l.players];f[s]={...r,hand:[...r.hand,...u]};const p=s===0?1:0,g=f[0].board.every(S=>S.every(v=>v!==null)),m=f[1].board.every(S=>S.every(v=>v!==null));let _=l.phase;return g&&m&&(_="scoring"),{...l,players:f,deck:c,currentPlayerIndex:p,phase:_,turnCount:l.turnCount+1}}case"CALCULATE_SCORE":{let s=l.players[0].score,r=l.players[1].score;const u=l.players[0].board,c=l.players[1].board,f=l.players[0].dice;for(let w=0;w<5;w++){const R=[u[0][w],u[1][w],u[2][w]],C=[c[0][w],c[1][w],c[2][w]],D=ki(R,f[w]),H=ki(C,f[w]);if(D.rankValue>H.rankValue)s+=f[w];else if(H.rankValue>D.rankValue)r+=f[w];else{let U=!1,q=!1;for(let Y=0;Y<Math.max(D.kickers.length,H.kickers.length);Y++){const G=D.kickers[Y]||0,P=H.kickers[Y]||0;if(G>P){U=!0;break}if(P>G){q=!0;break}}U?s+=f[w]:q&&(r+=f[w])}}const p=u[2],g=c[2],m=Ci(p),_=Ci(g),{p1Score:S,p2Score:v}=po(m,_);if(m.type==="RoyalFlush")return{...l,winner:"p1",phase:"ended"};if(_.type==="RoyalFlush")return{...l,winner:"p2",phase:"ended"};s+=S,r+=v;const E=s>r?"p1":r>s?"p2":"draw";return{...l,players:[{...l.players[0],score:s},{...l.players[1],score:r}],winner:E,phase:"ended"}}case"SYNC_STATE":return n.payload;default:return l}}const x_={totalGames:0,wins:0,losses:0,draws:0,tripPreference:1,flushPreference:1,straightPreference:1,xHandFocus:1,bonusAggression:1,hidingStrategy:.3},xm="xypoker_ai_learning";function Ro(){try{const l=localStorage.getItem(xm);if(l)return JSON.parse(l)}catch(l){console.error("Failed to load AI learning data:",l)}return{...x_}}function N_(l){try{localStorage.setItem(xm,JSON.stringify(l))}catch(n){console.error("Failed to save AI learning data:",n)}}function D_(l,n=!1){const s=Ro();if(s.totalGames+=1,n)s.draws+=1;else if(l)s.wins+=1,s.tripPreference*=1.05,s.flushPreference*=1.05,s.straightPreference*=1.05,s.xHandFocus*=1.05,s.bonusAggression*=1.05;else{s.losses+=1;const r=[{name:"tripPreference",value:s.tripPreference},{name:"flushPreference",value:s.flushPreference},{name:"straightPreference",value:s.straightPreference},{name:"xHandFocus",value:s.xHandFocus},{name:"bonusAggression",value:s.bonusAggression}];r.sort((f,p)=>f.value-p.value);const u=r[0].name,c=r[r.length-1].name;s[u]*=1.1,s[c]*=.95,s.bonusAggression*=1.08}s.tripPreference=Math.min(Math.max(s.tripPreference,.5),2),s.flushPreference=Math.min(Math.max(s.flushPreference,.5),2),s.straightPreference=Math.min(Math.max(s.straightPreference,.5),2),s.xHandFocus=Math.min(Math.max(s.xHandFocus,.5),2),s.bonusAggression=Math.min(Math.max(s.bonusAggression,.5),2.5),s.hidingStrategy=Math.min(Math.max(s.hidingStrategy,.1),.6),N_(s)}const U_={hearts:"",diamonds:"",clubs:"",spades:"",joker:""},M_={11:"J",12:"Q",13:"K",14:"A",15:"JOKER"},mo=({card:l,onClick:n,isSelected:s,isPlayable:r,isPeeking:u,isHidden:c,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:m,onTouchEnd:_,skin:S="classic",size:v="normal"})=>{if((l.isHidden||c)&&!u)return b.jsx("div",{className:`card ${v} hidden ${s?"selected":""} card-back-${S}`,onClick:n,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:m,onTouchEnd:_,children:b.jsx("div",{className:"card-back"})});const w=M_[l.rank]||l.rank.toString(),R=U_[l.suit];return b.jsxs("div",{className:`card ${v} ${l.suit} ${s?"selected":""} ${r?"playable":""} ${u?"peeking":""}`,onClick:n,onMouseDown:f,onMouseUp:p,onMouseLeave:g,onTouchStart:m,onTouchEnd:_,"data-suit":l.suit,children:[u&&b.jsx("div",{className:"peek-overlay"}),b.jsxs("div",{className:"card-top",children:[b.jsx("span",{className:"rank",children:w}),b.jsx("span",{className:"suit",children:R})]}),b.jsx("div",{className:"card-center",children:R}),b.jsxs("div",{className:"card-bottom",children:[b.jsx("span",{className:"rank",children:w}),b.jsx("span",{className:"suit",children:R})]})]})},Uh=({value:l,size:n="medium",className:s="",skin:r="white"})=>{const u=()=>{const c=[];return(l===1||l===3||l===5)&&c.push(b.jsx("div",{className:"dot center"},"c")),l>=2&&(c.push(b.jsx("div",{className:"dot top-left"},"tl")),c.push(b.jsx("div",{className:"dot bottom-right"},"br"))),l>=4&&(c.push(b.jsx("div",{className:"dot top-right"},"tr")),c.push(b.jsx("div",{className:"dot bottom-left"},"bl"))),l===6&&(c.push(b.jsx("div",{className:"dot middle-left"},"ml")),c.push(b.jsx("div",{className:"dot middle-right"},"mr"))),c};return b.jsx("div",{className:`dice ${n} ${s} ${r}`,children:u()})},B_=({playerBoard:l,opponentBoard:n,dice:s,onColumnClick:r,isCurrentPlayer:u,revealAll:c=!1,winningColumns:f,xWinner:p,bottomPlayerId:g="p1",selectedSkin:m,selectedCardSkin:_,selectedBoardSkin:S,scoringStep:v=-1})=>{const[E,w]=Z.useState(null),[R,C]=Z.useState(null),D=(Y,G,P)=>{if(Y&&(R!==null&&(clearTimeout(R),C(null)),Y.isHidden&&!c)){const he=window.setTimeout(()=>{w(Y.id)},500);C(he)}},H=(Y,G,P)=>{R!==null&&(clearTimeout(R),C(null)),w(null),!Y&&u&&r(G)},U=(Y,G,P)=>{Y&&!Y.isHidden&&u&&r(G)},q=Array.from({length:5},(Y,G)=>{const P=g==="p1"?"p2":"p1",he=[n[2][G],n[1][G],n[0][G]],ue=[l[0][G],l[1][G],l[2][G]],fe=f?f[G]:null,ge=v>=4-G,xe=fe===g&&ge?`winning-slot-${g}`:"",st=fe===P&&ge?`winning-slot-${P}`:"",B=v>=5,I=p===P&&B,se=p===g&&B;return b.jsxs("div",{className:`shared-column ${u?"interactive":""}`,children:[b.jsx("div",{className:"opponent-slots",children:he.map((ce,_e)=>b.jsx("div",{className:`card-slot opponent-slot ${st} ${I&&_e===0?"winning-row-yellow":""}`,children:ce?b.jsx(mo,{card:c?{...ce,isHidden:!1}:ce,skin:_}):b.jsx("div",{className:"empty-slot",onClick:()=>u&&r(G)})},`opp-${_e}`))}),b.jsx("div",{className:"dice-row",children:b.jsx(Uh,{value:s[G],skin:m})}),b.jsx("div",{className:"player-slots",children:ue.map((ce,_e)=>b.jsx("div",{className:`card-slot player-slot ${se&&_e===2?"winning-row-yellow":""} ${xe}`,children:ce?b.jsx(mo,{card:c?{...ce,isHidden:!1}:ce,isPeeking:E===ce.id,onClick:()=>U(ce,G),onMouseDown:()=>D(ce),onMouseUp:()=>H(ce,G),onMouseLeave:()=>H(ce,G),onTouchStart:()=>D(ce),onTouchEnd:()=>H(ce,G),skin:_}):b.jsx("div",{className:"empty-slot",onClick:()=>u&&r(G)})},`pl-${_e}`))})]},G)});return b.jsx("div",{className:`shared-board board-theme-${S}`,children:q})},z_=({hand:l,selectedCardId:n,onCardSelect:s,isCurrentPlayer:r=!1,isOpponent:u=!1,isHidden:c=!1,onCardClick:f})=>b.jsx("div",{className:`hand ${r?"active":""} ${u?"opponent":""}`,children:l.map(p=>b.jsx("div",{className:"hand-card-wrapper",children:b.jsx(mo,{card:p,isSelected:n===p.id,onClick:()=>{r&&s?s(p.id):f&&f()},isPlayable:r,isHidden:c})},p.id))}),q_=({gameState:l,isOnlineMode:n=!1,playerRole:s=null,playerName:r="Player 1",opponentName:u="Player 2",onSurrender:c})=>{const{phase:f,currentPlayerIndex:p,players:g,winner:m}=l,_=n&&s==="guest"?1:0,S=r,v=u,E=_===0?S:v,w=_===1?S:v;return b.jsxs("div",{className:"game-info","data-my-index":n?_:0,children:[b.jsxs("div",{className:"status-bar",children:[f==="playing"&&(p===(n?_:0)?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"turn-indicator your-turn",children:"YOUR TURN"}),c&&b.jsx("button",{className:"surrender-btn",onClick:c,children:"Cancel"})]}):b.jsx("div",{className:"turn-indicator opponent-turn",children:n?`${v}'s Turn`:`${w}'s Turn`})),f==="ended"&&b.jsx("div",{className:"winner-banner",children:m==="draw"?"Draw - Tie Game!":`Winner: ${m==="p1"?E:w}!`}),f==="scoring"&&b.jsx("div",{className:"scoring-banner",children:"Scoring Phase..."})]}),b.jsxs("div",{className:"scores",children:[b.jsxs("div",{className:"player-score-row player-1",children:[b.jsxs("span",{className:`score-item ${p===0?"active":""}`,children:[E,": ",g[0].score]}),b.jsxs("span",{className:"bonus-item",children:["Bonuses: ",g[0].bonusesClaimed]})]}),b.jsxs("div",{className:"player-score-row player-2",children:[b.jsxs("span",{className:`score-item ${p===1?"active":""}`,children:[w,": ",g[1].score]}),b.jsxs("span",{className:"bonus-item",children:["Bonuses: ",g[1].bonusesClaimed]})]})]})]})},ze=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),n=l.createOscillator(),s=l.createGain();n.connect(s),s.connect(l.destination),n.frequency.value=800,n.type="sine",s.gain.setValueAtTime(.3,l.currentTime),s.gain.exponentialRampToValueAtTime(.01,l.currentTime+.1),n.start(l.currentTime),n.stop(l.currentTime+.1)}catch(l){console.warn("Audio playback not supported:",l)}},_r=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),n=l.createOscillator(),s=l.createGain();n.connect(s),s.connect(l.destination),n.frequency.setValueAtTime(523.25,l.currentTime),n.frequency.linearRampToValueAtTime(659.25,l.currentTime+.1),n.type="sine",s.gain.setValueAtTime(.3,l.currentTime),s.gain.exponentialRampToValueAtTime(.01,l.currentTime+.3),n.start(l.currentTime),n.stop(l.currentTime+.3)}catch(l){console.warn("Audio playback not supported:",l)}};let Fs=[];const Pg=()=>{const l=window.speechSynthesis.getVoices();l.length>0&&(Fs=l)};"speechSynthesis"in window&&(window.speechSynthesis.onvoiceschanged=Pg,Pg());const Ig=l=>{if("speechSynthesis"in window)try{window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(l);Fs.length===0&&(Fs=window.speechSynthesis.getVoices());const s=Fs.find(r=>r.lang==="en-US"&&!r.name.includes("Google"))||Fs.find(r=>r.lang==="en-US")||Fs.find(r=>r.lang.startsWith("en"));s&&(n.voice=s),n.lang="en-US",n.rate=1,n.pitch=1,n.volume=.8,window.speechSynthesis.speak(n)}catch(n){console.warn("Speech synthesis failed:",n)}},L_=({gameState:l,onRestart:n,onClose:s,onViewBoard:r,p1Name:u="Player 1",p2Name:c="Player 2",ratingUpdates:f})=>{const{players:p,winner:g}=l,m=p[0],_=p[1],S=p[0].dice,v=U=>U.replace(/([A-Z])/g," $1").trim(),E=Array.from({length:5}).map((U,q)=>{const Y=[m.board[0][q],m.board[1][q],m.board[2][q]],G=[_.board[0][q],_.board[1][q],_.board[2][q]],P=ki(Y,S[q]),he=ki(G,S[q]);let ue="draw";if(P.rankValue>he.rankValue)ue="p1";else if(he.rankValue>P.rankValue)ue="p2";else{let fe=!1,ge=!1;for(let $e=0;$e<Math.max(P.kickers.length,he.kickers.length);$e++){const xe=P.kickers[$e]||0,it=he.kickers[$e]||0;if(xe>it){fe=!0;break}if(it>xe){ge=!0;break}}fe?ue="p1":ge&&(ue="p2")}return{dice:S[q],p1Hand:v(P.type),p2Hand:v(he.type),winner:ue}}),w=Ci(m.board[2]),R=Ci(_.board[2]),{p1Score:C,p2Score:D}=po(w,R);let H="draw";return C>D?H="p1":D>C&&(H="p2"),b.jsx("div",{className:"game-result-overlay",children:b.jsxs("div",{className:"game-result-modal",children:[b.jsx("div",{className:"winner-announcement",children:g==="draw"?b.jsx("span",{className:"draw-text",children:"Draw - Tie Game!"}):b.jsxs(b.Fragment,{children:["Winner: ",b.jsx("span",{className:g==="p1"?"p1-text":"p2-text",children:g==="p1"?u:c}),"!"]})}),b.jsxs("div",{className:"results-table",children:[b.jsxs("div",{className:"table-header",children:[b.jsx("div",{children:"Dice"}),b.jsx("div",{children:u}),b.jsx("div",{children:c})]}),E.map((U,q)=>b.jsxs("div",{className:"table-row",children:[b.jsx("div",{className:"dice-val",children:U.dice}),b.jsx("div",{className:`hand-name ${U.winner==="p1"?"p1-text":""}`,children:U.p1Hand}),b.jsx("div",{className:`hand-name ${U.winner==="p2"?"p2-text":""}`,children:U.p2Hand})]},q)),b.jsx("div",{className:"table-divider"}),b.jsxs("div",{className:"table-row x-hand-row",children:[b.jsx("div",{children:"X-Hand"}),b.jsxs("div",{className:`hand-name ${H==="p1"?"p1-text":""}`,children:[v(w.type)," ",b.jsxs("span",{className:"score-detail",children:["(",C,")"]})]}),b.jsxs("div",{className:`hand-name ${H==="p2"?"p2-text":""}`,children:[v(R.type)," ",b.jsxs("span",{className:"score-detail",children:["(",D,")"]})]})]})]}),b.jsxs("div",{className:"final-scores",children:[b.jsxs("div",{className:`score-box p1 ${g==="p1"?"winner-box":""}`,children:[b.jsx("h3",{children:u}),b.jsx("div",{className:"score-val",children:m.score}),b.jsxs("div",{className:"bonus-val",children:["Bonuses: ",m.bonusesClaimed]}),f&&f.p1&&b.jsxs("div",{className:"rating-update",children:[b.jsx("div",{children:"Rating"}),b.jsxs("div",{className:"rating-values",children:[f.p1.old,"  ",b.jsx("span",{className:"rating-new",children:f.p1.new})]}),b.jsxs("div",{className:`rating-change ${f.p1.change>=0?"pos":"neg"}`,children:[f.p1.change>=0?"+":"",f.p1.change]})]})]}),b.jsxs("div",{className:`score-box p2 ${g==="p2"?"winner-box":""}`,children:[b.jsx("h3",{children:c}),b.jsx("div",{className:"score-val",children:_.score}),b.jsxs("div",{className:"bonus-val",children:["Bonuses: ",_.bonusesClaimed]}),f&&f.p2&&b.jsxs("div",{className:"rating-update",children:[b.jsx("div",{children:"Rating"}),b.jsxs("div",{className:"rating-values",children:[f.p2.old,"  ",b.jsx("span",{className:"rating-new",children:f.p2.new})]}),b.jsxs("div",{className:`rating-change ${f.p2.change>=0?"pos":"neg"}`,children:[f.p2.change>=0?"+":"",f.p2.change]})]})]})]}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn-secondary view-board-btn",onClick:()=>{ze(),r()},children:"View Board"}),b.jsx("button",{className:"btn-secondary quit-btn",onClick:()=>{ze(),s()},children:"Back to Lobby"}),b.jsx("button",{className:"btn-primary restart-btn",onClick:()=>{ze(),n()},children:"Play Again"})]})]})})},H_=({onCreateRoom:l,onJoinRoom:n,onQuickMatch:s,onCancelMatchmaking:r,roomId:u,isConnected:c,playerRole:f,playerName:p,onPlayerNameChange:g,rating:m,onShowRules:_})=>{const[S,v]=Z.useState("");return c?b.jsxs("div",{className:"lobby-container",children:[b.jsx("h2",{children:"Online Multiplayer"}),b.jsxs("div",{className:"name-input-section",children:[b.jsx("label",{htmlFor:"playerName",children:"Your Name:"}),b.jsx("input",{id:"playerName",type:"text",value:p,onChange:E=>g(E.target.value),maxLength:10,placeholder:"Enter your name"}),m!=null&&b.jsxs("div",{className:"player-rating-display",style:{marginTop:"8px",fontSize:"0.9rem",color:"#ffffff",fontWeight:"bold",backgroundColor:"rgba(0, 0, 0, 0.8)",padding:"4px 12px",borderRadius:"12px",display:"inline-block",textShadow:"none"},children:["Your Rating: ",b.jsx("span",{style:{fontSize:"1.1rem"},children:m})]})]}),b.jsxs("div",{className:"quick-match-section",children:[b.jsx("button",{className:"btn-primary btn-large",onClick:()=>{ze(),s()},children:" Quick Match"}),b.jsx("p",{className:"quick-match-hint",children:"Play against a random opponent"})]}),b.jsx("div",{className:"lobby-helper-actions",style:{display:"flex",justifyContent:"center",marginTop:"1rem"},children:b.jsx("button",{className:"btn-secondary",onClick:()=>{ze(),_()},children:" Rules"})}),b.jsx("div",{className:"divider",children:b.jsx("span",{children:"OR"})}),u?b.jsxs("div",{className:"waiting-room",children:[b.jsx("h3",{children:f==="host"?"Room Created!":"Joined Room!"}),b.jsxs("div",{className:"room-id-display",children:["Room ID: ",b.jsx("span",{children:u}),f==="host"&&b.jsx("button",{className:"btn-icon copy-btn",onClick:()=>{navigator.clipboard.writeText(u),alert("Room ID copied!")},title:"Copy to Clipboard",children:""})]}),b.jsx("p",{children:f==="host"?"Share this ID with your friend.":"Waiting for game to start..."}),f==="host"&&b.jsx("div",{className:"loading-spinner",children:"Waiting for opponent... Game starts automatically."}),f==="guest"&&b.jsx("div",{className:"loading-spinner",children:"Connected to Room"}),b.jsx("button",{className:"btn-cancel",onClick:()=>{ze(),r()},children:"Cancel"})]}):b.jsxs("div",{className:"lobby-actions",children:[b.jsxs("div",{className:"action-box",children:[b.jsx("h3",{children:"Create Room"}),b.jsx("p",{children:"Start a new game and invite a friend."}),b.jsx("button",{className:"btn-primary",onClick:()=>{ze(),l()},children:"Create Room"})]}),b.jsx("div",{className:"divider",children:"OR"}),b.jsxs("div",{className:"action-box",children:[b.jsx("h3",{children:"Join Room"}),b.jsx("p",{children:"Enter the Room ID to join."}),b.jsx("input",{type:"text",placeholder:"Room ID",value:S,onChange:E=>v(E.target.value),maxLength:4}),b.jsx("button",{className:"btn-secondary",onClick:()=>{ze(),n(S)},disabled:S.length!==4,children:"Join Room"})]})]})]}):b.jsxs("div",{className:"lobby-container",children:[b.jsx("h2",{children:"Online Multiplayer"}),b.jsxs("div",{className:"waiting-room",children:[b.jsx("div",{className:"loading-spinner",children:"Connecting to server..."}),b.jsx("p",{style:{marginTop:"1rem",color:"#888"},children:"Ensure the server is running on port 3001."})]})]})},$_=[{id:"white",name:"Classic White",color:"#ffffff"},{id:"red",name:"Ruby Red",color:"#d32f2f"},{id:"blue",name:"Ocean Blue",color:"#1976d2"},{id:"green",name:"Emerald Green",color:"#388e3c"},{id:"yellow",name:"Solar Yellow",color:"#fbc02d"},{id:"purple",name:"Amethyst",color:"#7b1fa2"},{id:"black",name:"Obsidian",color:"#212121"},{id:"pink",name:"Neon Pink",color:"#e91e63"},{id:"orange",name:"Sunset Orange",color:"#f57c00"},{id:"teal",name:"Aqua Teal",color:"#00796b"},{id:"silver",name:"Chrome Silver",color:"#c0c0c0"},{id:"gold",name:"Pure Gold",color:"#ffd700"}],V_=[{id:"classic",name:"Classic Blue",color:"#2196f3"},{id:"red-modern",name:"Modern Red",color:"#f44336"},{id:"blue-modern",name:"Geometric Blue",color:"#3f51b5"},{id:"gold-luxury",name:"Luxury Gold",color:"#ffd700"},{id:"cyber-neon",name:"Cyber Neon",color:"#00e5ff"},{id:"dark-matter",name:"Dark Matter",color:"#202020"},{id:"wood-grain",name:"Oaken Wood",color:"#8d6e63"},{id:"matrix",name:"The Matrix",color:"#00c853"},{id:"sunset",name:"Vaporwave",color:"#ff4081"},{id:"royal-purple",name:"Royal Velvet",color:"#6200ea"},{id:"cool-mint",name:"Cool Mint",color:"#a7ffeb"},{id:"dragon-scale",name:"Dragon Scale",color:"#bf360c"}],G_=[{id:"classic-green",name:"Classic Felt",color:"#2e7d32"},{id:"midnight-blue",name:"Midnight",color:"#1a237e"},{id:"casino-red",name:"Casino Royale",color:"#b71c1c"},{id:"void-black",name:"The Void",color:"#000000"},{id:"neon-grid",name:"Retro Grid",color:"#263238"},{id:"warm-wood",name:"Mahogany",color:"#3e2723"},{id:"ice-blue",name:"Glacier",color:"#e0f7fa"},{id:"royal-gold",name:"VIP Room",color:"#fff8e1"},{id:"cyber-punk",name:"Night City",color:"#212121"},{id:"minimal-grey",name:"Minimalist",color:"#eeeeee"},{id:"space-station",name:"Space Station",color:"#cfd8dc"},{id:"volcano",name:"Volcano",color:"#3e2723"}],P_=({isOpen:l,onClose:n,unlockedSkins:s,selectedSkin:r,onUnlock:u,onSelect:c,unlockedCardSkins:f,selectedCardSkin:p,onUnlockCard:g,onSelectCard:m,unlockedBoardSkins:_,selectedBoardSkin:S,onUnlockBoard:v,onSelectBoard:E})=>{const[w,R]=Z.useState("dice"),[C,D]=Z.useState(null),[H,U]=Z.useState(!1);if(Z.useEffect(()=>{l||(D(null),U(!1),R("dice"))},[l]),!l)return null;const q=(P,he,ue)=>{if(ze(),he)ue(P);else{if(C===P)return;window.open("https://otieu.com/4/10307496","_blank"),D(P),U(!1),setTimeout(()=>{U(!0)},3e3)}},Y=(P,he,ue)=>{P.stopPropagation(),H&&(_r(),ue(he),D(null),U(!1))},G=()=>{let P=[],he=[],ue="",fe=()=>{},ge=()=>{},$e=null;return w==="dice"?(P=$_,he=s,ue=r,fe=u,ge=c,$e=({id:xe})=>b.jsx(Uh,{value:6,size:"medium",skin:xe})):w==="card"?(P=V_,he=f,ue=p,fe=g,ge=m,$e=({id:xe})=>b.jsx("div",{className:`preview-card card-back-${xe}`,children:b.jsx("div",{className:"card-inner"})})):(P=G_,he=_,ue=S,fe=v,ge=E,$e=({id:xe,color:it})=>b.jsx("div",{className:`preview-board board-theme-${xe}`,style:{background:xe==="classic-green"?void 0:it},children:b.jsx("div",{className:"board-line"})})),b.jsx("div",{className:"skins-grid",children:P.map(xe=>{const it=he.includes(xe.id),st=ue===xe.id,B=C===xe.id;return b.jsxs("div",{className:`skin-item ${it?"unlocked":"locked"} ${st?"selected":""} ${B?"pending":""}`,onClick:()=>q(xe.id,it,ge),children:[b.jsx("div",{className:"skin-preview",children:b.jsx($e,{id:xe.id,color:xe.color})}),b.jsx("div",{className:"skin-name",children:xe.name}),!it&&!B&&b.jsx("div",{className:"lock-icon",children:""}),st&&b.jsx("div",{className:"check-icon",children:""}),B&&b.jsx("div",{className:"claim-overlay",children:H?b.jsx("button",{className:"btn-claim pulse-animation",onClick:I=>Y(I,xe.id,fe),children:"CLAIM"}):b.jsx("div",{className:"watching-text",children:"Watching..."})})]},xe.id)})})};return b.jsx("div",{className:"skin-store-overlay",children:b.jsxs("div",{className:"skin-store-modal",children:[b.jsx("button",{className:"btn-close-x",onClick:()=>{ze(),n()},children:""}),b.jsx("h2",{children:"Skin Shop"}),b.jsx("p",{className:"store-subtitle",children:"Watch ad: 3h Skin Unlock"}),b.jsxs("div",{className:"store-tabs",children:[b.jsx("button",{className:`tab-btn ${w==="dice"?"active":""}`,onClick:()=>{ze(),R("dice")},children:"Dice"}),b.jsx("button",{className:`tab-btn ${w==="card"?"active":""}`,onClick:()=>{ze(),R("card")},children:"Cards"}),b.jsx("button",{className:`tab-btn ${w==="board"?"active":""}`,onClick:()=>{ze(),R("board")},children:"Boards"})]}),G(),b.jsx("button",{className:"btn-close",onClick:()=>{ze(),n()},children:"Close"})]})})},I_=({targetValues:l,onComplete:n,selectedSkin:s})=>{const[r,u]=Z.useState([1,1,1,1,1]),[c,f]=Z.useState([!0,!0,!0,!0,!0]),[p,g]=Z.useState("ready");return Z.useEffect(()=>{console.log("[DiceRollOverlay] Mounted. Target Values:",l),g("rolling");const m=[],_=[1500,1800,2100,2400,2700];r.forEach((E,w)=>{const R=setInterval(()=>{u(C=>{const D=[...C];return D[w]=Math.floor(Math.random()*6)+1,D})},80);m.push(R),setTimeout(()=>{clearInterval(m[w]),u(C=>{const D=[...C];return D[w]=l[w],D}),f(C=>{const D=[...C];return D[w]=!1,D}),ze()},_[w])});const v=setTimeout(()=>{g("finished"),setTimeout(n,500)},3500);return()=>{m.forEach(clearInterval),clearTimeout(v)}},[]),b.jsx("div",{className:"dice-roll-overlay",children:b.jsxs("div",{className:"dice-roll-content",children:[b.jsx("h2",{className:"dice-roll-title",children:p==="rolling"?"Rolling Dice...":"Battle Start!"}),b.jsx("div",{className:"dice-container-large",children:r.map((m,_)=>b.jsx("div",{className:`rolling-dice ${c[_]?"shaking":"landed"}`,children:b.jsx(Uh,{value:m,size:"large",skin:s})},_))})]})})},X=(l,n)=>({id:`demo-${l}-${n}-${Math.random()}`,rank:l,suit:n,isJoker:!1,isHidden:!1,isFlipped:!1}),yt=({title:l,note:n,cards:s})=>b.jsxs("div",{className:"hand-example",children:[b.jsxs("div",{className:"hand-header",children:[b.jsx("span",{className:"hand-title",children:l}),n&&b.jsx("span",{className:"hand-note",children:n})]}),b.jsx("div",{className:"hand-cards",children:s.map((r,u)=>b.jsx(mo,{card:r,size:"xs"},u))})]}),Y_=({onClose:l})=>b.jsx("div",{className:"rules-overlay",onClick:l,children:b.jsxs("div",{className:"rules-content",onClick:n=>n.stopPropagation(),children:[b.jsx("button",{className:"close-btn",onClick:l,children:""}),b.jsx("h2",{children:'How to Play "XY Poker"'}),b.jsxs("div",{className:"rules-scroll-area",children:[b.jsxs("section",{children:[b.jsx("h3",{children:" Goal"}),b.jsxs("p",{children:["Build the strongest ",b.jsx("strong",{children:"Poker Hands (Rows)"})," and match ",b.jsx("strong",{children:"Dice Values (Columns)"})," to score points."]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Game Flow"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Turns:"})," Players take turns placing ",b.jsx("strong",{children:"1 Card"})," from their hand onto the ",b.jsx("strong",{children:"5x3 Grid"}),"."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"X-Axis (Rows):"})," The bottom row (Row 3, 5 cards) forms a standard Poker Hand. Stronger hand wins bonus points."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Y-Axis (Columns):"}),` Each of the 5 columns (3 cards vertical) forms a "3-Card Hand". The strength is multiplied by the column's `,b.jsx("strong",{children:"Dice Value"}),"."]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Pure vs Normal"}),b.jsx("p",{children:"There are two types of 3-card hands in the Y-Axis:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Pure (Stronger):"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Straight:"})," Ranks must be ordered (e.g., 3-4-5)."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Pair:"})," Cards must be adjacent (e.g., 5-5-9 or 9-5-5, but NOT 5-9-5)."]})]})]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Normal (Weaker):"})," Any other valid combination (e.g., 3-5-4 Straight, or 5-9-5 Split Pair)."]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{children:" Hand Rankings (Strongest to Weakest)"}),b.jsxs("div",{className:"rankings-grid",children:[b.jsxs("div",{className:"ranking-column",children:[b.jsx("h4",{children:"X-Axis (Horizontal - 5 Cards)"}),b.jsxs("div",{className:"hand-list-visual",children:[b.jsx(yt,{title:"Royal Flush",cards:[X(10,"spades"),X(11,"spades"),X(12,"spades"),X(13,"spades"),X(14,"spades")]}),b.jsx(yt,{title:"Straight Flush",cards:[X(5,"hearts"),X(6,"hearts"),X(7,"hearts"),X(8,"hearts"),X(9,"hearts")]}),b.jsx(yt,{title:"Four of a Kind",cards:[X(8,"clubs"),X(8,"diamonds"),X(8,"hearts"),X(8,"spades"),X(13,"clubs")]}),b.jsx(yt,{title:"Full House",cards:[X(12,"diamonds"),X(12,"clubs"),X(12,"hearts"),X(9,"spades"),X(9,"clubs")]}),b.jsx(yt,{title:"Flush",cards:[X(2,"diamonds"),X(5,"diamonds"),X(8,"diamonds"),X(11,"diamonds"),X(13,"diamonds")]}),b.jsx(yt,{title:"Straight",cards:[X(3,"clubs"),X(4,"diamonds"),X(5,"hearts"),X(6,"spades"),X(7,"clubs")]}),b.jsx(yt,{title:"Three of a Kind",cards:[X(7,"spades"),X(7,"hearts"),X(7,"clubs"),X(2,"diamonds"),X(12,"clubs")]}),b.jsx(yt,{title:"Two Pair",cards:[X(11,"hearts"),X(11,"clubs"),X(4,"diamonds"),X(4,"spades"),X(14,"clubs")]}),b.jsx(yt,{title:"One Pair",cards:[X(9,"clubs"),X(9,"spades"),X(2,"hearts"),X(5,"diamonds"),X(13,"clubs")]}),b.jsx(yt,{title:"High Card",cards:[X(14,"spades"),X(11,"hearts"),X(8,"clubs"),X(5,"diamonds"),X(2,"spades")]})]})]}),b.jsxs("div",{className:"ranking-column",children:[b.jsx("h4",{children:"Y-Axis (Vertical - 3 Cards)"}),b.jsx("p",{style:{fontSize:"0.8rem",color:"#888",marginBottom:"8px"},children:"Cards shown Left to Right = Top to Bottom (Row 1, 2, 3)"}),b.jsxs("div",{className:"hand-list-visual",children:[b.jsx(yt,{title:"Pure Straight Flush",note:"Ordered",cards:[X(5,"hearts"),X(6,"hearts"),X(7,"hearts")]}),b.jsx(yt,{title:"Three of a Kind",cards:[X(8,"clubs"),X(8,"diamonds"),X(8,"spades")]}),b.jsx(yt,{title:"Straight Flush",note:"Unordered",cards:[X(7,"spades"),X(9,"spades"),X(8,"spades")]}),b.jsx(yt,{title:"Pure Straight",note:"Ordered",cards:[X(3,"clubs"),X(4,"hearts"),X(5,"diamonds")]}),b.jsx(yt,{title:"Flush",cards:[X(2,"clubs"),X(9,"clubs"),X(11,"clubs")]}),b.jsx(yt,{title:"Pure One Pair",note:"Adjacent",cards:[X(5,"hearts"),X(5,"clubs"),X(9,"diamonds")]}),b.jsx(yt,{title:"Straight",note:"Unordered",cards:[X(4,"diamonds"),X(6,"spades"),X(5,"clubs")]}),b.jsx(yt,{title:"One Pair",note:"Split",cards:[X(8,"clubs"),X(12,"diamonds"),X(8,"spades")]}),b.jsx(yt,{title:"High Card",cards:[X(13,"hearts"),X(5,"clubs"),X(2,"diamonds")]})]})]})]})]})]})]})}),K_=({timeLeft:l,currentPlayerIndex:n,isMyTurn:s})=>{const r=n===0?"#4da8da":"#ff4d4d";return b.jsxs("div",{className:`turn-timer ${l<=10?"warning":""}`,style:{borderColor:r},children:[b.jsx("div",{className:"timer-label",children:s?"Your Turn":"Opponent's Turn"}),b.jsxs("div",{className:"timer-value",children:[l,"s"]})]})};var Zn={},Kl={},ch=function(l,n){return ch=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(s[u]=r[u])},ch(l,n)};function Nm(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ch(l,n);function s(){this.constructor=l}l.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var yo=function(){return yo=Object.assign||function(n){for(var s,r=1,u=arguments.length;r<u;r++){s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},yo.apply(this,arguments)};function aa(l,n){var s={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&n.indexOf(r)<0&&(s[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(l);u<r.length;u++)n.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(l,r[u])&&(s[r[u]]=l[r[u]]);return s}function Dm(l,n,s,r){var u=arguments.length,c=u<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,s):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,n,s,r);else for(var p=l.length-1;p>=0;p--)(f=l[p])&&(c=(u<3?f(c):u>3?f(n,s,c):f(n,s))||c);return u>3&&c&&Object.defineProperty(n,s,c),c}function Um(l,n){return function(s,r){n(s,r,l)}}function Mm(l,n,s,r,u,c){function f(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var p=r.kind,g=p==="getter"?"get":p==="setter"?"set":"value",m=!n&&l?r.static?l:l.prototype:null,_=n||(m?Object.getOwnPropertyDescriptor(m,r.name):{}),S,v=!1,E=s.length-1;E>=0;E--){var w={};for(var R in r)w[R]=R==="access"?{}:r[R];for(var R in r.access)w.access[R]=r.access[R];w.addInitializer=function(D){if(v)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(D||null))};var C=(0,s[E])(p==="accessor"?{get:_.get,set:_.set}:_[g],w);if(p==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(S=f(C.get))&&(_.get=S),(S=f(C.set))&&(_.set=S),(S=f(C.init))&&u.unshift(S)}else(S=f(C))&&(p==="field"?u.unshift(S):_[g]=S)}m&&Object.defineProperty(m,r.name,_),v=!0}function Bm(l,n,s){for(var r=arguments.length>2,u=0;u<n.length;u++)s=r?n[u].call(l,s):n[u].call(l);return r?s:void 0}function zm(l){return typeof l=="symbol"?l:"".concat(l)}function qm(l,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function Lm(l,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,n)}function F(l,n,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(_){try{m(r.next(_))}catch(S){f(S)}}function g(_){try{m(r.throw(_))}catch(S){f(S)}}function m(_){_.done?c(_.value):u(_.value).then(p,g)}m((r=r.apply(l,n||[])).next())})}function Hm(l,n){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,u,c,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=p(0),f.throw=p(1),f.return=p(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(m){return function(_){return g([m,_])}}function g(m){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(s=0)),s;)try{if(r=1,u&&(c=m[0]&2?u.return:m[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,m[1])).done)return c;switch(u=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,u=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=n.call(l,s)}catch(_){m=[6,_],u=0}finally{r=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var ko=Object.create?(function(l,n,s,r){r===void 0&&(r=s);var u=Object.getOwnPropertyDescriptor(n,s);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(l,r,u)}):(function(l,n,s,r){r===void 0&&(r=s),l[r]=n[s]});function $m(l,n){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&ko(n,l,s)}function vo(l){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&l[n],r=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mh(l,n){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var r=s.call(l),u,c=[],f;try{for(;(n===void 0||n-- >0)&&!(u=r.next()).done;)c.push(u.value)}catch(p){f={error:p}}finally{try{u&&!u.done&&(s=r.return)&&s.call(r)}finally{if(f)throw f.error}}return c}function Vm(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(Mh(arguments[n]));return l}function Gm(){for(var l=0,n=0,s=arguments.length;n<s;n++)l+=arguments[n].length;for(var r=Array(l),u=0,n=0;n<s;n++)for(var c=arguments[n],f=0,p=c.length;f<p;f++,u++)r[u]=c[f];return r}function Pm(l,n,s){if(s||arguments.length===2)for(var r=0,u=n.length,c;r<u;r++)(c||!(r in n))&&(c||(c=Array.prototype.slice.call(n,0,r)),c[r]=n[r]);return l.concat(c||Array.prototype.slice.call(n))}function ia(l){return this instanceof ia?(this.v=l,this):new ia(l)}function Im(l,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(l,n||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(E){return function(w){return Promise.resolve(w).then(E,S)}}function p(E,w){r[E]&&(u[E]=function(R){return new Promise(function(C,D){c.push([E,R,C,D])>1||g(E,R)})},w&&(u[E]=w(u[E])))}function g(E,w){try{m(r[E](w))}catch(R){v(c[0][3],R)}}function m(E){E.value instanceof ia?Promise.resolve(E.value.v).then(_,S):v(c[0][2],E)}function _(E){g("next",E)}function S(E){g("throw",E)}function v(E,w){E(w),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Ym(l){var n,s;return n={},r("next"),r("throw",function(u){throw u}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(u,c){n[u]=l[u]?function(f){return(s=!s)?{value:ia(l[u](f)),done:!1}:c?c(f):f}:c}}function Km(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],s;return n?n.call(l):(l=typeof vo=="function"?vo(l):l[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(c){s[c]=l[c]&&function(f){return new Promise(function(p,g){f=l[c](f),u(p,g,f.done,f.value)})}}function u(c,f,p,g){Promise.resolve(g).then(function(m){c({value:m,done:p})},f)}}function Xm(l,n){return Object.defineProperty?Object.defineProperty(l,"raw",{value:n}):l.raw=n,l}var X_=Object.create?(function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}):function(l,n){l.default=n},hh=function(l){return hh=Object.getOwnPropertyNames||function(n){var s=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[s.length]=r);return s},hh(l)};function Jm(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var s=hh(l),r=0;r<s.length;r++)s[r]!=="default"&&ko(n,l,s[r]);return X_(n,l),n}function Qm(l){return l&&l.__esModule?l:{default:l}}function Zm(l,n,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?l!==n||!r:!n.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(l):r?r.value:n.get(l)}function Fm(l,n,s,r,u){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?l!==n||!u:!n.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?u.call(l,s):u?u.value=s:n.set(l,s),s}function Wm(l,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?n===l:l.has(n)}function ey(l,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],s&&(u=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");u&&(r=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:n,dispose:r,async:s})}else s&&l.stack.push({async:!0});return n}var J_=typeof SuppressedError=="function"?SuppressedError:function(l,n,s){var r=new Error(s);return r.name="SuppressedError",r.error=l,r.suppressed=n,r};function ty(l){function n(c){l.error=l.hasError?new J_(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var s,r=0;function u(){for(;s=l.stack.pop();)try{if(!s.async&&r===1)return r=0,l.stack.push(s),Promise.resolve().then(u);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(c).then(u,function(f){return n(f),u()})}else r|=1}catch(f){n(f)}if(r===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()}function ny(l,n){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,u,c,f){return r?n?".jsx":".js":u&&(!c||!f)?s:u+c+"."+f.toLowerCase()+"js"}):l}const Q_={__extends:Nm,__assign:yo,__rest:aa,__decorate:Dm,__param:Um,__esDecorate:Mm,__runInitializers:Bm,__propKey:zm,__setFunctionName:qm,__metadata:Lm,__awaiter:F,__generator:Hm,__createBinding:ko,__exportStar:$m,__values:vo,__read:Mh,__spread:Vm,__spreadArrays:Gm,__spreadArray:Pm,__await:ia,__asyncGenerator:Im,__asyncDelegator:Ym,__asyncValues:Km,__makeTemplateObject:Xm,__importStar:Jm,__importDefault:Qm,__classPrivateFieldGet:Zm,__classPrivateFieldSet:Fm,__classPrivateFieldIn:Wm,__addDisposableResource:ey,__disposeResources:ty,__rewriteRelativeImportExtension:ny},Z_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ey,get __assign(){return yo},__asyncDelegator:Ym,__asyncGenerator:Im,__asyncValues:Km,__await:ia,__awaiter:F,__classPrivateFieldGet:Zm,__classPrivateFieldIn:Wm,__classPrivateFieldSet:Fm,__createBinding:ko,__decorate:Dm,__disposeResources:ty,__esDecorate:Mm,__exportStar:$m,__extends:Nm,__generator:Hm,__importDefault:Qm,__importStar:Jm,__makeTemplateObject:Xm,__metadata:Lm,__param:Um,__propKey:zm,__read:Mh,__rest:aa,__rewriteRelativeImportExtension:ny,__runInitializers:Bm,__setFunctionName:qm,__spread:Vm,__spreadArray:Pm,__spreadArrays:Gm,__values:vo,default:Q_},Symbol.toStringTag,{value:"Module"})),F_=l=>l?(...n)=>l(...n):(...n)=>fetch(...n);let Co=class extends Error{constructor(n,s="FunctionsError",r){super(n),this.name=s,this.context=r}},iy=class extends Co{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},fh=class extends Co{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},dh=class extends Co{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var _o;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(_o||(_o={}));class W_{constructor(n,{headers:s={},customFetch:r,region:u=_o.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=F_(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return F(this,arguments,void 0,function*(s,r={}){var u;let c,f;try{const{headers:p,method:g,body:m,signal:_,timeout:S}=r;let v={},{region:E}=r;E||(E=this.region);const w=new URL(`${this.url}/${s}`);E&&E!=="any"&&(v["x-region"]=E,w.searchParams.set("forceFunctionRegion",E));let R;m&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",R=m):typeof m=="string"?(v["Content-Type"]="text/plain",R=m):typeof FormData<"u"&&m instanceof FormData?R=m:(v["Content-Type"]="application/json",R=JSON.stringify(m)):R=m;let C=_;S&&(f=new AbortController,c=setTimeout(()=>f.abort(),S),_?(C=f.signal,_.addEventListener("abort",()=>f.abort())):C=f.signal);const D=yield this.fetch(w.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),p),body:R,signal:C}).catch(Y=>{throw new iy(Y)}),H=D.headers.get("x-relay-error");if(H&&H==="true")throw new fh(D);if(!D.ok)throw new dh(D);let U=((u=D.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),q;return U==="application/json"?q=yield D.json():U==="application/octet-stream"||U==="application/pdf"?q=yield D.blob():U==="text/event-stream"?q=D:U==="multipart/form-data"?q=yield D.formData():q=yield D.text(),{data:q,error:null,response:D}}catch(p){return{data:null,error:p,response:p instanceof dh||p instanceof fh?p.context:void 0}}finally{c&&clearTimeout(c)}})}}const eb=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return _o},FunctionsClient:W_,FunctionsError:Co,FunctionsFetchError:iy,FunctionsHttpError:dh,FunctionsRelayError:fh},Symbol.toStringTag,{value:"Module"})),sy=Or(eb);var Nt={};const ra=Or(Z_);var Xl={},Jl={},Ql={},Zl={},Fl={},Wl={},Yg;function ay(){if(Yg)return Wl;Yg=1,Object.defineProperty(Wl,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Wl.default=l,Wl}var Kg;function ry(){if(Kg)return Fl;Kg=1,Object.defineProperty(Fl,"__esModule",{value:!0});const n=ra.__importDefault(ay());let s=class{constructor(u){var c,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var m,_,S,v;let E=null,w=null,R=null,C=g.status,D=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Y=await g.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?w=Y:w=JSON.parse(Y))}const U=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),q=(S=g.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");U&&q&&q.length>1&&(R=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(E={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,R=null,C=406,D="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const U=await g.text();try{E=JSON.parse(U),Array.isArray(E)&&g.status===404&&(w=[],E=null,C=200,D="OK")}catch{g.status===404&&U===""?(C=204,D="No Content"):E={message:U}}if(E&&this.isMaybeSingle&&(!((v=E?.details)===null||v===void 0)&&v.includes("0 rows"))&&(E=null,C=200,D="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:w,count:R,status:C,statusText:D}});return this.shouldThrowOnError||(p=p.catch(g=>{var m,_,S,v,E,w;let R="";const C=g?.cause;if(C){const D=(m=C?.message)!==null&&m!==void 0?m:"",H=(_=C?.code)!==null&&_!==void 0?_:"";R=`${(S=g?.name)!==null&&S!==void 0?S:"FetchError"}: ${g?.message}`,R+=`

Caused by: ${(v=C?.name)!==null&&v!==void 0?v:"Error"}: ${D}`,H&&(R+=` (${H})`),C?.stack&&(R+=`
${C.stack}`)}else R=(E=g?.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(w=g?.name)!==null&&w!==void 0?w:"FetchError"}: ${g?.message}`,details:R,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}};return Fl.default=s,Fl}var Xg;function ly(){if(Xg)return Zl;Xg=1,Object.defineProperty(Zl,"__esModule",{value:!0});const n=ra.__importDefault(ry());let s=class extends n.default{select(u){let c=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",_=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${_?`${_},`:""}${u}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,c,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(m,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var _;const S=[u?"analyze":null,c?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),v=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${S};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}};return Zl.default=s,Zl}var Jg;function Bh(){if(Jg)return Ql;Jg=1,Object.defineProperty(Ql,"__esModule",{value:!0});const n=ra.__importDefault(ly()),s=new RegExp("[,()]");let r=class extends n.default{eq(c,f){return this.url.searchParams.append(c,`eq.${f}`),this}neq(c,f){return this.url.searchParams.append(c,`neq.${f}`),this}gt(c,f){return this.url.searchParams.append(c,`gt.${f}`),this}gte(c,f){return this.url.searchParams.append(c,`gte.${f}`),this}lt(c,f){return this.url.searchParams.append(c,`lt.${f}`),this}lte(c,f){return this.url.searchParams.append(c,`lte.${f}`),this}like(c,f){return this.url.searchParams.append(c,`like.${f}`),this}likeAllOf(c,f){return this.url.searchParams.append(c,`like(all).{${f.join(",")}}`),this}likeAnyOf(c,f){return this.url.searchParams.append(c,`like(any).{${f.join(",")}}`),this}ilike(c,f){return this.url.searchParams.append(c,`ilike.${f}`),this}ilikeAllOf(c,f){return this.url.searchParams.append(c,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(c,f){return this.url.searchParams.append(c,`ilike(any).{${f.join(",")}}`),this}regexMatch(c,f){return this.url.searchParams.append(c,`match.${f}`),this}regexIMatch(c,f){return this.url.searchParams.append(c,`imatch.${f}`),this}is(c,f){return this.url.searchParams.append(c,`is.${f}`),this}isDistinct(c,f){return this.url.searchParams.append(c,`isdistinct.${f}`),this}in(c,f){const p=Array.from(new Set(f)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cs.{${f.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(f)}`),this}containedBy(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cd.{${f.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(f)}`),this}rangeGt(c,f){return this.url.searchParams.append(c,`sr.${f}`),this}rangeGte(c,f){return this.url.searchParams.append(c,`nxl.${f}`),this}rangeLt(c,f){return this.url.searchParams.append(c,`sl.${f}`),this}rangeLte(c,f){return this.url.searchParams.append(c,`nxr.${f}`),this}rangeAdjacent(c,f){return this.url.searchParams.append(c,`adj.${f}`),this}overlaps(c,f){return typeof f=="string"?this.url.searchParams.append(c,`ov.${f}`):this.url.searchParams.append(c,`ov.{${f.join(",")}}`),this}textSearch(c,f,{config:p,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const _=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${m}fts${_}.${f}`),this}match(c){return Object.entries(c).forEach(([f,p])=>{this.url.searchParams.append(f,`eq.${p}`)}),this}not(c,f,p){return this.url.searchParams.append(c,`not.${f}.${p}`),this}or(c,{foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,f,p){return this.url.searchParams.append(c,`${f}.${p}`),this}};return Ql.default=r,Ql}var Qg;function oy(){if(Qg)return Jl;Qg=1,Object.defineProperty(Jl,"__esModule",{value:!0});const n=ra.__importDefault(Bh());let s=class{constructor(u,{headers:c={},schema:f,fetch:p}){this.url=u,this.headers=new Headers(c),this.schema=f,this.fetch=p}select(u,c){const{head:f=!1,count:p}=c??{},g=f?"HEAD":"GET";let m=!1;const _=(u??"*").split("").map(S=>/\s/.test(S)&&!m?"":(S==='"'&&(m=!m),S)).join("");return this.url.searchParams.set("select",_),p&&this.headers.append("Prefer",`count=${p}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:f=!0}={}){var p;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const m=u.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(m.length>0){const _=[...new Set(m)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var m;const _="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const S=u.reduce((v,E)=>v.concat(Object.keys(E)),[]);if(S.length>0){const v=[...new Set(S)].map(E=>`"${E}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(u,{count:c}={}){var f;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var c;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Jl.default=s,Jl}var Zg;function tb(){if(Zg)return Xl;Zg=1,Object.defineProperty(Xl,"__esModule",{value:!0});const l=ra,n=l.__importDefault(oy()),s=l.__importDefault(Bh());let r=class uy{constructor(c,{headers:f={},schema:p,fetch:g}={}){this.url=c,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new uy(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:p=!1,get:g=!1,count:m}={}){var _;let S;const v=new URL(`${this.url}/rpc/${c}`);let E;p||g?(S=p?"HEAD":"GET",Object.entries(f).filter(([R,C])=>C!==void 0).map(([R,C])=>[R,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([R,C])=>{v.searchParams.append(R,C)})):(S="POST",E=f);const w=new Headers(this.headers);return m&&w.set("Prefer",`count=${m}`),new s.default({method:S,url:v,headers:w,schema:this.schemaName,body:E,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}};return Xl.default=r,Xl}var Fg;function cy(){if(Fg)return Nt;Fg=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const l=ra,n=l.__importDefault(tb());Nt.PostgrestClient=n.default;const s=l.__importDefault(oy());Nt.PostgrestQueryBuilder=s.default;const r=l.__importDefault(Bh());Nt.PostgrestFilterBuilder=r.default;const u=l.__importDefault(ly());Nt.PostgrestTransformBuilder=u.default;const c=l.__importDefault(ry());Nt.PostgrestBuilder=c.default;const f=l.__importDefault(ay());return Nt.PostgrestError=f.default,Nt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:f.default},Nt}class hy{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,u=parseInt(r.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const r=this.getWebSocketConstructor();return new r(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const nb="2.87.1",ib=`realtime-js/${nb}`,fy="1.0.0",sb="2.0.0",Wg=fy,ph=1e4,ab=1e3,rb=100;var is;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(is||(is={}));var ht;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(ht||(ht={}));var wn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(wn||(wn={}));var gh;(function(l){l.websocket="websocket"})(gh||(gh={}));var ss;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(ss||(ss={}));class lb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,r;const u=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var s,r;const u=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,r){var u,c;const f=n.topic,p=(u=n.ref)!==null&&u!==void 0?u:"",g=(c=n.join_ref)!==null&&c!==void 0?c:"",m=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+f.length+m.length+S.length,E=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(E),R=0;w.setUint8(R++,this.KINDS.userBroadcastPush),w.setUint8(R++,g.length),w.setUint8(R++,p.length),w.setUint8(R++,f.length),w.setUint8(R++,m.length),w.setUint8(R++,S.length),w.setUint8(R++,s),Array.from(g,D=>w.setUint8(R++,D.charCodeAt(0))),Array.from(p,D=>w.setUint8(R++,D.charCodeAt(0))),Array.from(f,D=>w.setUint8(R++,D.charCodeAt(0))),Array.from(m,D=>w.setUint8(R++,D.charCodeAt(0))),Array.from(S,D=>w.setUint8(R++,D.charCodeAt(0)));var C=new Uint8Array(E.byteLength+r.byteLength);return C.set(new Uint8Array(E),0),C.set(new Uint8Array(r),E.byteLength),C.buffer}decode(n,s){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return s(r)}if(typeof n=="string"){const r=JSON.parse(n),[u,c,f,p,g]=r;return s({join_ref:u,ref:c,topic:f,event:p,payload:g})}return s({})}_binaryDecode(n){const s=new DataView(n),r=s.getUint8(0),u=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,u)}}_decodeUserBroadcast(n,s,r){const u=s.getUint8(1),c=s.getUint8(2),f=s.getUint8(3),p=s.getUint8(4);let g=this.HEADER_LENGTH+4;const m=r.decode(n.slice(g,g+u));g=g+u;const _=r.decode(n.slice(g,g+c));g=g+c;const S=r.decode(n.slice(g,g+f));g=g+f;const v=n.slice(g,n.byteLength),E=p===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,w={type:this.BROADCAST_EVENT,event:_,payload:E};return f>0&&(w.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>s.includes(r)))}}class dy{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ie||(Ie={}));const em=(l,n,s={})=>{var r;const u=(r=s.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=ob(f,l,n,u),c),{}):{}},ob=(l,n,s,r)=>{const u=n.find(p=>p.name===l),c=u?.type,f=s[l];return c&&!r.includes(c)?py(c,f):mh(f)},py=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return fb(n,s)}switch(l){case Ie.bool:return ub(n);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return cb(n);case Ie.json:case Ie.jsonb:return hb(n);case Ie.timestamp:return db(n);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return mh(n);default:return mh(n)}},mh=l=>l,ub=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},cb=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},hb=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},fb=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,r=l[s];if(l[0]==="{"&&r==="}"){let c;const f=l.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>py(n,p))}return l},db=l=>typeof l=="string"?l.replace(" ","T"):l,gy=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Fc{constructor(n,s,r={},u=ph){this.channel=n,this.event=s,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var r;return this._hasReceived(n)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var yh;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(yh||(yh={}));let my=class ao{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ao.syncState(this.state,u,c,f),this.pendingDiffs.forEach(g=>{this.state=ao.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},u=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ao.syncDiff(this.state,u,c,f),p())}),this.onJoin((u,c,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:f})}),this.onLeave((u,c,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,r,u){const c=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(c,(m,_)=>{f[m]||(g[m]=_)}),this.map(f,(m,_)=>{const S=c[m];if(S){const v=_.map(C=>C.presence_ref),E=S.map(C=>C.presence_ref),w=_.filter(C=>E.indexOf(C.presence_ref)<0),R=S.filter(C=>v.indexOf(C.presence_ref)<0);w.length>0&&(p[m]=w),R.length>0&&(g[m]=R)}else p[m]=_}),this.syncDiff(c,{joins:p,leaves:g},r,u)}static syncDiff(n,s,r,u){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(c,(p,g)=>{var m;const _=(m=n[p])!==null&&m!==void 0?m:[];if(n[p]=this.cloneDeep(g),_.length>0){const S=n[p].map(E=>E.presence_ref),v=_.filter(E=>S.indexOf(E.presence_ref)<0);n[p].unshift(...v)}r(p,_,g)}),this.map(f,(p,g)=>{let m=n[p];if(!m)return;const _=g.map(S=>S.presence_ref);m=m.filter(S=>_.indexOf(S.presence_ref)<0),n[p]=m,u(p,m,g),m.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(r=>s(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,r)=>{const u=n[r];return"metas"in u?s[r]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[r]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var vh;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(vh||(vh={}));var ta;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(ta||(ta={}));var jn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));const pb=ht;let yy=class br{constructor(n,s={config:{}},r){var u,c;if(this.topic=n,this.params=s,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Fc(this,wn.join,this.params,this.timeout),this.rejoinTimer=new dy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new my(this),this.broadcastEndpointURL=gy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var r,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,m=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[ta.PRESENCE]&&this.bindings[ta.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,S={},v={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:_}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(jn.CHANNEL_ERROR,E)),this._onClose(()=>n?.(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},S)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:E})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n?.(jn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,C=(w=R?.length)!==null&&w!==void 0?w:0,D=[];for(let H=0;H<C;H++){const U=R[H],{filter:{event:q,schema:Y,table:G,filter:P}}=U,he=E&&E[H];if(he&&he.event===q&&br.isFilterValueEqual(he.schema,Y)&&br.isFilterValueEqual(he.table,G)&&br.isFilterValueEqual(he.filter,P))D.push(Object.assign(Object.assign({},U),{id:he.id}));else{this.unsubscribe(),this.state=ht.errored,n?.(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,n&&n(jn.SUBSCRIBED);return}}).receive("error",E=>{this.state=ht.errored,n?.(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,r){return this.state===ht.joined&&n===ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,r)}async httpSend(n,s,r={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=r.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const m=await p.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(n,s={}){var r,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,g;const m=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ht.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new Fc(this,wn.leave,{},n),r.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(n,s,r){const u=new AbortController,c=setTimeout(()=>u.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),f}_push(n,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Fc(this,n,s,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>rb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,r){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,r){var u,c;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:m,join:_}=wn;if(r&&[p,g,m,_].indexOf(f)>=0&&r!==this._joinRef())return;let v=this._onMessage(f,s,r);if(s&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(E=>{var w,R,C;return((w=E.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(R=E.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===f}).map(E=>E.callback(v,r)):(c=this.bindings[f])===null||c===void 0||c.filter(E=>{var w,R,C,D,H,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const q=E.id,Y=(w=E.filter)===null||w===void 0?void 0:w.event;return q&&((R=s.ids)===null||R===void 0?void 0:R.includes(q))&&(Y==="*"||Y?.toLocaleLowerCase()===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const q=(H=(D=E?.filter)===null||D===void 0?void 0:D.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return q==="*"||q===((U=s?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:R,table:C,commit_timestamp:D,type:H,errors:U}=w;v=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:D,eventType:H,new:{},old:{},errors:U}),this._getPayloadRecords(w))}E.callback(v,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,r){const u=n.toLocaleLowerCase(),c={type:u,filter:s,callback:r};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,s){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&br.isEqual(u.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(n[r]!==s[r])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(wn.close,{},n)}_onError(n){this._on(wn.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=em(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=em(n.columns,n.old_record)),s}};const Wc=()=>{},eo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gb=[1e3,2e3,5e3,1e4],mb=1e4,yb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let vb=class{constructor(n,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ph,this.transport=null,this.heartbeatIntervalMs=eo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wc,this.ref=0,this.reconnectTimer=null,this.vsn=Wg,this.logger=Wc,this.conn=null,this.sendBuffer=[],this.serializer=new lb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${gh.websocket}`,this.httpEndpoint=gy(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hy.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,r){this.logger(n,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return ss.Connecting;case is.open:return ss.Open;case is.closing:return ss.Closing;default:return ss.Closed}}isConnected(){return this.connectionState()===ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const r=`realtime:${n}`,u=this.getChannels().find(c=>c.topic===r);if(u)return u;{const c=new yy(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:r,payload:u,ref:c}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${r} (${c})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(ab,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},eo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:u,payload:c,ref:f}=s,p=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${r} ${u} ${p}`.trim(),c),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(u,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===is.open||this.conn.readyState===is.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(wn.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const r=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${r}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const r=new Blob([yb],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,r=!1;if(n)s=n,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:ib};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(wn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(s)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new dy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,r,u,c,f,p,g,m,_,S,v,E;switch(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:ph,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:eo.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Wc,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:Wg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n?.reconnectAfterMs)!==null&&m!==void 0?m:(w=>gb[w-1]||mb),this.vsn){case fy:this.encode=(_=n?.encode)!==null&&_!==void 0?_:((w,R)=>R(JSON.stringify(w))),this.decode=(S=n?.decode)!==null&&S!==void 0?S:((w,R)=>R(JSON.parse(w)));break;case sb:this.encode=(v=n?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(E=n?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};const _b=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:pb,get REALTIME_LISTEN_TYPES(){return ta},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return vh},get REALTIME_PRESENCE_LISTEN_EVENTS(){return yh},get REALTIME_SUBSCRIBE_STATES(){return jn},RealtimeChannel:yy,RealtimeClient:vb,RealtimePresence:my,WebSocketFactory:hy},Symbol.toStringTag,{value:"Module"})),vy=Or(_b);class Rr extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Qe(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class _y extends Rr{constructor(n,s,r){super(n),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bo extends Rr{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const zh=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),bb=()=>Response,_h=l=>{if(Array.isArray(l))return l.map(s=>_h(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,r])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=_h(r)}),n},Sb=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},wb=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),eh=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},Eb=(l,n,s)=>F(void 0,void 0,void 0,function*(){const r=yield bb();l instanceof r&&!s?.noResolveJson?l.json().then(u=>{const c=l.status||500,f=u?.statusCode||c+"";n(new _y(eh(u),c,f))}).catch(u=>{n(new bo(eh(u),u))}):n(new bo(eh(l),l))}),Tb=(l,n,s,r)=>{const u={method:l,headers:n?.headers||{}};return l==="GET"||!r?u:(Sb(r)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(r)):u.body=r,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),s))};function kr(l,n,s,r,u,c){return F(this,void 0,void 0,function*(){return new Promise((f,p)=>{l(s,Tb(n,r,u,c)).then(g=>{if(!g.ok)throw g;return r?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Eb(g,p,r))})})}function Tr(l,n,s,r){return F(this,void 0,void 0,function*(){return kr(l,"GET",n,s,r)})}function Sn(l,n,s,r,u){return F(this,void 0,void 0,function*(){return kr(l,"POST",n,r,u,s)})}function bh(l,n,s,r,u){return F(this,void 0,void 0,function*(){return kr(l,"PUT",n,r,u,s)})}function Ab(l,n,s,r){return F(this,void 0,void 0,function*(){return kr(l,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function qh(l,n,s,r,u){return F(this,void 0,void 0,function*(){return kr(l,"DELETE",n,r,u,s)})}class Ob{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}}var by;class Rb{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[by]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ob(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}}by=Symbol.toStringTag;const kb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cb{constructor(n,s={},r,u){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=r,this.fetch=zh(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,r,u){return F(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},tm),u);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const m=this._removeEmptyFolders(s),_=this._getFinalPath(m),S=yield(n=="PUT"?bh:Sn)(this.fetch,`${this.url}/object/${_}`,c,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:S.Id,fullPath:S.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}upload(n,s,r){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,r)})}uploadToSignedUrl(n,s,r,u){return F(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const m=Object.assign({upsert:tm.upsert},u),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",m.cacheControl)):(g=r,_["cache-control"]=`max-age=${m.cacheControl}`,_["content-type"]=m.contentType);const S=yield bh(this.fetch,p.toString(),g,{headers:_});return{data:{path:c,fullPath:S.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Qe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return F(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield Sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:u}),f=new URL(this.url+c.url),p=f.searchParams.get("token");if(!p)throw new Rr("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}update(n,s,r){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,r)})}move(n,s,r){return F(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Qe(u))return{data:null,error:u};throw u}})}copy(n,s,r){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Qe(u))return{data:null,error:u};throw u}})}createSignedUrl(n,s,r){return F(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield Sn(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Qe(u))return{data:null,error:u};throw u}})}createSignedUrls(n,s,r){return F(this,void 0,void 0,function*(){try{const u=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Qe(u))return{data:null,error:u};throw u}})}download(n,s){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),f=c?`?${c}`:"",p=this._getFinalPath(n),g=()=>Tr(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new Rb(g,this.shouldThrowOnError)}info(n){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const r=yield Tr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:_h(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}exists(n){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Ab(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof bo){const u=r.originalError;if([400,404].includes(u?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,s){const r=this._getFinalPath(n),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&u.push(g);let m=u.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${r}${m}`)}}}remove(n){return F(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}list(n,s,r){return F(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},kb),s),{prefix:n||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},r),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Qe(u))return{data:null,error:u};throw u}})}listV2(n,s){return F(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield Sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Sy="2.87.1",wy={"X-Client-Info":`storage-js/${Sy}`};class jb{constructor(n,s={},r,u){this.shouldThrowOnError=!1;const c=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wy),s),this.fetch=zh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return F(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield Tr(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}getBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}createBucket(n){return F(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Qe(u))return{data:null,error:u};throw u}})}updateBucket(n,s){return F(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}emptyBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Ar=class extends Error{constructor(l,n){super(l),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xb(l,n,s){const r=new URL(n,l);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&r.searchParams.set(u,c);return r.toString()}async function Nb(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Db(l){const n=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:u,body:c,headers:f}){const p=xb(l.baseUrl,r,u),g=await Nb(l.auth),m=await n(p,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...g,...f},body:c?JSON.stringify(c):void 0}),_=await m.text(),S=(m.headers.get("content-type")||"").includes("application/json"),v=S&&_?JSON.parse(_):_;if(!m.ok){const E=S?v:void 0,w=E?.error;throw new Ar(w?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:w?.type,icebergCode:w?.code,details:E})}return{status:m.status,headers:m.headers,data:v}}}}function to(l){return l.join("")}var Ub=class{constructor(l,n=""){this.client=l,this.prefix=n}async listNamespaces(l){const n=l?{parent:to(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(l,n){const s={namespace:l.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${to(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${to(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${to(l.namespace)}`}),!0}catch(n){if(n instanceof Ar&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(l,n){try{return await this.createNamespace(l,n)}catch(s){if(s instanceof Ar&&s.status===409)return;throw s}}};function Xs(l){return l.join("")}var Mb=class{constructor(l,n="",s){this.client=l,this.prefix=n,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables`})).data.identifiers}async createTable(l,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(l,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables/${l.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(l){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables/${l.name}`,headers:n})).data.metadata}async tableExists(l){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xs(l.namespace)}/tables/${l.name}`,headers:n}),!0}catch(s){if(s instanceof Ar&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,n){try{return await this.createTable(l,n)}catch(s){if(s instanceof Ar&&s.status===409)return await this.loadTable({namespace:l.namespace,name:n.name});throw s}}},Bb=class{constructor(l){let n="v1";l.catalogName&&(n+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Db({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Ub(this.client,n),this.tableOps=new Mb(this.client,n,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,n){return this.namespaceOps.createNamespace(l,n)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,n){return this.tableOps.createTable(l,n)}async updateTable(l,n){return this.tableOps.updateTable(l,n)}async dropTable(l,n){await this.tableOps.dropTable(l,n)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,n){return this.namespaceOps.createNamespaceIfNotExists(l,n)}async createTableIfNotExists(l,n){return this.tableOps.createTableIfNotExists(l,n)}};class Ey{constructor(n,s={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wy),s),this.fetch=zh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}listBuckets(n){return F(this,void 0,void 0,function*(){try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const r=s.toString(),u=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Tr(this.fetch,u,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}from(n){if(!wb(n))throw new Rr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Bb({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>F(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(c,f){const p=c[f];return typeof p!="function"?p:(...g)=>F(this,void 0,void 0,function*(){try{return{data:yield p.apply(c,g),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}})}})}}const Lh={"X-Client-Info":`storage-js/${Sy}`,"Content-Type":"application/json"};class Hh extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class ro extends Hh{constructor(n,s,r){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ty extends Hh{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var Sh;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Sh||(Sh={}));const jo=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),zb=()=>Response,Ay=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},qb=l=>Array.from(new Float32Array(l)),Lb=(l,n)=>{if(n!==void 0&&l.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${l.float32.length}`)},nm=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Hb=(l,n,s)=>F(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!s?.noResolveJson){const u=l.status||500,c=l;if(typeof c.json=="function")c.json().then(f=>{const p=f?.statusCode||f?.code||u+"";n(new ro(nm(f),u,p))}).catch(()=>{const f=u+"",p=c.statusText||`HTTP ${u} error`;n(new ro(p,u,f))});else{const f=u+"",p=c.statusText||`HTTP ${u} error`;n(new ro(p,u,f))}}else n(new Ty(nm(l),l))}),$b=(l,n,s,r)=>{const u={method:l,headers:n?.headers||{}};return r?(Ay(r)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(r)):u.body=r,Object.assign(Object.assign({},u),s)):u};function Vb(l,n,s,r,u,c){return F(this,void 0,void 0,function*(){return new Promise((f,p)=>{l(s,$b(n,r,u,c)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Hb(g,p,r))})})}function sn(l,n,s,r,u){return F(this,void 0,void 0,function*(){return Vb(l,"POST",n,r,u,s)})}class Oy{constructor(n,s={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lh),s),this.fetch=jo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return F(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}getIndex(n,s){return F(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listIndexes(n){return F(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return F(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class Ry{constructor(n,s={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lh),s),this.fetch=jo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return F(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}getVectors(n){return F(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}listVectors(n){return F(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield sn(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}queryVectors(n){return F(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}deleteVectors(n){return F(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}}class ky{constructor(n,s={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lh),s),this.fetch=jo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return F(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}getBucket(n){return F(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}listBuckets(){return F(this,arguments,void 0,function*(n={}){try{return{data:yield sn(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return F(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}}class Cy extends ky{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new jy(this.url,this.headers,n,this.fetch)}createBucket(n){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return F(this,void 0,void 0,function*(){return s.createBucket.call(this,n)})}getBucket(n){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return F(this,void 0,void 0,function*(){return s.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return F(this,arguments,void 0,function*(s={}){return n.listBuckets.call(this,s)})}deleteBucket(n){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return F(this,void 0,void 0,function*(){return s.deleteBucket.call(this,n)})}}class jy extends Oy{constructor(n,s,r,u){super(n,s,u),this.vectorBucketName=r}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new xy(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class xy extends Ry{constructor(n,s,r,u,c){super(n,s,c),this.vectorBucketName=r,this.indexName=u}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Gb extends jb{constructor(n,s={},r,u){super(n,s,r,u)}from(n){return new Cb(this.url,this.headers,n,this.fetch)}get vectors(){return new Cy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ey(this.url+"/iceberg",this.headers,this.fetch)}}const Pb=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Ey,StorageApiError:_y,StorageClient:Gb,StorageError:Rr,StorageUnknownError:bo,StorageVectorsApiError:ro,StorageVectorsClient:Cy,StorageVectorsError:Hh,get StorageVectorsErrorCode(){return Sh},StorageVectorsUnknownError:Ty,VectorBucketApi:ky,VectorBucketScope:jy,VectorDataApi:Ry,VectorIndexApi:Oy,VectorIndexScope:xy,isPlainObject:Ay,isStorageError:Qe,isStorageVectorsError:Xt,normalizeToFloat32:qb,resolveFetch:jo,resolveResponse:zb,validateVectorDimension:Lb},Symbol.toStringTag,{value:"Module"})),Ib=Or(Pb);var th={},gr={},im;function Yb(){return im||(im=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.version=void 0,gr.version="2.87.1"),gr}var sm;function Kb(){return sm||(sm=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_REALTIME_OPTIONS=l.DEFAULT_AUTH_OPTIONS=l.DEFAULT_DB_OPTIONS=l.DEFAULT_GLOBAL_OPTIONS=l.DEFAULT_HEADERS=void 0;const n=Yb();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",l.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${n.version}`},l.DEFAULT_GLOBAL_OPTIONS={headers:l.DEFAULT_HEADERS},l.DEFAULT_DB_OPTIONS={schema:"public"},l.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l.DEFAULT_REALTIME_OPTIONS={}})(th)),th}var nh={},am;function Xb(){return am||(am=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.fetchWithAuth=l.resolveHeadersConstructor=l.resolveFetch=void 0;const n=u=>u?(...c)=>u(...c):(...c)=>fetch(...c);l.resolveFetch=n;const s=()=>Headers;l.resolveHeadersConstructor=s;const r=(u,c,f)=>{const p=(0,l.resolveFetch)(f),g=(0,l.resolveHeadersConstructor)();return async(m,_)=>{var S;const v=(S=await c())!==null&&S!==void 0?S:u;let E=new g(_?.headers);return E.has("apikey")||E.set("apikey",u),E.has("Authorization")||E.set("Authorization",`Bearer ${v}`),p(m,Object.assign(Object.assign({},_),{headers:E}))}};l.fetchWithAuth=r})(nh)),nh}var Fn={},rm;function Jb(){if(rm)return Fn;rm=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.isBrowser=void 0,Fn.uuid=l,Fn.ensureTrailingSlash=n,Fn.applySettingDefaults=r,Fn.validateSupabaseUrl=u;function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var f=Math.random()*16|0,p=c=="x"?f:f&3|8;return p.toString(16)})}function n(c){return c.endsWith("/")?c:c+"/"}const s=()=>typeof window<"u";Fn.isBrowser=s;function r(c,f){var p,g;const{db:m,auth:_,realtime:S,global:v}=c,{db:E,auth:w,realtime:R,global:C}=f,D={db:Object.assign(Object.assign({},E),m),auth:Object.assign(Object.assign({},w),_),realtime:Object.assign(Object.assign({},R),S),storage:{},global:Object.assign(Object.assign(Object.assign({},C),v),{headers:Object.assign(Object.assign({},(p=C?.headers)!==null&&p!==void 0?p:{}),(g=v?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return c.accessToken?D.accessToken=c.accessToken:delete D.accessToken,D}function u(c){const f=c?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Fn}var mr={};const Ny="2.87.1",Ws=30*1e3,wh=3,ih=wh*Ws,Qb="http://localhost:9999",Zb="supabase.auth.token",Fb={"X-Client-Info":`gotrue-js/${Ny}`},Eh="X-Supabase-Api-Version",Dy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eS=600*1e3;let sa=class extends Error{constructor(n,s,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}};function ne(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}let Uy=class extends sa{constructor(n,s,r){super(n,s,r),this.name="AuthApiError",this.status=s,this.code=r}};function My(l){return ne(l)&&l.name==="AuthApiError"}let Oi=class extends sa{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}},Wn=class extends sa{constructor(n,s,r,u){super(n,r,u),this.name=s,this.status=r}},Kt=class extends Wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function By(l){return ne(l)&&l.name==="AuthSessionMissingError"}let es=class extends Wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Sr=class extends Wn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},wr=class extends Wn{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function zy(l){return ne(l)&&l.name==="AuthImplicitGrantRedirectError"}let Th=class extends Wn{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},So=class extends Wn{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}};function lo(l){return ne(l)&&l.name==="AuthRetryableFetchError"}let Ah=class extends Wn{constructor(n,s,r){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}};function tS(l){return ne(l)&&l.name==="AuthWeakPasswordError"}let wo=class extends Wn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lm=` 	
\r=`.split(""),nS=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<lm.length;n+=1)l[lm[n].charCodeAt(0)]=-2;for(let n=0;n<Eo.length;n+=1)l[Eo[n].charCodeAt(0)]=n;return l})();function om(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(Eo[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(Eo[r]),n.queuedBits-=6}}function qy(l,n,s){const r=nS[l];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function um(l){const n=[],s=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=f=>{aS(f,r,s)};for(let f=0;f<l.length;f+=1)qy(l.charCodeAt(f),u,c);return n.join("")}function iS(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function sS(l,n){for(let s=0;s<l.length;s+=1){let r=l.charCodeAt(s);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(l.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}iS(r,n)}}function aS(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let r=1;r<6;r+=1)if((l>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function na(l){const n=[],s={queue:0,queuedBits:0},r=u=>{n.push(u)};for(let u=0;u<l.length;u+=1)qy(l.charCodeAt(u),s,r);return new Uint8Array(n)}function rS(l){const n=[];return sS(l,s=>n.push(s)),new Uint8Array(n)}function as(l){const n=[],s={queue:0,queuedBits:0},r=u=>{n.push(u)};return l.forEach(u=>om(u,s,r)),om(null,s,r),n.join("")}function lS(l){return Math.round(Date.now()/1e3)+l}function oS(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",Fi={tested:!1,writable:!1},Ly=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fi.tested)return Fi.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Fi.tested=!0,Fi.writable=!0}catch{Fi.tested=!0,Fi.writable=!1}return Fi.writable};function uS(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return s.searchParams.forEach((r,u)=>{n[u]=r}),n}const Hy=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),cS=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",ea=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},Wi=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Rt=async(l,n)=>{await l.removeItem(n)};class xo{constructor(){this.promise=new xo.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}xo.promiseConstructor=Promise;function sh(l){const n=l.split(".");if(n.length!==3)throw new wo("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Wb.test(n[r]))throw new wo("JWT not in base64url format");return{header:JSON.parse(um(n[0])),payload:JSON.parse(um(n[1])),signature:na(n[2]),raw:{header:n[0],payload:n[1]}}}async function hS(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function fS(l,n){return new Promise((r,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await l(c);if(!n(c,null,f)){r(f);return}}catch(f){if(!n(c,f)){u(f);return}}})()})}function dS(l){return("0"+l.toString(16)).substr(-2)}function pS(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(n),Array.from(n,dS).join("")}async function gS(l){const s=new TextEncoder().encode(l),r=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(r);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function mS(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await gS(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Js(l,n,s=!1){const r=pS();let u=r;s&&(u+="/PASSWORD_RECOVERY"),await ea(l,`${n}-code-verifier`,u);const c=await mS(r);return[c,r===c?"plain":"s256"]}const yS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vS(l){const n=l.headers.get(Eh);if(!n||!n.match(yS))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function _S(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function bS(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(l){if(!SS.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ah(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wS(l,n){return new Proxy(l,{get:(s,r,u)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const c=r.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,u)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,r,u)}})}function cm(l){return JSON.parse(JSON.stringify(l))}const ts=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),ES=[502,503,504];async function hm(l){var n;if(!cS(l))throw new So(ts(l),0);if(ES.includes(l.status))throw new So(ts(l),l.status);let s;try{s=await l.json()}catch(c){throw new Oi(ts(c),c)}let r;const u=vS(l);if(u&&u.getTime()>=Dy["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Ah(ts(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Kt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Ah(ts(s),l.status,s.weak_password.reasons);throw new Uy(ts(s),l.status||500,r)}const TS=(l,n,s,r)=>{const u={method:l,headers:n?.headers||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),s))};async function le(l,n,s,r){var u;const c=Object.assign({},r?.headers);c[Eh]||(c[Eh]=Dy["2024-01-01"].name),r?.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const f=(u=r?.query)!==null&&u!==void 0?u:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await AS(l,n,s+p,{headers:c,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(g):{data:Object.assign({},g),error:null}}async function AS(l,n,s,r,u,c){const f=TS(n,r,u,c);let p;try{p=await l(s,Object.assign({},f))}catch(g){throw console.error(g),new So(ts(g),0)}if(p.ok||await hm(p),r?.noResolveJson)return p;try{return await p.json()}catch(g){await hm(g)}}function bn(l){var n;let s=null;kS(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=lS(l.expires_in)));const r=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:r},error:null}}function fm(l){const n=bn(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(n.data.weak_password=l.weak_password),n}function Ri(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function OS(l){return{data:l,error:null}}function RS(l){const{action_link:n,email_otp:s,hashed_token:r,redirect_to:u,verification_type:c}=l,f=aa(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:r,redirect_to:u,verification_type:c},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function dm(l){return l}function kS(l){return l.access_token&&l.refresh_token&&l.expires_in}const oo=["global","local","others"];let $h=class{constructor({url:n="",headers:s={},fetch:r}){this.url=n,this.headers=s,this.fetch=Hy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=oo[0]){if(oo.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oo.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,s={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ri})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:s}=n,r=aa(n,["options"]),u=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(u.new_email=r?.newEmail,delete u.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:RS,redirectTo:s?.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ri})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,r,u,c,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},_=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:dm});if(_.error)throw _.error;const S=await _.json(),v=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(w=>{const R=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},S),m),error:null}}catch(m){if(ne(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){Qs(n);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ri})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Qs(n);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Ri})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,s=!1){Qs(n);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ri})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Qs(n.userId);try{const{data:s,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:r}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Qs(n.userId),Qs(n.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,r,u,c,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},_=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:dm});if(_.error)throw _.error;const S=await _.json(),v=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(w=>{const R=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},S),m),error:null}}catch(m){if(ne(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}};function pm(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const ns={debug:!!(globalThis&&Ly()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vh extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let $y=class extends Vh{};class CS extends Vh{}async function Vy(l,n,s){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async u=>{if(u){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await s()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(n===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new $y(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ns.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const gm={};async function jS(l,n,s){var r;const u=(r=gm[l])!==null&&r!==void 0?r:Promise.resolve(),c=Promise.race([u.catch(()=>null),n>=0?new Promise((f,p)=>{setTimeout(()=>{p(new CS(`Acquring process lock with name "${l}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await s());return gm[l]=c.catch(async f=>{if(f&&f.isAcquireTimeout)return await u,null;throw f}),await c}function xS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gy(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function NS(l){return parseInt(l,16)}function DS(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function US(l){var n;const{chainId:s,domain:r,expirationTime:u,issuedAt:c=new Date,nonce:f,notBefore:p,requestId:g,resources:m,scheme:_,uri:S,version:v}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const E=Gy(l.address),w=_?`${_}://${r}`:r,R=l.statement?`${l.statement}
`:"",C=`${w} wants you to sign in with your Ethereum account:
${E}

${R}`;let D=`URI: ${S}
Version: ${v}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(u&&(D+=`
Expiration Time: ${u.toISOString()}`),p&&(D+=`
Not Before: ${p.toISOString()}`),g&&(D+=`
Request ID: ${g}`),m){let H=`
Resources:`;for(const U of m){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);H+=`
- ${U}`}D+=H}return`${C}
${D}`}class ft extends Error{constructor({message:n,code:s,cause:r,name:u}){var c;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=u??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class To extends ft{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function MS({error:l,options:n}){var s,r,u;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new ft({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Py(f)){if(c.rp.id!==f)return new ft({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function BS({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new ft({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const r=window.location.hostname;if(Py(r)){if(s.rpId!==r)return new ft({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class zS{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const qS=new zS;function LS(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:r}=l,u=aa(l,["challenge","user","excludeCredentials"]),c=na(n).buffer,f=Object.assign(Object.assign({},s),{id:na(s.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:f});if(r&&r.length>0){p.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const m=r[g];p.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:na(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function HS(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,r=aa(l,["challenge","allowCredentials"]),u=na(n).buffer,c=Object.assign(Object.assign({},r),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];c.allowCredentials[f]=Object.assign(Object.assign({},p),{id:na(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function $S(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:as(new Uint8Array(l.response.attestationObject)),clientDataJSON:as(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function VS(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,r=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:as(new Uint8Array(u.authenticatorData)),clientDataJSON:as(new Uint8Array(u.clientDataJSON)),signature:as(new Uint8Array(u.signature)),userHandle:u.userHandle?as(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Py(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function mm(){var l,n;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function GS(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new To("Browser returned unexpected credential type",n)}:{data:null,error:new To("Empty credential response",n)}}catch(n){return{data:null,error:MS({error:n,options:l})}}}async function PS(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new To("Browser returned unexpected credential type",n)}:{data:null,error:new To("Empty credential response",n)}}catch(n){return{data:null,error:BS({error:n,options:l})}}}const IS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},YS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ao(...l){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of l)if(u)for(const c in u){const f=u[c];if(f!==void 0)if(Array.isArray(f))r[c]=f;else if(s(f))r[c]=f;else if(n(f)){const p=r[c];n(p)?r[c]=Ao(p,f):r[c]=Ao(f)}else r[c]=f}return r}function KS(l,n){return Ao(IS,l,n||{})}function XS(l,n){return Ao(YS,l,n||{})}class JS{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:r,signal:u},c){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:p};const g=u??qS.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=KS(f.webauthn.credential_options.publicKey,c?.create),{data:_,error:S}=await GS({publicKey:m,signal:g});return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const m=XS(f.webauthn.credential_options.publicKey,c?.request),{data:_,error:S}=await PS(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:g}));return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Oi("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new sa("rpId is required for WebAuthn authentication")};try{if(!mm())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:r},signal:u},{request:c});if(!f)return{data:null,error:p};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:r,credential_response:g.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Oi("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new sa("rpId is required for WebAuthn registration")};try{if(!mm())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(_=>{var S;return(S=_.data)===null||S===void 0?void 0:S.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===n&&v.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:p};const{data:g,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:u},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Oi("Unexpected error in register",f)}}}}xS();const QS={url:Qb,storageKey:Zb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ym(l,n,s){return await s()}const Zs={};let Gh=class Oh{get jwks(){var n,s;return(s=(n=Zs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Zs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{cachedAt:n})}constructor(n){var s,r,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},QS),n);if(this.storageKey=c.storageKey,this.instanceID=(s=Oh.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Oh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ct()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new $h({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Hy(c.fetch),this.lock=c.lock||ym,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Ct()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Vy:this.lock=ym,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Ly()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pm(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=pm(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ny}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},r="none";if(Ct()&&(s=uS(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Ct()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),zy(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?this._returnResult({error:s}):this._returnResult({error:new Oi("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,r,u;try{const c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:bn}),{data:f,error:p}=c;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var s,r,u;try{let c;if("email"in n){const{email:_,password:S,options:v}=n;let E=null,w=null;this.flowType==="pkce"&&([E,w]=await Js(this.storage,this.storageKey)),c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:_,password:S,data:(s=v?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:E,code_challenge_method:w},xform:bn})}else if("phone"in n){const{phone:_,password:S,options:v}=n;c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:S,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(u=v?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:bn})}else throw new Sr("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:p}=n;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:fm})}else if("phone"in n){const{phone:c,password:f,options:p}=n;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:fm})}else throw new Sr("You must provide either an email or phone number and a password");const{data:r,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r||!r.session||!r.user){const c=new es;return this._returnResult({data:{user:null,session:null},error:c})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,r,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,r,u,c,f,p,g,m,_,S,v;let E,w;if("message"in n)E=n.message,w=n.signature;else{const{chain:R,wallet:C,statement:D,options:H}=n;let U;if(Ct())if(typeof C=="object")U=C;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")U=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=C}const q=new URL((s=H?.url)!==null&&s!==void 0?s:window.location.href),Y=await U.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Gy(Y[0]);let P=(r=H?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const ue=await U.request({method:"eth_chainId"});P=NS(ue)}const he={domain:q.host,address:G,statement:D,uri:q.href,version:"1",chainId:P,nonce:(u=H?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(c=H?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=H?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=H?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=H?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(_=H?.signInWithEthereum)===null||_===void 0?void 0:_.resources};E=US(he),w=await U.request({method:"personal_sign",params:[DS(E),G]})}try{const{data:R,error:C}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:w},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(v=n.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:bn});if(C)throw C;if(!R||!R.session||!R.user){const D=new es;return this._returnResult({data:{user:null,session:null},error:D})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:C})}catch(R){if(ne(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var s,r,u,c,f,p,g,m,_,S,v,E;let w,R;if("message"in n)w=n.message,R=n.signature;else{const{chain:C,wallet:D,statement:H,options:U}=n;let q;if(Ct())if(typeof D=="object")q=D;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))q=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=D}const Y=new URL((s=U?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in q&&q.signIn){const G=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),H?{statement:H}:null));let P;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")P=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)P=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),R=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${Y.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(u=(r=U?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=U?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((S=(_=U?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||S===void 0)&&S.length?["Resources",...U.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const G=await q.signMessage(new TextEncoder().encode(w),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=G}}try{const{data:C,error:D}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:as(R)},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:bn});if(D)throw D;if(!C||!C.session||!C.user){const H=new es;return this._returnResult({data:{user:null,session:null},error:H})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:D})}catch(C){if(ne(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(n){const s=await Wi(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(s??"").split("/");try{const{data:c,error:f}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:bn});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const p=new es;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:f})}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:s,provider:r,token:u,access_token:c,nonce:f}=n,p=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:bn}),{data:g,error:m}=p;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const _=new es;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,r,u,c,f;try{if("email"in n){const{email:p,options:g}=n;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await Js(this.storage,this.storageKey));const{error:S}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(r=g?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:_},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:p,options:g}=n,{data:m,error:_}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:_})}throw new Sr("You must provide either an email or phone number.")}catch(p){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var s,r;try{let u,c;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:p}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:bn});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var s,r,u,c,f;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Js(this.storage,this.storageKey));const m=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:OS});return!((c=m.data)===null||c===void 0)&&c.url&&Ct()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(p){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)throw r;if(!s)throw new Kt;const{error:u}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:r,type:u,options:c}=n,{error:f}=await le(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:u,options:c}=n,{data:f,error:p}=await le(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Sr("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<ih:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await Wi(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=ah()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=wS(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ri}):await this._useSession(async s=>{var r,u,c;const{data:f,error:p}=s;if(p)throw p;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Ri})})}catch(s){if(ne(s))return By(s)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async r=>{const{data:u,error:c}=r;if(c)throw c;if(!u.session)throw new Kt;const f=u.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await Js(this.storage,this.storageKey));const{data:m,error:_}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:Ri});if(_)throw _;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Kt;const s=Date.now()/1e3;let r=s,u=!0,c=null;const{payload:f}=sh(n.access_token);if(f.exp&&(r=f.exp,u=r<=s),u){const{data:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var r;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new Kt;const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!Ct())throw new wr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new wr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Th("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Th("No code detected.");const{data:H,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:c,refresh_token:f,expires_in:p,expires_at:g,token_type:m}=n;if(!c||!p||!f||!m)throw new wr("No session defined in URL");const _=Math.round(Date.now()/1e3),S=parseInt(p);let v=_+S;g&&(v=parseInt(g));const E=v-_;E*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${S}s`);const w=v-S;_-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,_):_-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,_);const{data:R,error:C}=await this._getUser(c);if(C)throw C;const D={provider_token:r,provider_refresh_token:u,access_token:c,expires_in:S,expires_at:v,refresh_token:f,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:n.type},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Wi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const f=(r=u.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(My(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=oS(),r={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async s=>{var r,u;try{const{data:{session:c},error:f}=s;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let r=null,u=null;this.flowType==="pkce"&&([r,u]=await Js(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:r,error:u}=await this._useSession(async c=>{var f,p,g,m,_;const{data:S,error:v}=c;if(v)throw v;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",E,{headers:this.headers,jwt:(_=(m=S.session)===null||m===void 0?void 0:m.access_token)!==null&&_!==void 0?_:void 0})});if(u)throw u;return Ct()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(ne(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var r;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:f,provider:p,token:g,access_token:m,nonce:_}=n,S=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:p,id_token:g,access_token:m,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:bn}),{data:v,error:E}=S;return E?this._returnResult({data:{user:null,session:null},error:E}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new es}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:E}))}catch(u){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var r,u;const{data:c,error:f}=s;if(f)throw f;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await fS(async u=>(u>0&&await hS(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:bn})),(u,c)=>{const f=200*Math.pow(2,u);return c&&lo(c)&&Date.now()+f-r<Ws})}catch(r){if(this._debug(s,"error",r),ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",r),Ct()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=await Wi(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await ea(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:ah()}else if(u&&!u.user&&!u.user){const f=await Wi(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await Rt(this.storage,this.storageKey+"-user"),await ea(this.storage,this.storageKey,u)):u.user=ah()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ih;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${ih}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),lo(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var s,r;if(!n)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new xo;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new Kt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),ne(c)){const f={data:null,error:c};return lo(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,r=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await ea(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=cm(u);await ea(this.storage,this.storageKey,c)}else{const u=cm(s);await ea(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-n)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ws}ms, refresh threshold is ${wh} ticks`),u<=wh&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Vh)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,r){const u=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,f]=await Js(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(r?.queryParams){const c=new URLSearchParams(r.queryParams);u.push(c.toString())}return r?.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var r,u;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:m}=await le(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?$S(n.webauthn.credential_response):VS(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:g}=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:LS(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:HS(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s?.factors)!==null&&n!==void 0?n:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:r},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=sh(r.access_token);let f=null;c.aal&&(f=c.aal);let p=f;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const m=c.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:r},error:u}=s;return u?this._returnResult({data:null,error:u}):r?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:u},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Kt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Ct()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:u},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Kt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Ct()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:r},error:u}=s;return u?this._returnResult({data:null,error:u}):r?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kt})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let r=s.keys.find(p=>p.kid===n);if(r)return r;const u=Date.now();if(r=this.jwks.keys.find(p=>p.kid===n),r&&this.jwks_cached_at+eS>u)return r;const{data:c,error:f}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,r=c.keys.find(p=>p.kid===n),!r)?null:r}async getClaims(n,s={}){try{let r=n;if(!r){const{data:E,error:w}=await this.getSession();if(w||!E.session)return this._returnResult({data:null,error:w});r=E.session.access_token}const{header:u,payload:c,signature:f,raw:{header:p,payload:g}}=sh(r);s?.allowExpired||_S(c.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:c,header:u,signature:f},error:null}}const _=bS(u.alg),S=await crypto.subtle.importKey("jwk",m,_,!0,["verify"]);if(!await crypto.subtle.verify(_,S,f,rS(`${p}.${g}`)))throw new wo("Invalid JWT signature");return{data:{claims:c,header:u,signature:f},error:null}}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}};Gh.nextInstanceID={};const ZS=$h,FS=Gh,WS=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:ZS,AuthApiError:Uy,AuthClient:FS,AuthError:sa,AuthImplicitGrantRedirectError:wr,AuthInvalidCredentialsError:Sr,AuthInvalidJwtError:wo,AuthInvalidTokenResponseError:es,AuthPKCEGrantCodeExchangeError:Th,AuthRetryableFetchError:So,AuthSessionMissingError:Kt,AuthUnknownError:Oi,AuthWeakPasswordError:Ah,CustomAuthError:Wn,GoTrueAdminApi:$h,GoTrueClient:Gh,NavigatorLockAcquireTimeoutError:$y,SIGN_OUT_SCOPES:oo,isAuthApiError:My,isAuthError:ne,isAuthImplicitGrantRedirectError:zy,isAuthRetryableFetchError:lo,isAuthSessionMissingError:By,isAuthWeakPasswordError:tS,lockInternals:ns,navigatorLock:Vy,processLock:jS},Symbol.toStringTag,{value:"Module"})),Iy=Or(WS);var vm;function ew(){if(vm)return mr;vm=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.SupabaseAuthClient=void 0;const l=Iy;let n=class extends l.AuthClient{constructor(r){super(r)}};return mr.SupabaseAuthClient=n,mr}var _m;function bm(){if(_m)return Kl;_m=1,Object.defineProperty(Kl,"__esModule",{value:!0});const l=sy,n=cy(),s=vy,r=Ib,u=Kb(),c=Xb(),f=Jb(),p=ew();class g{constructor(_,S,v){var E,w,R;this.supabaseUrl=_,this.supabaseKey=S;const C=(0,f.validateSupabaseUrl)(_);if(!S)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",C),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",C),this.storageUrl=new URL("storage/v1",C),this.functionsUrl=new URL("functions/v1",C);const D=`sb-${C.hostname.split(".")[0]}-auth-token`,H={db:u.DEFAULT_DB_OPTIONS,realtime:u.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},u.DEFAULT_AUTH_OPTIONS),{storageKey:D}),global:u.DEFAULT_GLOBAL_OPTIONS},U=(0,f.applySettingDefaults)(v??{},H);this.storageKey=(E=U.auth.storageKey)!==null&&E!==void 0?E:"",this.headers=(w=U.global.headers)!==null&&w!==void 0?w:{},U.accessToken?(this.accessToken=U.accessToken,this.auth=new Proxy({},{get:(q,Y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((R=U.auth)!==null&&R!==void 0?R:{},this.headers,U.global.fetch),this.fetch=(0,c.fetchWithAuth)(S,this._getAccessToken.bind(this),U.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},U.realtime)),this.accessToken&&this.accessToken().then(q=>this.realtime.setAuth(q)).catch(q=>console.warn("Failed to set initial Realtime auth token:",q)),this.rest=new n.PostgrestClient(new URL("rest/v1",C).href,{headers:this.headers,schema:U.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),U.accessToken||this._listenForAuthEvents()}get functions(){return new l.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(_){return this.rest.from(_)}schema(_){return this.rest.schema(_)}rpc(_,S={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(_,S,v)}channel(_,S={config:{}}){return this.realtime.channel(_,S)}getChannels(){return this.realtime.getChannels()}removeChannel(_){return this.realtime.removeChannel(_)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var _,S;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(S=(_=v.session)===null||_===void 0?void 0:_.access_token)!==null&&S!==void 0?S:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:_,persistSession:S,detectSessionInUrl:v,storage:E,userStorage:w,storageKey:R,flowType:C,lock:D,debug:H,throwOnError:U},q,Y){const G={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},G),q),storageKey:R,autoRefreshToken:_,persistSession:S,detectSessionInUrl:v,storage:E,userStorage:w,flowType:C,lock:D,debug:H,throwOnError:U,fetch:Y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(_){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},_),{params:Object.assign({apikey:this.supabaseKey},_?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((S,v)=>{this._handleTokenChanged(S,"CLIENT",v?.access_token)})}_handleTokenChanged(_,S,v){(_==="TOKEN_REFRESHED"||_==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):_==="SIGNED_OUT"&&(this.realtime.setAuth(),S=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Kl.default=g,Kl}var Sm;function tw(){return Sm||(Sm=1,(function(l){var n=Zn&&Zn.__createBinding||(Object.create?(function(_,S,v,E){E===void 0&&(E=v);var w=Object.getOwnPropertyDescriptor(S,v);(!w||("get"in w?!S.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return S[v]}}),Object.defineProperty(_,E,w)}):(function(_,S,v,E){E===void 0&&(E=v),_[E]=S[v]})),s=Zn&&Zn.__exportStar||function(_,S){for(var v in _)v!=="default"&&!Object.prototype.hasOwnProperty.call(S,v)&&n(S,_,v)},r=Zn&&Zn.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0}),l.createClient=l.SupabaseClient=l.FunctionRegion=l.FunctionsError=l.FunctionsRelayError=l.FunctionsFetchError=l.FunctionsHttpError=l.PostgrestError=void 0;const u=r(bm());s(Iy,l);var c=cy();Object.defineProperty(l,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var f=sy;Object.defineProperty(l,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(l,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(l,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(l,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(l,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),s(vy,l);var p=bm();Object.defineProperty(l,"SupabaseClient",{enumerable:!0,get:function(){return r(p).default}});const g=(_,S,v)=>new u.default(_,S,v);l.createClient=g;function m(){if(typeof window<"u"||typeof process>"u")return!1;const _=process.version;if(_==null)return!1;const S=_.match(/^v(\d+)\./);return S?parseInt(S[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Zn)),Zn}var Yy=tw();const Ky=g_(Yy),nw=p_({__proto__:null,default:Ky},[Yy]),{PostgrestError:zE,FunctionsHttpError:qE,FunctionsFetchError:LE,FunctionsRelayError:HE,FunctionsError:$E,FunctionRegion:VE,SupabaseClient:GE,createClient:iw,GoTrueAdminApi:PE,GoTrueClient:IE,AuthAdminApi:YE,AuthClient:KE,navigatorLock:XE,NavigatorLockAcquireTimeoutError:JE,lockInternals:QE,processLock:ZE,SIGN_OUT_SCOPES:FE,AuthError:WE,AuthApiError:e1,AuthUnknownError:t1,CustomAuthError:n1,AuthSessionMissingError:i1,AuthInvalidTokenResponseError:s1,AuthInvalidCredentialsError:a1,AuthImplicitGrantRedirectError:r1,AuthPKCEGrantCodeExchangeError:l1,AuthRetryableFetchError:o1,AuthWeakPasswordError:u1,AuthInvalidJwtError:c1,isAuthError:h1,isAuthApiError:f1,isAuthSessionMissingError:d1,isAuthImplicitGrantRedirectError:p1,isAuthRetryableFetchError:g1,isAuthWeakPasswordError:m1,RealtimePresence:y1,RealtimeChannel:v1,RealtimeClient:_1,REALTIME_LISTEN_TYPES:b1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:S1,REALTIME_PRESENCE_LISTEN_EVENTS:w1,REALTIME_SUBSCRIBE_STATES:E1,REALTIME_CHANNEL_STATES:T1}=Ky||nw,sw="https://jrhcxnurojglpdtkaslf.supabase.co",aw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpyaGN4bnVyb2pnbHBkdGthc2xmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjA0NDMsImV4cCI6MjA4MDY5NjQ0M30.RuwYXc6kkISZa28EfHA6-_XsbiS98xutaqCdy_oZEIk",Oo=iw(sw,aw),rw=({isOpen:l,onClose:n,onSuccess:s})=>{const[r,u]=Z.useState(""),[c,f]=Z.useState(""),[p,g]=Z.useState(!1),[m,_]=Z.useState(!1),[S,v]=Z.useState(null);if(!l)return null;const E=async w=>{w.preventDefault(),_(!0),v(null);try{if(p){const{error:R}=await Oo.auth.signUp({email:r,password:c});if(R)throw R;alert("Account created! You are now logged in."),s()}else{const{error:R}=await Oo.auth.signInWithPassword({email:r,password:c});if(R)throw R;s()}n()}catch(R){v(R.message||"An error occurred")}finally{_(!1)}};return b.jsx("div",{className:"auth-overlay",children:b.jsxs("div",{className:"auth-content",children:[b.jsx("button",{className:"close-btn",onClick:n,children:""}),b.jsx("h2",{children:p?"Create Account":"Sign In"}),b.jsx("p",{className:"auth-description",children:p?"Create an account to save your rating permanently.":"Sign in to sync your rating across devices."}),S&&b.jsx("div",{className:"auth-error",children:S}),b.jsxs("form",{onSubmit:E,children:[b.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:w=>u(w.target.value),required:!0}),b.jsx("input",{type:"password",placeholder:"Password",value:c,onChange:w=>f(w.target.value),required:!0,minLength:6}),b.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:m,children:m?"Processing...":p?"Sign Up":"Sign In"})]}),b.jsx("div",{className:"auth-toggle",children:b.jsx("button",{onClick:()=>g(!p),children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})},Nn=Object.create(null);Nn.open="0";Nn.close="1";Nn.ping="2";Nn.pong="3";Nn.message="4";Nn.upgrade="5";Nn.noop="6";const uo=Object.create(null);Object.keys(Nn).forEach(l=>{uo[Nn[l]]=l});const Rh={type:"error",data:"parser error"},Xy=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Jy=typeof ArrayBuffer=="function",Qy=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,Ph=({type:l,data:n},s,r)=>Xy&&n instanceof Blob?s?r(n):wm(n,r):Jy&&(n instanceof ArrayBuffer||Qy(n))?s?r(n):wm(new Blob([n]),r):r(Nn[l]+(n||"")),wm=(l,n)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];n("b"+(r||""))},s.readAsDataURL(l)};function Em(l){return l instanceof Uint8Array?l:l instanceof ArrayBuffer?new Uint8Array(l):new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}let rh;function lw(l,n){if(Xy&&l.data instanceof Blob)return l.data.arrayBuffer().then(Em).then(n);if(Jy&&(l.data instanceof ArrayBuffer||Qy(l.data)))return n(Em(l.data));Ph(l,!1,s=>{rh||(rh=new TextEncoder),n(rh.encode(s))})}const Tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Er=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let l=0;l<Tm.length;l++)Er[Tm.charCodeAt(l)]=l;const ow=l=>{let n=l.length*.75,s=l.length,r,u=0,c,f,p,g;l[l.length-1]==="="&&(n--,l[l.length-2]==="="&&n--);const m=new ArrayBuffer(n),_=new Uint8Array(m);for(r=0;r<s;r+=4)c=Er[l.charCodeAt(r)],f=Er[l.charCodeAt(r+1)],p=Er[l.charCodeAt(r+2)],g=Er[l.charCodeAt(r+3)],_[u++]=c<<2|f>>4,_[u++]=(f&15)<<4|p>>2,_[u++]=(p&3)<<6|g&63;return m},uw=typeof ArrayBuffer=="function",Ih=(l,n)=>{if(typeof l!="string")return{type:"message",data:Zy(l,n)};const s=l.charAt(0);return s==="b"?{type:"message",data:cw(l.substring(1),n)}:uo[s]?l.length>1?{type:uo[s],data:l.substring(1)}:{type:uo[s]}:Rh},cw=(l,n)=>{if(uw){const s=ow(l);return Zy(s,n)}else return{base64:!0,data:l}},Zy=(l,n)=>{switch(n){case"blob":return l instanceof Blob?l:new Blob([l]);case"arraybuffer":default:return l instanceof ArrayBuffer?l:l.buffer}},Fy="",hw=(l,n)=>{const s=l.length,r=new Array(s);let u=0;l.forEach((c,f)=>{Ph(c,!1,p=>{r[f]=p,++u===s&&n(r.join(Fy))})})},fw=(l,n)=>{const s=l.split(Fy),r=[];for(let u=0;u<s.length;u++){const c=Ih(s[u],n);if(r.push(c),c.type==="error")break}return r};function dw(){return new TransformStream({transform(l,n){lw(l,s=>{const r=s.length;let u;if(r<126)u=new Uint8Array(1),new DataView(u.buffer).setUint8(0,r);else if(r<65536){u=new Uint8Array(3);const c=new DataView(u.buffer);c.setUint8(0,126),c.setUint16(1,r)}else{u=new Uint8Array(9);const c=new DataView(u.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(r))}l.data&&typeof l.data!="string"&&(u[0]|=128),n.enqueue(u),n.enqueue(s)})}})}let lh;function no(l){return l.reduce((n,s)=>n+s.length,0)}function io(l,n){if(l[0].length===n)return l.shift();const s=new Uint8Array(n);let r=0;for(let u=0;u<n;u++)s[u]=l[0][r++],r===l[0].length&&(l.shift(),r=0);return l.length&&r<l[0].length&&(l[0]=l[0].slice(r)),s}function pw(l,n){lh||(lh=new TextDecoder);const s=[];let r=0,u=-1,c=!1;return new TransformStream({transform(f,p){for(s.push(f);;){if(r===0){if(no(s)<1)break;const g=io(s,1);c=(g[0]&128)===128,u=g[0]&127,u<126?r=3:u===126?r=1:r=2}else if(r===1){if(no(s)<2)break;const g=io(s,2);u=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),r=3}else if(r===2){if(no(s)<8)break;const g=io(s,8),m=new DataView(g.buffer,g.byteOffset,g.length),_=m.getUint32(0);if(_>Math.pow(2,21)-1){p.enqueue(Rh);break}u=_*Math.pow(2,32)+m.getUint32(4),r=3}else{if(no(s)<u)break;const g=io(s,u);p.enqueue(Ih(c?g:lh.decode(g),n)),r=0}if(u===0||u>l){p.enqueue(Rh);break}}}})}const Wy=4;function dt(l){if(l)return gw(l)}function gw(l){for(var n in dt.prototype)l[n]=dt.prototype[n];return l}dt.prototype.on=dt.prototype.addEventListener=function(l,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(n),this};dt.prototype.once=function(l,n){function s(){this.off(l,s),n.apply(this,arguments)}return s.fn=n,this.on(l,s),this};dt.prototype.off=dt.prototype.removeListener=dt.prototype.removeAllListeners=dt.prototype.removeEventListener=function(l,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+l];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var r,u=0;u<s.length;u++)if(r=s[u],r===n||r.fn===n){s.splice(u,1);break}return s.length===0&&delete this._callbacks["$"+l],this};dt.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+l],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,u=s.length;r<u;++r)s[r].apply(this,n)}return this};dt.prototype.emitReserved=dt.prototype.emit;dt.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]};dt.prototype.hasListeners=function(l){return!!this.listeners(l).length};const No=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,s)=>s(n,0),pn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mw="arraybuffer";function ev(l,...n){return n.reduce((s,r)=>(l.hasOwnProperty(r)&&(s[r]=l[r]),s),{})}const yw=pn.setTimeout,vw=pn.clearTimeout;function Do(l,n){n.useNativeTimers?(l.setTimeoutFn=yw.bind(pn),l.clearTimeoutFn=vw.bind(pn)):(l.setTimeoutFn=pn.setTimeout.bind(pn),l.clearTimeoutFn=pn.clearTimeout.bind(pn))}const _w=1.33;function bw(l){return typeof l=="string"?Sw(l):Math.ceil((l.byteLength||l.size)*_w)}function Sw(l){let n=0,s=0;for(let r=0,u=l.length;r<u;r++)n=l.charCodeAt(r),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(r++,s+=4);return s}function tv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ww(l){let n="";for(let s in l)l.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(l[s]));return n}function Ew(l){let n={},s=l.split("&");for(let r=0,u=s.length;r<u;r++){let c=s[r].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class Tw extends Error{constructor(n,s,r){super(n),this.description=s,this.context=r,this.type="TransportError"}}class Yh extends dt{constructor(n){super(),this.writable=!1,Do(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,s,r){return super.emitReserved("error",new Tw(n,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const s=Ih(n,this.socket.binaryType);this.onPacket(s)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,s={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const s=ww(n);return s.length?"?"+s:""}}class Aw extends Yh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const s=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};fw(n,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,hw(n,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=tv()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(n,s)}}let nv=!1;try{nv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ow=nv;function Rw(){}class kw extends Aw{constructor(n){if(super(n),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||r!==n.port}}doWrite(n,s){const r=this.request({method:"POST",data:n});r.on("success",s),r.on("error",(u,c)=>{this.onError("xhr post error",u,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=n}}class xn extends dt{constructor(n,s,r){super(),this.createRequest=n,Do(this,r),this._opts=r,this._method=r.method||"GET",this._uri=s,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var n;const s=ev(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(s);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let u in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(u)&&r.setRequestHeader(u,this._opts.extraHeaders[u])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var u;r.readyState===3&&((u=this._opts.cookieJar)===null||u===void 0||u.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(u){this.setTimeoutFn(()=>{this._onError(u)},0);return}typeof document<"u"&&(this._index=xn.requestsCount++,xn.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Rw,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete xn.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}xn.requestsCount=0;xn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Am);else if(typeof addEventListener=="function"){const l="onpagehide"in pn?"pagehide":"unload";addEventListener(l,Am,!1)}}function Am(){for(let l in xn.requests)xn.requests.hasOwnProperty(l)&&xn.requests[l].abort()}const Cw=(function(){const l=iv({xdomain:!1});return l&&l.responseType!==null})();class jw extends kw{constructor(n){super(n);const s=n&&n.forceBase64;this.supportsBinary=Cw&&!s}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new xn(iv,this.uri(),n)}}function iv(l){const n=l.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Ow))return new XMLHttpRequest}catch{}if(!n)try{return new pn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const sv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xw extends Yh{get name(){return"websocket"}doOpen(){const n=this.uri(),s=this.opts.protocols,r=sv?{}:ev(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,s,r)}catch(u){return this.emitReserved("error",u)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const r=n[s],u=s===n.length-1;Ph(r,this.supportsBinary,c=>{try{this.doWrite(r,c)}catch{}u&&No(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=tv()),this.supportsBinary||(s.b64=1),this.createUri(n,s)}}const oh=pn.WebSocket||pn.MozWebSocket;class Nw extends xw{createSocket(n,s,r){return sv?new oh(n,s,r):s?new oh(n,s):new oh(n)}doWrite(n,s){this.ws.send(s)}}class Dw extends Yh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const s=pw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=n.readable.pipeThrough(s).getReader(),u=dw();u.readable.pipeTo(n.writable),this._writer=u.writable.getWriter();const c=()=>{r.read().then(({done:p,value:g})=>{p||(this.onPacket(g),c())}).catch(p=>{})};c();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const r=n[s],u=s===n.length-1;this._writer.write(r).then(()=>{u&&No(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const Uw={websocket:Nw,webtransport:Dw,polling:jw},Mw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Bw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function kh(l){if(l.length>8e3)throw"URI too long";const n=l,s=l.indexOf("["),r=l.indexOf("]");s!=-1&&r!=-1&&(l=l.substring(0,s)+l.substring(s,r).replace(/:/g,";")+l.substring(r,l.length));let u=Mw.exec(l||""),c={},f=14;for(;f--;)c[Bw[f]]=u[f]||"";return s!=-1&&r!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=zw(c,c.path),c.queryKey=qw(c,c.query),c}function zw(l,n){const s=/\/{2,9}/g,r=n.replace(s,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&r.splice(0,1),n.slice(-1)=="/"&&r.splice(r.length-1,1),r}function qw(l,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,u,c){u&&(s[u]=c)}),s}const Ch=typeof addEventListener=="function"&&typeof removeEventListener=="function",co=[];Ch&&addEventListener("offline",()=>{co.forEach(l=>l())},!1);class ji extends dt{constructor(n,s){if(super(),this.binaryType=mw,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(s=n,n=null),n){const r=kh(n);s.hostname=r.host,s.secure=r.protocol==="https"||r.protocol==="wss",s.port=r.port,r.query&&(s.query=r.query)}else s.host&&(s.hostname=kh(s.host).host);Do(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(r=>{const u=r.prototype.name;this.transports.push(u),this._transportsByName[u]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ew(this.opts.query)),Ch&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},co.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const s=Object.assign({},this.opts.query);s.EIO=Wy,s.transport=n,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&ji.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(n);s.open(),this.setTransport(s)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",ji.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=n.data,this._onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const u=this.writeBuffer[r].data;if(u&&(s+=bw(u)),r>0&&s>this._maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,No(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,s,r){return this._sendPacket("message",n,s,r),this}send(n,s,r){return this._sendPacket("message",n,s,r),this}_sendPacket(n,s,r,u){if(typeof s=="function"&&(u=s,s=void 0),typeof r=="function"&&(u=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const c={type:n,data:s,options:r};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),u&&this.once("flush",u),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():n()}):this.upgrading?r():n()),this}_onError(n){if(ji.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ch&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=co.indexOf(this._offlineEventListener);r!==-1&&co.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this._prevBufferLen=0}}}ji.protocol=Wy;class Lw extends ji{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let s=this.createTransport(n),r=!1;ji.priorWebsocketSuccess=!1;const u=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",S=>{if(!r)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;ji.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(_(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=s.name,this.emitReserved("upgradeError",v)}}))};function c(){r||(r=!0,_(),s.close(),s=null)}const f=S=>{const v=new Error("probe error: "+S);v.transport=s.name,c(),this.emitReserved("upgradeError",v)};function p(){f("transport closed")}function g(){f("socket closed")}function m(S){s&&S.name!==s.name&&c()}const _=()=>{s.removeListener("open",u),s.removeListener("error",f),s.removeListener("close",p),this.off("close",g),this.off("upgrading",m)};s.once("open",u),s.once("error",f),s.once("close",p),this.once("close",g),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const s=[];for(let r=0;r<n.length;r++)~this.transports.indexOf(n[r])&&s.push(n[r]);return s}}let Hw=class extends Lw{constructor(n,s={}){const r=typeof n=="object"?n:s;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(u=>Uw[u]).filter(u=>!!u)),super(n,r)}};function $w(l,n="",s){let r=l;s=s||typeof location<"u"&&location,l==null&&(l=s.protocol+"//"+s.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=s.protocol+l:l=s.host+l),/^(https?|wss?):\/\//.test(l)||(typeof s<"u"?l=s.protocol+"//"+l:l="https://"+l),r=kh(l)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const c=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+c+":"+r.port+n,r.href=r.protocol+"://"+c+(s&&s.port===r.port?"":":"+r.port),r}const Vw=typeof ArrayBuffer=="function",Gw=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,av=Object.prototype.toString,Pw=typeof Blob=="function"||typeof Blob<"u"&&av.call(Blob)==="[object BlobConstructor]",Iw=typeof File=="function"||typeof File<"u"&&av.call(File)==="[object FileConstructor]";function Kh(l){return Vw&&(l instanceof ArrayBuffer||Gw(l))||Pw&&l instanceof Blob||Iw&&l instanceof File}function ho(l,n){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let s=0,r=l.length;s<r;s++)if(ho(l[s]))return!0;return!1}if(Kh(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return ho(l.toJSON(),!0);for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s)&&ho(l[s]))return!0;return!1}function Yw(l){const n=[],s=l.data,r=l;return r.data=jh(s,n),r.attachments=n.length,{packet:r,buffers:n}}function jh(l,n){if(!l)return l;if(Kh(l)){const s={_placeholder:!0,num:n.length};return n.push(l),s}else if(Array.isArray(l)){const s=new Array(l.length);for(let r=0;r<l.length;r++)s[r]=jh(l[r],n);return s}else if(typeof l=="object"&&!(l instanceof Date)){const s={};for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=jh(l[r],n));return s}return l}function Kw(l,n){return l.data=xh(l.data,n),delete l.attachments,l}function xh(l,n){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<n.length)return n[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let s=0;s<l.length;s++)l[s]=xh(l[s],n);else if(typeof l=="object")for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&(l[s]=xh(l[s],n));return l}const Xw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Jw=5;var Oe;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(Oe||(Oe={}));class Qw{constructor(n){this.replacer=n}encode(n){return(n.type===Oe.EVENT||n.type===Oe.ACK)&&ho(n)?this.encodeAsBinary({type:n.type===Oe.EVENT?Oe.BINARY_EVENT:Oe.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let s=""+n.type;return(n.type===Oe.BINARY_EVENT||n.type===Oe.BINARY_ACK)&&(s+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(s+=n.nsp+","),n.id!=null&&(s+=n.id),n.data!=null&&(s+=JSON.stringify(n.data,this.replacer)),s}encodeAsBinary(n){const s=Yw(n),r=this.encodeAsString(s.packet),u=s.buffers;return u.unshift(r),u}}function Om(l){return Object.prototype.toString.call(l)==="[object Object]"}class Xh extends dt{constructor(n){super(),this.reviver=n}add(n){let s;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(n);const r=s.type===Oe.BINARY_EVENT;r||s.type===Oe.BINARY_ACK?(s.type=r?Oe.EVENT:Oe.ACK,this.reconstructor=new Zw(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Kh(n)||n.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(n),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let s=0;const r={type:Number(n.charAt(0))};if(Oe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Oe.BINARY_EVENT||r.type===Oe.BINARY_ACK){const c=s+1;for(;n.charAt(++s)!=="-"&&s!=n.length;);const f=n.substring(c,s);if(f!=Number(f)||n.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(f)}if(n.charAt(s+1)==="/"){const c=s+1;for(;++s&&!(n.charAt(s)===","||s===n.length););r.nsp=n.substring(c,s)}else r.nsp="/";const u=n.charAt(s+1);if(u!==""&&Number(u)==u){const c=s+1;for(;++s;){const f=n.charAt(s);if(f==null||Number(f)!=f){--s;break}if(s===n.length)break}r.id=Number(n.substring(c,s+1))}if(n.charAt(++s)){const c=this.tryParse(n.substr(s));if(Xh.isPayloadValid(r.type,c))r.data=c;else throw new Error("invalid payload")}return r}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,s){switch(n){case Oe.CONNECT:return Om(s);case Oe.DISCONNECT:return s===void 0;case Oe.CONNECT_ERROR:return typeof s=="string"||Om(s);case Oe.EVENT:case Oe.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Xw.indexOf(s[0])===-1);case Oe.ACK:case Oe.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Zw{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const s=Kw(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Fw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Xh,Encoder:Qw,get PacketType(){return Oe},protocol:Jw},Symbol.toStringTag,{value:"Module"}));function En(l,n,s){return l.on(n,s),function(){l.off(n,s)}}const Ww=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class rv extends dt{constructor(n,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[En(n,"open",this.onopen.bind(this)),En(n,"packet",this.onpacket.bind(this)),En(n,"error",this.onerror.bind(this)),En(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...s){var r,u,c;if(Ww.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(s.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const f={type:Oe.EVENT,data:s};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const _=this.ids++,S=s.pop();this._registerAckCallback(_,S),f.id=_}const p=(u=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||u===void 0?void 0:u.writable,g=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!p||(g?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(n,s){var r;const u=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(u===void 0){this.acks[n]=s;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===n&&this.sendBuffer.splice(p,1);s.call(this,new Error("operation has timed out"))},u),f=(...p)=>{this.io.clearTimeoutFn(c),s.apply(this,p)};f.withError=!0,this.acks[n]=f}emitWithAck(n,...s){return new Promise((r,u)=>{const c=(f,p)=>f?u(f):r(p);c.withError=!0,s.push(c),this.emit(n,...s)})}_addToQueue(n){let s;typeof n[n.length-1]=="function"&&(s=n.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((u,...c)=>r!==this._queue[0]?void 0:(u!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(u)):(this._queue.shift(),s&&s(null,...c)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!n||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(r=>String(r.id)===n)){const r=this.acks[n];delete this.acks[n],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Oe.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Oe.EVENT:case Oe.BINARY_EVENT:this.onevent(n);break;case Oe.ACK:case Oe.BINARY_ACK:this.onack(n);break;case Oe.DISCONNECT:this.ondisconnect();break;case Oe.CONNECT_ERROR:this.destroy();const r=new Error(n.data.message);r.data=n.data.data,this.emitReserved("connect_error",r);break}}onevent(n){const s=n.data||[];n.id!=null&&s.push(this.ack(n.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const s=this;let r=!1;return function(...u){r||(r=!0,s.packet({type:Oe.ACK,id:n,data:u}))}}onack(n){const s=this.acks[n.id];typeof s=="function"&&(delete this.acks[n.id],s.withError&&n.data.unshift(null),s.apply(this,n.data))}onconnect(n,s){this.id=n,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(n===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(n===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,n.data)}}}function la(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}la.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*l);l=(Math.floor(n*10)&1)==0?l-s:l+s}return Math.min(l,this.max)|0};la.prototype.reset=function(){this.attempts=0};la.prototype.setMin=function(l){this.ms=l};la.prototype.setMax=function(l){this.max=l};la.prototype.setJitter=function(l){this.jitter=l};class Nh extends dt{constructor(n,s){var r;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(s=n,n=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Do(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new la({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=n;const u=s.parser||Fw;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var s;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(s=this.backoff)===null||s===void 0||s.setMin(n),this)}randomizationFactor(n){var s;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(s=this.backoff)===null||s===void 0||s.setJitter(n),this)}reconnectionDelayMax(n){var s;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(s=this.backoff)===null||s===void 0||s.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Hw(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const u=En(s,"open",function(){r.onopen(),n&&n()}),c=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),n?n(p):this.maybeReconnectOnOpen()},f=En(s,"error",c);if(this._timeout!==!1){const p=this._timeout,g=this.setTimeoutFn(()=>{u(),c(new Error("timeout")),s.close()},p);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(u),this.subs.push(f),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(En(n,"ping",this.onping.bind(this)),En(n,"data",this.ondata.bind(this)),En(n,"error",this.onerror.bind(this)),En(n,"close",this.onclose.bind(this)),En(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(s){this.onclose("parse error",s)}}ondecoded(n){No(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,s){let r=this.nsps[n];return r?this._autoConnect&&!r.active&&r.connect():(r=new rv(this,n,s),this.nsps[n]=r),r}_destroy(n){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(n){const s=this.encoder.encode(n);for(let r=0;r<s.length;r++)this.engine.write(s[r],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,s){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(u=>{u?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",u)):n.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const yr={};function fo(l,n){typeof l=="object"&&(n=l,l=void 0),n=n||{};const s=$w(l,n.path||"/socket.io"),r=s.source,u=s.id,c=s.path,f=yr[u]&&c in yr[u].nsps,p=n.forceNew||n["force new connection"]||n.multiplex===!1||f;let g;return p?g=new Nh(r,n):(yr[u]||(yr[u]=new Nh(r,n)),g=yr[u]),s.query&&!n.query&&(n.query=s.queryKey),g.socket(s.path,n)}Object.assign(fo,{Manager:Nh,Socket:rv,io:fo,connect:fo});const kt=[];for(let l=0;l<256;++l)kt.push((l+256).toString(16).slice(1));function eE(l,n=0){return(kt[l[n+0]]+kt[l[n+1]]+kt[l[n+2]]+kt[l[n+3]]+"-"+kt[l[n+4]]+kt[l[n+5]]+"-"+kt[l[n+6]]+kt[l[n+7]]+"-"+kt[l[n+8]]+kt[l[n+9]]+"-"+kt[l[n+10]]+kt[l[n+11]]+kt[l[n+12]]+kt[l[n+13]]+kt[l[n+14]]+kt[l[n+15]]).toLowerCase()}let uh;const tE=new Uint8Array(16);function nE(){if(!uh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");uh=crypto.getRandomValues.bind(crypto)}return uh(tE)}const iE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Rm={randomUUID:iE};function sE(l,n,s){l=l||{};const r=l.random??l.rng?.()??nE();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,eE(r)}function aE(l,n,s){return Rm.randomUUID&&!l?Rm.randomUUID():sE(l)}const so=()=>{const l="xy_poker_browser_id";let n=localStorage.getItem(l);if(!n||n.length<10){const s=aE();return localStorage.setItem(l,s),s}return n},lv="https://xy-poker.onrender.com";console.log("[Socket.IO] Connecting to:",lv);const oe=fo(lv,{autoConnect:!1,path:"/socket.io/",transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});oe.on("connect",()=>console.log("[Socket.IO] Connected! ID:",oe.id));oe.on("disconnect",l=>console.log("[Socket.IO] Disconnected. Reason:",l));oe.on("connect_error",l=>console.error("[Socket.IO] Connection error:",l));oe.on("reconnect_attempt",()=>console.log("[Socket.IO] Reconnecting..."));const rE=()=>{oe.connected||(console.log("[Socket.IO] Initiating connection..."),oe.connect())};function lE(l,n){const s=l.players[n],r=l.players[0],u=s.hand,c=s.board,f=s.dice,g=f.reduce((w,R)=>w+R,0)/5>=3.5,m=g?1.2:.8,_=g?.8:1.2,S=[];for(let w=0;w<5;w++)c[2][w]===null&&S.push(w);if(S.length===0)return{cardId:u[0]?.id||"",colIndex:0,isHidden:!1};S.sort(()=>Math.random()-.5);let v={cardId:u[0].id,colIndex:S[0],isHidden:!1},E=-1/0;for(const w of u)for(const R of S){const C=[c[0][R],c[1][R],c[2][R]],D=C.findIndex(Y=>Y===null);if(D===-1)continue;const H=[...C];H[D]=w;const U=f[R];let q=oE(H,R,U)*m;if(D===0&&(q+=120),U<=2&&(q*=.7,D===2&&r.board[2][R]===null&&(q+=100)),D===2){const Y=Ro();let G=uE(c,w,R)*Y.xHandFocus;q+=G*_}q+=cE(r,R),q+=Math.random()*5,q>E&&(E=q,v={cardId:w.id,colIndex:R,isHidden:!1})}return v.isHidden=hE(v,u,s,c,l.turnCount),v}function oE(l,n,s,r){const u=l.filter(G=>G!==null);if(u.length===0)return 0;const c=Ro();let f=0;const p=u.length,g=u.map(G=>G.rank),m=[...g].sort((G,P)=>G-P),_=m[m.length-1],S=g.reduce((G,P)=>G+P,0)/g.length;s>=4&&(_>=11?f+=50*s:_<=8&&p===1&&(f-=30*s));let v=!1,E=!1;if(p>=2){let G=!0;for(let P=1;P<m.length;P++)if(m[P]!==m[P-1]+1){G=!1;break}v=G,!v&&p===2&&m[1]===m[0]+2&&(E=!0)}const w=v&&s>=4?1.5:1,R=new Set(g),C=p===3&&R.size===1,D=p>=2&&R.size<p;C?f+=500*s*c.tripPreference:D&&(f+=200*s*c.tripPreference);const H=u.map(G=>G.suit),q=new Set(H).size===1&&p>=2;if(q){let G=150*s*c.flushPreference;p===3&&(G+=150),v&&s>=5&&(G*=1.3),f+=G}v?f+=180*s*c.straightPreference*w:E&&(f+=80*s);const Y=D||q||v||E;return p>=2&&!Y&&(m[m.length-1]-m[0]>4?f-=100*s:f-=20*s,m[0]<=8&&m[1]>=11&&(f-=150)),f+=S*2,f}function uE(l,n,s){const r=[...l[2]];r[s]=n;const u=r.filter(v=>v!==null);if(u.length<2)return 0;let c=0;const f=u.map(v=>v.rank),p=new Map;f.forEach(v=>p.set(v,(p.get(v)||0)+1));const g=Math.max(...p.values());g>=2&&(c+=g*60);const m=u.map(v=>v.suit);new Set(m).size===1&&u.length>=3&&(c+=100);const S=[...new Set(f)].sort((v,E)=>v-E);if(S.length>=3){let v=1,E=1;for(let w=1;w<S.length;w++)S[w]===S[w-1]+1?(E++,v=Math.max(v,E)):E=1;v>=3&&(c+=v*50)}return n.rank>=12&&(c+=80),c}function cE(l,n,s,r){const c=[l.board[0][n],l.board[1][n],l.board[2][n]].filter(S=>S!==null);if(c.length<2)return 0;const f=c.map(S=>S.rank),p=c.map(S=>S.suit);let g=0;return new Set(f).size===1&&(g+=30),new Set(p).size===1&&c.length>=2&&(g+=25),g}function hE(l,n,s,r,u){if(s.hiddenCardsCount>=3)return!1;let c=0;for(let v=0;v<3;v++){const E=r[v][l.colIndex];E&&E.isHidden&&c++}if(c>=2)return!1;const f=n.find(v=>v.id===l.cardId);if(!f)return!1;const p=Ro(),g=l.colIndex,m=s.dice[g],_=u<=8;let S=0;return f.rank>=11&&m>=4?S=.4:f.rank>=10&&(S=.25),_&&(S*=1.5),Math.random()<S*p.hidingStrategy/.3}const km=["Brave","Swift","Clever","Mighty","Silent","Noble","Fierce","Bold","Wise","Lucky","Wild","Sharp","Quick","Steady","Bright","Cool","Epic","Grand","Strong","Sleek"],Cm=["Tiger","Eagle","Dragon","Wolf","Phoenix","Falcon","Panther","Lion","Hawk","Bear","Fox","Shark","Viper","Raven","Cobra","Lynx","Puma","Cheetah","Jaguar","Orca"];function jm(){let l="";for(let n=0;n<50;n++){const s=km[Math.floor(Math.random()*km.length)],r=Cm[Math.floor(Math.random()*Cm.length)];let u=`${s}${r}`;if(u.length<=10){const c=10-u.length;if(c>=1&&Math.random()>.3){const f=Math.pow(10,c)-1;if(f>0){const p=Math.floor(Math.random()*(f+1));u+=p}}l=u;break}}return l||"Player"+Math.floor(Math.random()*9999)}function fE(){const[l,n]=Z.useReducer(j_,Ai),[s,r]=Z.useState(null),[u,c]=Z.useState(!1),[f,p]=Z.useState(!1),[g,m]=Z.useState(!1),[_,S]=Z.useState(!1),[v,E]=Z.useState(!1),[w,R]=Z.useState("local"),[C,D]=Z.useState(null),[H,U]=Z.useState(null),[q,Y]=Z.useState(!1),[G,P]=Z.useState(oe.connected),[he,ue]=Z.useState(!1),[fe,ge]=Z.useState(!1),[$e,xe]=Z.useState(!1),[it,st]=Z.useState(-1),[B,I]=Z.useState(null),[se,ce]=Z.useState(null),[_e,O]=Z.useState(!1),V=Z.useRef(null),[K,W]=Z.useState(null),[de,ve]=Z.useState(!1),[ke,vt]=Z.useState(60),Ze=Z.useRef(null),[Dt,rs]=Z.useState(()=>localStorage.getItem("xypoker_playerName_v2")||jm()),[xi,qt]=Z.useState("Player 2"),gn=Z.useRef(w),ls=Z.useRef(C),oa=10800*1e3,[Uo,ua]=Z.useState(!1),[Ni,ca]=Z.useState(()=>pa("xypoker_unlockedSkins","xypoker_skinUnlockTimes",["white"])),[Di,Cr]=Z.useState(()=>ga("xypoker_selectedSkin","white",Ni)),[ha,Ut]=Z.useState(()=>pa("xypoker_unlockedCardSkins","xypoker_cardUnlockTimes",["classic"])),[jr,fa]=Z.useState(()=>ga("xypoker_selectedCardSkin","classic",ha)),[os,us]=Z.useState(()=>pa("xypoker_unlockedBoardSkins","xypoker_boardUnlockTimes",["classic-green"])),[xr,da]=Z.useState(()=>ga("xypoker_selectedBoardSkin","classic-green",os));function pa(J,ae,Q){const Re=localStorage.getItem(J),Ye=localStorage.getItem(ae);let Ue=Re?JSON.parse(Re):Q,We=Ye?JSON.parse(Ye):{};const Pe=Date.now();let Te=!1,et=[],wt={...We};return Ue.forEach(Ve=>{if(Q.includes(Ve)){et.push(Ve);return}wt[Ve]||(wt[Ve]=Pe,Te=!0),Pe-wt[Ve]<oa?et.push(Ve):(console.log(`Skin expired: ${Ve}`),delete wt[Ve],Te=!0)}),Q.forEach(Ve=>{et.includes(Ve)||et.push(Ve)}),Te&&(localStorage.setItem(J,JSON.stringify(et)),localStorage.setItem(ae,JSON.stringify(wt))),et}function ga(J,ae,Q){const Re=localStorage.getItem(J);return Re&&Q.includes(Re)?Re:ae}const Ui=J=>{bt(J,Ni,ca,"xypoker_unlockedSkins","xypoker_skinUnlockTimes",Cr,"xypoker_selectedSkin")},Mt=J=>{bt(J,ha,Ut,"xypoker_unlockedCardSkins","xypoker_cardUnlockTimes",fa,"xypoker_selectedCardSkin")},Tn=J=>{bt(J,os,us,"xypoker_unlockedBoardSkins","xypoker_boardUnlockTimes",da,"xypoker_selectedBoardSkin")};function bt(J,ae,Q,Re,Ye,Ue,We){const Pe=Date.now(),Te=Array.from(new Set([...ae,J]));Q(Te),localStorage.setItem(Re,JSON.stringify(Te));const et=localStorage.getItem(Ye),Ve={...et?JSON.parse(et):{},[J]:Pe};localStorage.setItem(Ye,JSON.stringify(Ve)),Ue(J),localStorage.setItem(We,J)}const Mo=J=>{Cr(J),localStorage.setItem("xypoker_selectedSkin",J)},Bo=J=>{fa(J),localStorage.setItem("xypoker_selectedCardSkin",J)},zo=J=>{da(J),localStorage.setItem("xypoker_selectedBoardSkin",J)};Z.useEffect(()=>{gn.current=w},[w]),Z.useEffect(()=>{ls.current=C},[C]);const ei=Z.useRef(H);Z.useEffect(()=>{ei.current=H},[H]);const cs=Z.useRef(fe);Z.useEffect(()=>{cs.current=fe},[fe]);const St=Z.useRef(null);Z.useEffect(()=>{!fe&&St.current&&(clearTimeout(St.current),St.current=null)},[fe]),Z.useEffect(()=>{rE();const J=()=>P(!0),ae=()=>P(!1);return oe.on("connect",J),oe.on("disconnect",ae),oe.on("quick_match_joined",(Q={})=>{Q.rating&&I(Q.rating),ge(!0)}),oe.on("player_joined",({roomId:Q,role:Re})=>{D(Q),U(Re),Y(!0),R("online")}),oe.on("sync_state",Q=>{n({type:"SYNC_STATE",payload:Q}),Y(!0)}),oe.on("auto_start_game",()=>{console.log("Auto-starting Quick Match game"),ge(!1),Y(!0),_r(),n({type:"START_GAME"}),p(!0),ue(!1)}),oe.on("opponent_joined",({name:Q})=>{qt(Q),_r()}),oe.on("game_start",({roomId:Q,initialDice:Re,initialDeck:Ye,p1Name:Ue,p2Name:We,p1Id:Pe,p2Id:Te,isRanked:et})=>{D(Q),ge(!1),xe(!!et),Y(!0),_r(),oe.id===Pe?(U("host"),qt(We||"Player 2")):oe.id===Te&&(U("guest"),qt(Ue||"Player 1")),n({type:"START_GAME",payload:{initialDice:Re,initialDeck:Ye}}),p(!0),ue(!1)}),oe.on("player_data",Q=>{Q&&Q.rating&&I(Q.rating)}),oe.on("rating_update",Q=>{console.log("Rating updates received:",Q),ce(Q),ei.current==="host"?I(Q.p1.new):ei.current==="guest"&&I(Q.p2.new)}),oe.on("game_action",Q=>{n(Q)}),oe.on("game_end_surrender",({winner:Q})=>{gn.current!=="local"&&(console.log("[SURRENDER] Received game_end_surrender event, winner:",Q),setTimeout(()=>{console.log("[SURRENDER] Returning to lobby - resetting ALL state"),R(()=>"online"),D(()=>null),U(()=>null),Y(()=>!1),ge(()=>!1),qt(()=>"Player 2"),ce(null),n({type:"SYNC_STATE",payload:Ai}),console.log("[SURRENDER] State reset complete - should show lobby")},1e3))}),oe.on("player_left",()=>{if(gn.current==="local"){console.log("Ignored player_left event because we are in local mode");return}console.log("Opponent left the room"),R("online"),D(null),U(null),Y(!1),ge(!1),ce(null),n({type:"SYNC_STATE",payload:Ai})}),()=>{oe.off("connect",J),oe.off("disconnect",ae),oe.off("quick_match_joined"),oe.off("game_start"),oe.off("player_data"),oe.off("rating_update"),oe.off("player_joined"),oe.off("sync_state"),oe.off("auto_start_game"),oe.off("opponent_joined"),oe.off("game_action"),oe.off("game_end_surrender"),oe.off("player_left")}},[]),Z.useEffect(()=>{q&&H==="host"&&C&&oe.emit("sync_state",{roomId:C,state:l})},[l,q,H,C]),Z.useEffect(()=>{q&&$e&&H==="host"&&C&&l.phase==="ended"&&l.winner!==null&&oe.emit("report_game_end",{roomId:C,winner:l.winner,p1Score:l.players[0].score,p2Score:l.players[1].score})},[l.phase,l.winner,q,H,C]);const{currentPlayerIndex:Fe,players:An,phase:Ne}=l,Nr=An[Fe],hs=w==="online"&&!q&&!fe,ma=hs||w==="local"&&Ne==="setup",Mi=q&&H==="guest"?xi:Dt,qo=q&&H==="guest"?Dt:xi;Z.useEffect(()=>{if(w==="local"&&Ne==="playing"&&Fe===1){const J=_e?2e3+Math.random()*3e3:1e3,ae=setTimeout(()=>{const Q=lE(l,1);n({type:"PLACE_AND_DRAW",payload:{cardId:Q.cardId,colIndex:Q.colIndex,isHidden:Q.isHidden}}),ze()},J);return()=>clearTimeout(ae)}},[l,w,_e]),Z.useEffect(()=>{if(Ne==="ended"){let J=0;st(0);const{players:ae}=l,Q=ae[0],Re=ae[1],Ye=Q.dice,Ue=Bt=>Bt.replace(/([A-Z])/g," $1").trim().replace(/ Of /g," of ").replace(/ A /g," a "),We=Array.from({length:5},(Bt,Br)=>{const Ht=4-Br,fs=[Q.board[0][Ht],Q.board[1][Ht],Q.board[2][Ht]],mn=[Re.board[0][Ht],Re.board[1][Ht],Re.board[2][Ht]],gt=ki(fs,Ye[Ht]),Dn=ki(mn,Ye[Ht]);if(gt.rankValue>Dn.rankValue)return{winner:"p1",type:gt.type};if(Dn.rankValue>gt.rankValue)return{winner:"p2",type:Dn.type};for(let ds=0;ds<Math.max(gt.kickers.length,Dn.kickers.length);ds++){const ps=gt.kickers[ds]||0,Ta=Dn.kickers[ds]||0;if(ps>Ta)return{winner:"p1",type:gt.type};if(Ta>ps)return{winner:"p2",type:Dn.type}}return{winner:"draw",type:null}}),Pe=Ci(Q.board[2]),Te=Ci(Re.board[2]),et=`${C}-${l.winner}-${l.turnCount}`;if(V.current===et)return;V.current=et;const{p1Score:wt,p2Score:Ve}=po(Pe,Te);let Jt={winner:"draw",type:null};wt>Ve?Jt={winner:"p1",type:Pe.type}:Ve>wt&&(Jt={winner:"p2",type:Te.type});const wa=We[0];wa.winner!=="draw"&&wa.type&&Ig(Ue(wa.type)),ze();const Ea=setInterval(()=>{if(J++,J<=5){st(J),ze();let Bt=null;J<=4?Bt=We[J]:J===5&&(Bt=Jt),Bt&&Bt.winner!=="draw"&&Bt.type&&Ig(Ue(Bt.type))}else clearInterval(Ea),setTimeout(()=>{ue(!0)},1e3)},800);if(w==="local"){const{winner:Bt}=l;D_(Bt==="p2",Bt===null)}return()=>clearInterval(Ea)}else st(-1)},[Ne,w,l]),Z.useEffect(()=>{localStorage.setItem("xypoker_playerName_v2",Dt)},[Dt]),Z.useEffect(()=>{Oo.auth.getSession().then(({data:{session:ae}})=>{W(ae)});const{data:{subscription:J}}=Oo.auth.onAuthStateChange((ae,Q)=>{W(Q)});return()=>J.unsubscribe()},[]),Z.useEffect(()=>{if(G){const J=so(),ae=K?.user?.id;oe.emit("get_player_data",{browserId:J,userId:ae})}},[G,K]),Z.useEffect(()=>{w==="local"?_e||qt("AI"):w==="online"&&!q&&qt("Player 2")},[w,q,_e]),Z.useEffect(()=>{if(Ne!=="playing"||f)return;vt(60);const J=setInterval(()=>{vt(ae=>ae<=1?(clearInterval(J),Dr(),0):ae-1)},1e3);return Ze.current=J,()=>clearInterval(J)},[Fe,Ne,f]);const Dr=()=>{if(Ne!=="playing")return;let J=0;if(q&&(J=H==="host"?0:1),q&&Fe!==J){console.log("Timer expired for opponent - waiting for their move...");return}console.log("Timer expired - Auto-playing random move");const ae=l.players[Fe];if(ae.hand.length===0)return;const Q=Math.floor(Math.random()*ae.hand.length),Re=ae.hand[Q],Ye=[];for(let Pe=0;Pe<5;Pe++)(!ae.board[0][Pe]||!ae.board[1][Pe]||!ae.board[2][Pe])&&(ae.board[0][Pe]||Ye.push(Pe));if(Ye.length===0)return;const Ue=Ye[Math.floor(Math.random()*Ye.length)],We={type:"PLACE_AND_DRAW",payload:{cardId:Re.id,colIndex:Ue,isHidden:!1}};n(We),ze(),q&&C&&oe.emit("game_action",{roomId:C,action:We})},ya=()=>{ze(),w==="local"&&(O(!1),qt("AI")),n({type:"START_GAME"}),p(!0),ue(!1)},Ur=()=>{console.log("Quick Match Timeout: Starting Bot Match");const J=ls.current;J?(console.log(`Cancelling matchmaking for roomId: ${J}`),oe.emit("cancel_matchmaking",{roomId:J})):console.log("No roomId found to cancel matchmaking."),ge(!1),R("local"),D(null),U(null),Y(!1),qt(jm()),O(!0),n({type:"SYNC_STATE",payload:Ai}),setTimeout(()=>{_r(),n({type:"START_GAME"}),p(!0)},500)},va=()=>{const J=so(),ae=K?.user?.id;oe.emit("create_room",{playerName:Dt,browserId:J,userId:ae},Q=>{D(Q.roomId),U("host")})},_a=J=>{const ae=so(),Q=K?.user?.id;oe.emit("join_room",{roomId:J,playerName:Dt,browserId:ae,userId:Q},Re=>{Re.success?(D(J),U("guest"),Re.opponentName&&qt(Re.opponentName)):alert(Re.message)})},Mr=()=>{q?fe?(Lt(),setTimeout(()=>{ba()},100)):_||(oe.emit("request_rematch",{roomId:C}),S(!0)):ya()},ba=()=>{ge(!0),St.current&&clearTimeout(St.current),St.current=setTimeout(()=>{Ur()},15e3);const J=so(),ae=K?.user?.id;oe.emit("quick_match",{playerName:Dt,browserId:J,userId:ae},Q=>{Q.success?(D(Q.roomId),U(Q.role),Y(!0),Q.opponentName&&qt(Q.opponentName)):(ge(!1),St.current&&(clearTimeout(St.current),St.current=null))})},Lt=()=>{ze(),St.current&&(clearTimeout(St.current),St.current=null),oe.emit("cancel_matchmaking",{roomId:C}),D(null),U(null),ge(!1),Y(!1)},pt=()=>{ze(),window.confirm("Surrender? This will end the game.")&&(w==="local"?n({type:"SYNC_STATE",payload:Ai}):oe.emit("surrender",{roomId:C}))},jt=()=>{const{players:J}=l,ae=J[0],Q=J[1],Re=ae.dice;return Array.from({length:5},(Ye,Ue)=>{const We=[ae.board[0][Ue],ae.board[1][Ue],ae.board[2][Ue]],Pe=[Q.board[0][Ue],Q.board[1][Ue],Q.board[2][Ue]],Te=ki(We,Re[Ue]),et=ki(Pe,Re[Ue]);if(Te.rankValue>et.rankValue)return"p1";if(et.rankValue>Te.rankValue)return"p2";for(let wt=0;wt<Math.max(Te.kickers.length,et.kickers.length);wt++){const Ve=Te.kickers[wt]||0,Jt=et.kickers[wt]||0;if(Ve>Jt)return"p1";if(Jt>Ve)return"p2"}return"draw"})},ti=()=>{const{players:J}=l,ae=J[0],Q=J[1],Re=Ci(ae.board[2]),Ye=Ci(Q.board[2]),{p1Score:Ue,p2Score:We}=po(Re,Ye);return Ue>We?"p1":We>Ue?"p2":"draw"},Sa=J=>{let ae=0;q&&(ae=H==="host"?0:1),Fe===ae&&r(s===J?null:J)},Lo=J=>{if(Ne!=="playing"||!s)return;let ae=0;if(q&&(ae=H==="host"?0:1),Fe!==ae)return;const Q={type:"PLACE_AND_DRAW",payload:{cardId:s,colIndex:J,isHidden:u}};n(Q),q&&C&&oe.emit("game_action",{roomId:C,action:Q}),r(null),c(!1)};return b.jsxs("div",{className:`app ${hs?"view-lobby":"view-game"} phase-${Ne}`,children:[b.jsxs("header",{className:`app-header ${Ne==="playing"||Ne==="scoring"?"battle-mode":""}`,children:[b.jsxs("div",{className:"header-title-row",children:[b.jsx("h1",{children:"XY Poker"}),ma&&b.jsx("span",{className:"version",children:"12122237"})]}),!1,(w==="local"&&Ne==="setup"||w==="online"&&!q)&&b.jsxs("div",{className:"mode-switch",children:[b.jsx("button",{className:w==="local"?"active":"",onClick:()=>{ze(),R("local"),Y(!1),D(null),U(null),O(!1),qt("AI"),n({type:"SYNC_STATE",payload:Ai})},children:"Local (vs AI)"}),b.jsx("button",{className:w==="online"?"active":"",onClick:()=>{ze(),R("online")},children:"Online"})]})]}),!f&&Ne!=="setup"&&b.jsx(q_,{gameState:l,isOnlineMode:w==="online",playerRole:H,playerName:Dt,opponentName:xi,onSurrender:pt}),!f&&b.jsx(b.Fragment,{children:w==="online"&&fe?b.jsx("div",{className:"setup-screen",children:b.jsxs("div",{className:"waiting-message",children:[b.jsx("h3",{children:" Quick Match"}),b.jsx("h2",{children:"Waiting for opponent..."}),b.jsx("div",{className:"loading-spinner"}),b.jsx("p",{children:"Your game will start automatically when an opponent joins"}),b.jsx("button",{className:"btn-cancel",onClick:Lt,children:"Cancel"})]})}):hs?b.jsx(H_,{onCreateRoom:va,onJoinRoom:_a,onQuickMatch:ba,onCancelMatchmaking:Lt,roomId:C,isConnected:G,playerRole:H,playerName:Dt,onPlayerNameChange:rs,rating:B,onShowRules:()=>{ze(),m(!0)}}):b.jsxs(b.Fragment,{children:[b.jsx(rw,{isOpen:de,onClose:()=>ve(!1),onSuccess:()=>ve(!1)}),b.jsx(P_,{isOpen:Uo,onClose:()=>ua(!1),unlockedSkins:Ni,selectedSkin:Di,onUnlock:Ui,onSelect:Mo,unlockedCardSkins:ha,selectedCardSkin:jr,onUnlockCard:Mt,onSelectCard:Bo,unlockedBoardSkins:os,selectedBoardSkin:xr,onUnlockBoard:Tn,onSelectBoard:zo}),!f&&Ne==="playing"&&b.jsx(K_,{timeLeft:ke,totalTime:60,currentPlayerIndex:Fe,isMyTurn:!q||H==="host"&&Fe===0||H==="guest"&&Fe===1}),b.jsxs("main",{className:"game-board",children:[Ne==="setup"&&b.jsx("div",{className:"setup-screen",children:fe?b.jsxs("div",{className:"waiting-message",children:[b.jsx("h3",{children:" Quick Match"}),b.jsx("h2",{children:"Waiting for opponent..."}),b.jsx("div",{className:"loading-spinner"}),b.jsx("p",{children:"Your game will start automatically when an opponent joins"}),b.jsx("button",{className:"btn-cancel",onClick:Lt,children:"Cancel"})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"logo-area",children:[b.jsx("h1",{children:"XY Poker"}),b.jsx("p",{children:"Strategic Card & Dice Battle"})]}),b.jsxs("div",{className:"setup-actions",children:[b.jsx("button",{className:"btn-primary",onClick:ya,children:"Start Game"}),b.jsx("button",{className:"btn-secondary",style:{marginTop:"1rem",padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{ze(),ua(!0)},children:" Skin Shop"}),b.jsx("button",{className:"btn-secondary",style:{marginTop:"1rem",marginLeft:"10px",padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>{ze(),m(!0)},children:" Rules"})]})]})}),(Ne==="playing"||Ne==="scoring"||Ne==="ended")&&b.jsx("div",{className:"play-area",children:b.jsx(B_,{playerBoard:An[q&&H==="guest"?1:0].board,opponentBoard:An[q&&H==="guest"?0:1].board,dice:An[Fe].dice,onColumnClick:Lo,isCurrentPlayer:Fe===(q&&H==="guest"?1:0),revealAll:Ne==="ended",winningColumns:Ne==="ended"?jt():void 0,xWinner:Ne==="ended"?ti():void 0,bottomPlayerId:q&&H==="guest"?"p2":"p1",selectedSkin:Di,selectedCardSkin:jr,selectedBoardSkin:xr,scoringStep:it})})]}),b.jsxs("footer",{className:"controls",children:[Ne==="playing"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"hand-container",children:b.jsx(z_,{hand:An[q&&H==="guest"?1:0].hand,selectedCardId:s,onCardSelect:Sa,isHidden:!1,isCurrentPlayer:Fe===(q&&H==="guest"?1:0)})}),Fe===(q&&H==="guest"?1:0)&&b.jsx("div",{className:"action-bar",children:b.jsx("div",{className:"place-controls",children:b.jsxs("label",{className:"toggle-hidden",children:[b.jsx("input",{type:"checkbox",checked:u,onChange:J=>c(J.target.checked),disabled:!s||Nr.hiddenCardsCount>=3}),"Place Face Down (",3-Nr.hiddenCardsCount," left)"]})})})]}),Ne==="scoring"&&b.jsx("button",{className:"btn-primary",onClick:()=>n({type:"CALCULATE_SCORE"}),children:"Reveal & Calculate Scores"}),Ne==="ended"&&!he&&b.jsxs("div",{className:"end-game-controls",style:{display:"flex",gap:"10px"},children:[b.jsx("button",{className:"btn-primary",onClick:()=>ue(!0),children:"Show Results"}),b.jsx("button",{className:"btn-secondary",onClick:()=>{ze(),R("online"),D(null),U(null),Y(!1),ge(!1),ce(null),n({type:"SYNC_STATE",payload:Ai})},children:"Back to Lobby"})]}),Ne==="ended"&&he&&b.jsx(L_,{gameState:l,onRestart:Mr,onClose:()=>{q?Lt():R("online"),ue(!1),st(-1)},onViewBoard:()=>ue(!1),p1Name:Mi,p2Name:qo,ratingUpdates:se})]})]})}),f&&b.jsx(I_,{targetValues:l.players[Fe].dice,onComplete:()=>p(!1),selectedSkin:Di}),g&&b.jsx(Y_,{onClose:()=>{ze(),m(!1)}}),v&&b.jsx("div",{className:"modal-overlay",children:b.jsxs("div",{className:"modal-content",children:[b.jsx("h3",{children:"Rematch Request"}),b.jsx("p",{children:"Opponent wants to play again."}),b.jsxs("div",{className:"modal-actions",children:[b.jsx("button",{className:"btn-secondary",onClick:()=>{E(!1)},children:"Cancel"}),b.jsx("button",{className:"btn-primary",onClick:()=>{oe.emit("accept_rematch",{roomId:C})},children:"OK"})]})]})}),_&&!v&&b.jsx("div",{style:{position:"fixed",top:"100px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.8)",padding:"10px 20px",borderRadius:"20px",color:"white",zIndex:3e3},children:"Waiting for opponent..."})]})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(l){for(let n of l)n.unregister()});A_.createRoot(document.getElementById("root")).render(b.jsx(Z.StrictMode,{children:b.jsx(fE,{})}));
